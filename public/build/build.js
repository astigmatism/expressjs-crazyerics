!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.BrowserFS=t()}}(function(){var t;return function t(e,n,i){function o(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return o(n||t)},l,l.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,n,i){!function(){function e(){}function i(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(this,arguments)}}function o(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function r(t){return z(t)||"number"==typeof t.length&&t.length>=0&&t.length%1==0}function s(t,e){return r(t)?a(t,e):h(t,e)}function a(t,e){for(var n=-1,i=t.length;++n<i;)e(t[n],n,t)}function u(t,e){for(var n=-1,i=t.length,o=Array(i);++n<i;)o[n]=e(t[n],n,t);return o}function c(t){return u(Array(t),function(t,e){return e})}function l(t,e,n){return a(t,function(t,i,o){n=e(n,t,i,o)}),n}function h(t,e){a($(t),function(n){e(t[n],n)})}function f(t){var e,n,i=-1;return r(t)?(e=t.length,function(){return i++,e>i?i:null}):(n=$(t),e=n.length,function(){return i++,e>i?n[i]:null})}function d(t,e){e=e||0;var n=-1,i=t.length;e&&(i-=e,i=0>i?0:i);for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}function p(t){return function(e,n,i){return t(e,i)}}function g(t){return function(n,r,s){s=o(s||e),n=n||[];var a=f(n);if(0>=t)return s(null);var u=!1,c=0,l=!1;!function e(){if(u&&0>=c)return s(null);for(;t>c&&!l;){var o=a();if(null===o)return u=!0,void(0>=c&&s(null));c+=1,r(n[o],o,i(function(t){c-=1,t?(s(t),l=!0):e()}))}}()}}function m(t){return function(e,n,i){return t(P.eachOf,e,n,i)}}function y(t,e){return function(n,i,o){return e(g(t),n,i,o)}}function _(t){return function(e,n,i){return t(P.eachOfSeries,e,n,i)}}function v(t,n,i,r){r=o(r||e);var s=[];t(n,function(t,e,n){i(t,function(t,i){s[e]=i,n(t)})},function(t){r(t,s)})}function w(t){return y(t,v)}function b(t,e,n,i){var o=[];e=u(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e,i){n(t.value,function(e){e&&o.push(t),i()})},function(){i(u(o.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})}function S(t,e,n,i){var o=[];e=u(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e,i){n(t.value,function(e){e||o.push(t),i()})},function(){i(u(o.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})}function E(t,n,i,o){t(n,function(t,n,r){i(t,function(n){n?(o(t),o=e):r()})},function(){o()})}function I(t,n,i){i=i||e;var o=r(n)?[]:{};t(n,function(t,e,n){t(function(t){var i=d(arguments,1);i.length<=1&&(i=i[0]),o[e]=i,n(t)})},function(t){i(t,o)})}function k(t,e,n,i){var o=[];t(e,function(t,e,i){n(t,function(t,e){o=o.concat(e||[]),i(t)})},function(t){i(t,o)})}function x(t,n,o){function r(t,n,i,o){if(null!=o&&"function"!=typeof o)throw new Error("task callback must be a function");return t.started=!0,z(n)||(n=[n]),0===n.length&&t.idle()?P.setImmediate(function(){t.drain()}):(a(n,function(n){var r={data:n,callback:o||e};i?t.tasks.unshift(r):t.tasks.push(r),t.tasks.length===t.concurrency&&t.saturated()}),void P.setImmediate(t.process))}function s(t,e){return function(){c-=1;var n=arguments;a(e,function(t){t.callback.apply(t,n)}),t.tasks.length+c===0&&t.drain(),t.process()}}if(null==n)n=1;else if(0===n)throw new Error("Concurrency must not be zero");var c=0,l={tasks:[],concurrency:n,saturated:e,empty:e,drain:e,started:!1,paused:!1,push:function(t,e){r(l,t,!1,e)},kill:function(){l.drain=e,l.tasks=[]},unshift:function(t,e){r(l,t,!0,e)},process:function(){if(!l.paused&&c<l.concurrency&&l.tasks.length)for(;c<l.concurrency&&l.tasks.length;){var e=o?l.tasks.splice(0,o):l.tasks.splice(0,l.tasks.length),n=u(e,function(t){return t.data});0===l.tasks.length&&l.empty(),c+=1;var r=i(s(l,e));t(n,r)}},length:function(){return l.tasks.length},running:function(){return c},idle:function(){return l.tasks.length+c===0},pause:function(){l.paused=!0},resume:function(){if(!1!==l.paused){l.paused=!1;for(var t=Math.min(l.concurrency,l.tasks.length),e=1;t>=e;e++)P.setImmediate(l.process)}}};return l}function C(t){return function(e){var n=d(arguments,1);e.apply(null,n.concat([function(e){var n=d(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&a(n,function(e){console[t](e)}))}]))}}function O(t){return function(e,n,i){t(c(e),n,i)}}function T(t,e){function n(){var n=this,i=d(arguments),o=i.pop();return t(e,function(t,e,o){t.apply(n,i.concat([o]))},o)}if(arguments.length>2){var i=d(arguments,2);return n.apply(this,i)}return n}function F(t){return function(){var e=d(arguments),n=e.pop();e.push(function(){var t=arguments;i?P.setImmediate(function(){n.apply(null,t)}):n.apply(null,t)});var i=!0;t.apply(this,e),i=!1}}var A,D,P={};A="object"==typeof window&&this===window?window:"object"==typeof global&&this===global?global:this,null!=A&&(D=A.async),P.noConflict=function(){return A.async=D,P};var L,N=Object.prototype.toString,z=Array.isArray||function(t){return"[object Array]"===N.call(t)},$=Object.keys||function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};"function"==typeof setImmediate&&(L=setImmediate),"undefined"!=typeof process&&process.nextTick?(P.nextTick=process.nextTick,P.setImmediate=L?function(t){L(t)}:P.nextTick):L?(P.nextTick=function(t){L(t)},P.setImmediate=P.nextTick):(P.nextTick=function(t){setTimeout(t,0)},P.setImmediate=P.nextTick),P.forEach=P.each=function(t,e,n){return P.eachOf(t,p(e),n)},P.forEachSeries=P.eachSeries=function(t,e,n){return P.eachOfSeries(t,p(e),n)},P.forEachLimit=P.eachLimit=function(t,e,n,i){return g(e)(t,p(n),i)},P.forEachOf=P.eachOf=function(t,n,a){function u(t){t?a(t):(l+=1)>=c&&a(null)}a=o(a||e),t=t||[];var c=r(t)?t.length:$(t).length,l=0;return c?void s(t,function(e,o){n(t[o],o,i(u))}):a(null)},P.forEachOfSeries=P.eachOfSeries=function(t,n,r){function s(){var e=!0;return null===u?r(null):(n(t[u],u,i(function(t){if(t)r(t);else{if(null===(u=a()))return r(null);e?P.nextTick(s):s()}})),void(e=!1))}r=o(r||e),t=t||[];var a=f(t),u=a();s()},P.forEachOfLimit=P.eachOfLimit=function(t,e,n,i){g(e)(t,n,i)},P.map=m(v),P.mapSeries=_(v),P.mapLimit=function(t,e,n,i){return w(e)(t,n,i)},P.inject=P.foldl=P.reduce=function(t,e,n,i){P.eachOfSeries(t,function(t,i,o){n(e,t,function(t,n){e=n,o(t)})},function(t){i(t||null,e)})},P.foldr=P.reduceRight=function(t,e,n,i){var o=u(t,function(t){return t}).reverse();P.reduce(o,e,n,i)},P.select=P.filter=m(b),P.selectSeries=P.filterSeries=_(b),P.reject=m(S),P.rejectSeries=_(S),P.detect=m(E),P.detectSeries=_(E),P.any=P.some=function(t,n,i){P.eachOf(t,function(t,o,r){n(t,function(t){t&&(i(!0),i=e),r()})},function(){i(!1)})},P.all=P.every=function(t,n,i){P.eachOf(t,function(t,o,r){n(t,function(t){t||(i(!1),i=e),r()})},function(){i(!0)})},P.sortBy=function(t,e,n){function i(t,e){var n=t.criteria,i=e.criteria;return i>n?-1:n>i?1:0}P.map(t,function(t,n){e(t,function(e,i){e?n(e):n(null,{value:t,criteria:i})})},function(t,e){return t?n(t):void n(null,u(e.sort(i),function(t){return t.value}))})},P.auto=function(t,n){function i(t){f.unshift(t)}function r(t){for(var e=0;e<f.length;e+=1)if(f[e]===t)return void f.splice(e,1)}function s(){c--,a(f.slice(0),function(t){t()})}n=o(n||e);var u=$(t),c=u.length;if(!c)return n(null);var h={},f=[];i(function(){c||n(null,h)}),a(u,function(e){function o(t){var i=d(arguments,1);if(i.length<=1&&(i=i[0]),t){var o={};a($(h),function(t){o[t]=h[t]}),o[e]=i,n(t,o)}else h[e]=i,P.setImmediate(s)}function u(){return l(g,function(t,e){return t&&h.hasOwnProperty(e)},!0)&&!h.hasOwnProperty(e)}function c(){u()&&(r(c),p[p.length-1](o,h))}for(var f,p=z(t[e])?t[e]:[t[e]],g=p.slice(0,Math.abs(p.length-1))||[],m=g.length;m--;){if(!(f=t[g[m]]))throw new Error("Has inexistant dependency");if(z(f)&&~f.indexOf(e))throw new Error("Has cyclic dependencies")}u()?p[p.length-1](o,h):i(c)})},P.retry=function(t,e,n){function i(i,r){for(;t;)o.push(function(t,e){return function(n){t(function(t,i){n(!t||e,{err:t,result:i})},r)}}(e,!(t-=1)));P.series(o,function(t,e){e=e[e.length-1],(i||n)(e.err,e.result)})}var o=[];return"function"==typeof t&&(n=e,e=t,t=5),t=parseInt(t,10)||5,n?i():i},P.waterfall=function(t,n){function i(t){return function(e){if(e)n.apply(null,arguments);else{var o=d(arguments,1),r=t.next();r?o.push(i(r)):o.push(n),F(t).apply(null,o)}}}if(n=o(n||e),!z(t)){var r=new Error("First argument to waterfall must be an array of functions");return n(r)}return t.length?void i(P.iterator(t))():n()},P.parallel=function(t,e){I(P.eachOf,t,e)},P.parallelLimit=function(t,e,n){I(g(e),t,n)},P.series=function(t,n){n=n||e;var i=r(t)?[]:{};P.eachOfSeries(t,function(t,e,n){t(function(t){var o=d(arguments,1);o.length<=1&&(o=o[0]),i[e]=o,n(t)})},function(t){n(t,i)})},P.iterator=function(t){function e(n){function i(){return t.length&&t[n].apply(null,arguments),i.next()}return i.next=function(){return n<t.length-1?e(n+1):null},i}return e(0)},P.apply=function(t){var e=d(arguments,1);return function(){return t.apply(null,e.concat(d(arguments)))}},P.concat=m(k),P.concatSeries=_(k),P.whilst=function(t,e,n){t()?e(function(i){return i?n(i):void P.whilst(t,e,n)}):n(null)},P.doWhilst=function(t,e,n){t(function(i){if(i)return n(i);var o=d(arguments,1);e.apply(null,o)?P.doWhilst(t,e,n):n(null)})},P.until=function(t,e,n){t()?n(null):e(function(i){return i?n(i):void P.until(t,e,n)})},P.doUntil=function(t,e,n){t(function(i){if(i)return n(i);var o=d(arguments,1);e.apply(null,o)?n(null):P.doUntil(t,e,n)})},P.queue=function(t,e){return x(function(e,n){t(e[0],n)},e,1)},P.priorityQueue=function(t,n){function i(t,e){return t.priority-e.priority}function o(t,e,n){for(var i=-1,o=t.length-1;o>i;){var r=i+(o-i+1>>>1);n(e,t[r])>=0?i=r:o=r-1}return i}function r(t,n,r,s){if(null!=s&&"function"!=typeof s)throw new Error("task callback must be a function");return t.started=!0,z(n)||(n=[n]),0===n.length?P.setImmediate(function(){t.drain()}):void a(n,function(n){var a={data:n,priority:r,callback:"function"==typeof s?s:e};t.tasks.splice(o(t.tasks,a,i)+1,0,a),t.tasks.length===t.concurrency&&t.saturated(),P.setImmediate(t.process)})}var s=P.queue(t,n);return s.push=function(t,e,n){r(s,t,e,n)},delete s.unshift,s},P.cargo=function(t,e){return x(t,1,e)},P.log=C("log"),P.dir=C("dir"),P.memoize=function(t,e){function n(){var n=d(arguments),r=n.pop(),s=e.apply(null,n);s in i?P.nextTick(function(){r.apply(null,i[s])}):s in o?o[s].push(r):(o[s]=[r],t.apply(null,n.concat([function(){i[s]=d(arguments);var t=o[s];delete o[s];for(var e=0,n=t.length;n>e;e++)t[e].apply(null,arguments)}])))}var i={},o={};return e=e||function(t){return t},n.memo=i,n.unmemoized=t,n},P.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},P.times=O(P.map),P.timesSeries=O(P.mapSeries),P.timesLimit=function(t,e,n,i){return P.mapLimit(c(t),e,n,i)},P.seq=function(){var t=arguments;return function(){var n=this,i=d(arguments),o=i.slice(-1)[0];"function"==typeof o?i.pop():o=e,P.reduce(t,i,function(t,e,i){e.apply(n,t.concat([function(){var t=arguments[0],e=d(arguments,1);i(t,e)}]))},function(t,e){o.apply(n,[t].concat(e))})}},P.compose=function(){return P.seq.apply(null,Array.prototype.reverse.call(arguments))},P.applyEach=function(){var t=d(arguments);return T.apply(null,[P.eachOf].concat(t))},P.applyEachSeries=function(){var t=d(arguments);return T.apply(null,[P.eachOfSeries].concat(t))},P.forever=function(t,n){function o(t){return t?r(t):void s(o)}var r=i(n||e),s=F(t);o()},P.ensureAsync=F,void 0!==n&&n.exports?n.exports=P:void 0!==t&&t.amd?t([],function(){return P}):A.async=P}()},{}],2:[function(e,n,i){!function(e){if("object"==typeof i&&void 0!==n)n.exports=e();else if("function"==typeof t&&t.amd)t([],e);else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,o.pako=e()}}(function(){return function t(n,i,o){function r(a,u){if(!i[a]){if(!n[a]){var c="function"==typeof e&&e;if(!u&&c)return c(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var h=i[a]={exports:{}};n[a][0].call(h.exports,function(t){var e=n[a][1][t];return r(e||t)},h,h.exports,t,n,i,o)}return i[a].exports}for(var s="function"==typeof e&&e,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,i,o){if(e.subarray&&t.subarray)return void t.set(e.subarray(n,n+i),o);for(var r=0;i>r;r++)t[o+r]=e[n+r]},flattenChunks:function(t){var e,n,i,o,r,s;for(i=0,e=0,n=t.length;n>e;e++)i+=t[e].length;for(s=new Uint8Array(i),o=0,e=0,n=t.length;n>e;e++)r=t[e],s.set(r,o),o+=r.length;return s}},r={arraySet:function(t,e,n,i,o){for(var r=0;i>r;r++)t[o+r]=e[n+r]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,r))},n.setTyped(i)},{}],2:[function(t,e,n){"use strict";function i(t,e){if(65537>e&&(t.subarray&&s||!t.subarray&&r))return String.fromCharCode.apply(null,o.shrinkBuf(t,e));for(var n="",i=0;e>i;i++)n+=String.fromCharCode(t[i]);return n}var o=t("./common"),r=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var a=new o.Buf8(256),u=0;256>u;u++)a[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;a[254]=a[254]=1,n.string2buf=function(t){var e,n,i,r,s,a=t.length,u=0;for(r=0;a>r;r++)n=t.charCodeAt(r),55296==(64512&n)&&a>r+1&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),u+=128>n?1:2048>n?2:65536>n?3:4;for(e=new o.Buf8(u),s=0,r=0;u>s;r++)n=t.charCodeAt(r),55296==(64512&n)&&a>r+1&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),128>n?e[s++]=n:2048>n?(e[s++]=192|n>>>6,e[s++]=128|63&n):65536>n?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|63&n):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|63&n);return e},n.buf2binstring=function(t){return i(t,t.length)},n.binstring2buf=function(t){for(var e=new o.Buf8(t.length),n=0,i=e.length;i>n;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,o,r,s,u=e||t.length,c=new Array(2*u);for(o=0,n=0;u>n;)if(128>(r=t[n++]))c[o++]=r;else if((s=a[r])>4)c[o++]=65533,n+=s-1;else{for(r&=2===s?31:3===s?15:7;s>1&&u>n;)r=r<<6|63&t[n++],s--;s>1?c[o++]=65533:65536>r?c[o++]=r:(r-=65536,c[o++]=55296|r>>10&1023,c[o++]=56320|1023&r)}return i(c,o)},n.utf8border=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return 0>n?e:0===n?e:n+a[t[n]]>e?n:e}},{"./common":1}],3:[function(t,e,n){"use strict";function i(t,e,n,i){for(var o=65535&t|0,r=t>>>16&65535|0,s=0;0!==n;){s=n>2e3?2e3:n,n-=s;do{o=o+e[i++]|0,r=r+o|0}while(--s);o%=65521,r%=65521}return o|r<<16|0}e.exports=i},{}],4:[function(t,e,n){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],5:[function(t,e,n){"use strict";function i(t,e,n,i){var r=o,s=i+n;t^=-1;for(var a=i;s>a;a++)t=t>>>8^r[255&(t^e[a])];return-1^t}var o=function(){for(var t,e=[],n=0;256>n;n++){t=n;for(var i=0;8>i;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=i},{}],6:[function(t,e,n){"use strict";function i(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=i},{}],7:[function(t,e,n){"use strict";e.exports=function(t,e){var n,i,o,r,s,a,u,c,l,h,f,d,p,g,m,y,_,v,w,b,S,E,I,k,x;n=t.state,i=t.next_in,k=t.input,o=i+(t.avail_in-5),r=t.next_out,x=t.output,s=r-(e-t.avail_out),a=r+(t.avail_out-257),u=n.dmax,c=n.wsize,l=n.whave,h=n.wnext,f=n.window,d=n.hold,p=n.bits,g=n.lencode,m=n.distcode,y=(1<<n.lenbits)-1,_=(1<<n.distbits)-1;t:do{15>p&&(d+=k[i++]<<p,p+=8,d+=k[i++]<<p,p+=8),v=g[d&y];e:for(;;){if(w=v>>>24,d>>>=w,p-=w,0===(w=v>>>16&255))x[r++]=65535&v;else{if(!(16&w)){if(0==(64&w)){v=g[(65535&v)+(d&(1<<w)-1)];continue e}if(32&w){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}b=65535&v,w&=15,w&&(w>p&&(d+=k[i++]<<p,p+=8),b+=d&(1<<w)-1,d>>>=w,p-=w),15>p&&(d+=k[i++]<<p,p+=8,d+=k[i++]<<p,p+=8),v=m[d&_];n:for(;;){if(w=v>>>24,d>>>=w,p-=w,!(16&(w=v>>>16&255))){if(0==(64&w)){v=m[(65535&v)+(d&(1<<w)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(S=65535&v,w&=15,w>p&&(d+=k[i++]<<p,p+=8,w>p&&(d+=k[i++]<<p,p+=8)),(S+=d&(1<<w)-1)>u){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=w,p-=w,w=r-s,S>w){if((w=S-w)>l&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(E=0,I=f,0===h){if(E+=c-w,b>w){b-=w;do{x[r++]=f[E++]}while(--w);E=r-S,I=x}}else if(w>h){if(E+=c+h-w,w-=h,b>w){b-=w;do{x[r++]=f[E++]}while(--w);if(E=0,b>h){w=h,b-=w;do{x[r++]=f[E++]}while(--w);E=r-S,I=x}}}else if(E+=h-w,b>w){b-=w;do{x[r++]=f[E++]}while(--w);E=r-S,I=x}for(;b>2;)x[r++]=I[E++],x[r++]=I[E++],x[r++]=I[E++],b-=3;b&&(x[r++]=I[E++],b>1&&(x[r++]=I[E++]))}else{E=r-S;do{x[r++]=x[E++],x[r++]=x[E++],x[r++]=x[E++],b-=3}while(b>2);b&&(x[r++]=x[E++],b>1&&(x[r++]=x[E++]))}break}}break}}while(o>i&&a>r);b=p>>3,i-=b,p-=b<<3,d&=(1<<p)-1,t.next_in=i,t.next_out=r,t.avail_in=o>i?o-i+5:5-(i-o),t.avail_out=a>r?a-r+257:257-(r-a),n.hold=d,n.bits=p}},{}],8:[function(t,e,n){"use strict";function i(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function o(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new y.Buf16(320),this.work=new y.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function r(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=z,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new y.Buf32(pt),e.distcode=e.distdyn=new y.Buf32(gt),e.sane=1,e.back=-1,O):A}function s(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,r(t)):A}function a(t,e){var n,i;return t&&t.state?(i=t.state,0>e?(n=0,e=-e):(n=1+(e>>4),48>e&&(e&=15)),e&&(8>e||e>15)?A:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,s(t))):A}function u(t,e){var n,i;return t?(i=new o,t.state=i,i.window=null,n=a(t,e),n!==O&&(t.state=null),n):A}function c(t){return u(t,mt)}function l(t){if(yt){var e;for(g=new y.Buf32(512),m=new y.Buf32(32),e=0;144>e;)t.lens[e++]=8;for(;256>e;)t.lens[e++]=9;for(;280>e;)t.lens[e++]=7;for(;288>e;)t.lens[e++]=8;for(b(E,t.lens,0,288,g,0,t.work,{bits:9}),e=0;32>e;)t.lens[e++]=5;b(I,t.lens,0,32,m,0,t.work,{bits:5}),yt=!1}t.lencode=g,t.lenbits=9,t.distcode=m,t.distbits=5}function h(t,e,n,i){var o,r=t.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new y.Buf8(r.wsize)),i>=r.wsize?(y.arraySet(r.window,e,n-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):(o=r.wsize-r.wnext,o>i&&(o=i),y.arraySet(r.window,e,n-i,o,r.wnext),i-=o,i?(y.arraySet(r.window,e,n-i,i,0),r.wnext=i,r.whave=r.wsize):(r.wnext+=o,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=o))),0}function f(t,e){var n,o,r,s,a,u,c,f,d,p,g,m,pt,gt,mt,yt,_t,vt,wt,bt,St,Et,It,kt,xt=0,Ct=new y.Buf8(4),Ot=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return A;n=t.state,n.mode===Z&&(n.mode=G),a=t.next_out,r=t.output,c=t.avail_out,s=t.next_in,o=t.input,u=t.avail_in,f=n.hold,d=n.bits,p=u,g=c,Et=O;t:for(;;)switch(n.mode){case z:if(0===n.wrap){n.mode=G;break}for(;16>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}if(2&n.wrap&&35615===f){n.check=0,Ct[0]=255&f,Ct[1]=f>>>8&255,n.check=v(n.check,Ct,2,0),f=0,d=0,n.mode=$;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&f)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=ht;break}if((15&f)!==N){t.msg="unknown compression method",n.mode=ht;break}if(f>>>=4,d-=4,St=8+(15&f),0===n.wbits)n.wbits=St;else if(St>n.wbits){t.msg="invalid window size",n.mode=ht;break}n.dmax=1<<St,t.adler=n.check=1,n.mode=512&f?q:Z,f=0,d=0;break;case $:for(;16>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}if(n.flags=f,(255&n.flags)!==N){t.msg="unknown compression method",n.mode=ht;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=ht;break}n.head&&(n.head.text=f>>8&1),512&n.flags&&(Ct[0]=255&f,Ct[1]=f>>>8&255,n.check=v(n.check,Ct,2,0)),f=0,d=0,n.mode=R;case R:for(;32>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}n.head&&(n.head.time=f),512&n.flags&&(Ct[0]=255&f,Ct[1]=f>>>8&255,Ct[2]=f>>>16&255,Ct[3]=f>>>24&255,n.check=v(n.check,Ct,4,0)),f=0,d=0,n.mode=B;case B:for(;16>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}n.head&&(n.head.xflags=255&f,n.head.os=f>>8),512&n.flags&&(Ct[0]=255&f,Ct[1]=f>>>8&255,n.check=v(n.check,Ct,2,0)),f=0,d=0,n.mode=M;case M:if(1024&n.flags){for(;16>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}n.length=f,n.head&&(n.head.extra_len=f),512&n.flags&&(Ct[0]=255&f,Ct[1]=f>>>8&255,n.check=v(n.check,Ct,2,0)),f=0,d=0}else n.head&&(n.head.extra=null);n.mode=U;case U:if(1024&n.flags&&(m=n.length,m>u&&(m=u),m&&(n.head&&(St=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),y.arraySet(n.head.extra,o,s,m,St)),512&n.flags&&(n.check=v(n.check,o,m,s)),u-=m,s+=m,n.length-=m),n.length))break t;n.length=0,n.mode=H;case H:if(2048&n.flags){if(0===u)break t;m=0;do{St=o[s+m++],n.head&&St&&n.length<65536&&(n.head.name+=String.fromCharCode(St))}while(St&&u>m);if(512&n.flags&&(n.check=v(n.check,o,m,s)),u-=m,s+=m,St)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=j;case j:if(4096&n.flags){if(0===u)break t;m=0;do{St=o[s+m++],n.head&&St&&n.length<65536&&(n.head.comment+=String.fromCharCode(St))}while(St&&u>m);if(512&n.flags&&(n.check=v(n.check,o,m,s)),u-=m,s+=m,St)break t}else n.head&&(n.head.comment=null);n.mode=W;case W:if(512&n.flags){for(;16>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}if(f!==(65535&n.check)){t.msg="header crc mismatch",n.mode=ht;break}f=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Z;break;case q:for(;32>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}t.adler=n.check=i(f),f=0,d=0,n.mode=V;case V:if(0===n.havedict)return t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=u,n.hold=f,n.bits=d,F;t.adler=n.check=1,n.mode=Z;case Z:if(e===x||e===C)break t;case G:if(n.last){f>>>=7&d,d-=7&d,n.mode=ut;break}for(;3>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}switch(n.last=1&f,f>>>=1,d-=1,3&f){case 0:n.mode=Y;break;case 1:if(l(n),n.mode=et,e===C){f>>>=2,d-=2;break t}break;case 2:n.mode=Q;break;case 3:t.msg="invalid block type",n.mode=ht}f>>>=2,d-=2;break;case Y:for(f>>>=7&d,d-=7&d;32>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}if((65535&f)!=(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=ht;break}if(n.length=65535&f,f=0,d=0,n.mode=X,e===C)break t;case X:n.mode=K;case K:if(m=n.length){if(m>u&&(m=u),m>c&&(m=c),0===m)break t;y.arraySet(r,o,s,m,a),u-=m,s+=m,c-=m,a+=m,n.length-=m;break}n.mode=Z;break;case Q:for(;14>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}if(n.nlen=257+(31&f),f>>>=5,d-=5,n.ndist=1+(31&f),f>>>=5,d-=5,n.ncode=4+(15&f),f>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=ht;break}n.have=0,n.mode=J;case J:for(;n.have<n.ncode;){for(;3>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}n.lens[Ot[n.have++]]=7&f,f>>>=3,d-=3}for(;n.have<19;)n.lens[Ot[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,It={bits:n.lenbits},Et=b(S,n.lens,0,19,n.lencode,0,n.work,It),n.lenbits=It.bits,Et){t.msg="invalid code lengths set",n.mode=ht;break}n.have=0,n.mode=tt;case tt:for(;n.have<n.nlen+n.ndist;){for(;xt=n.lencode[f&(1<<n.lenbits)-1],mt=xt>>>24,yt=xt>>>16&255,_t=65535&xt,!(d>=mt);){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}if(16>_t)f>>>=mt,d-=mt,n.lens[n.have++]=_t;else{if(16===_t){for(kt=mt+2;kt>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}if(f>>>=mt,d-=mt,0===n.have){t.msg="invalid bit length repeat",n.mode=ht;break}St=n.lens[n.have-1],m=3+(3&f),f>>>=2,d-=2}else if(17===_t){for(kt=mt+3;kt>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}f>>>=mt,d-=mt,St=0,m=3+(7&f),f>>>=3,d-=3}else{for(kt=mt+7;kt>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}f>>>=mt,d-=mt,St=0,m=11+(127&f),f>>>=7,d-=7}if(n.have+m>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=ht;break}for(;m--;)n.lens[n.have++]=St}}if(n.mode===ht)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=ht;break}if(n.lenbits=9,It={bits:n.lenbits},Et=b(E,n.lens,0,n.nlen,n.lencode,0,n.work,It),n.lenbits=It.bits,Et){t.msg="invalid literal/lengths set",n.mode=ht;break}if(n.distbits=6,n.distcode=n.distdyn,It={bits:n.distbits},Et=b(I,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,It),n.distbits=It.bits,Et){t.msg="invalid distances set",n.mode=ht;break}if(n.mode=et,e===C)break t;case et:n.mode=nt;case nt:if(u>=6&&c>=258){t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=u,n.hold=f,n.bits=d,w(t,g),a=t.next_out,r=t.output,c=t.avail_out,s=t.next_in,o=t.input,u=t.avail_in,f=n.hold,d=n.bits,n.mode===Z&&(n.back=-1);break}for(n.back=0;xt=n.lencode[f&(1<<n.lenbits)-1],mt=xt>>>24,yt=xt>>>16&255,_t=65535&xt,!(d>=mt);){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}if(yt&&0==(240&yt)){for(vt=mt,wt=yt,bt=_t;xt=n.lencode[bt+((f&(1<<vt+wt)-1)>>vt)],mt=xt>>>24,yt=xt>>>16&255,_t=65535&xt,!(d>=vt+mt);){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}f>>>=vt,d-=vt,n.back+=vt}if(f>>>=mt,d-=mt,n.back+=mt,n.length=_t,0===yt){n.mode=at;break}if(32&yt){n.back=-1,n.mode=Z;break}if(64&yt){t.msg="invalid literal/length code",n.mode=ht;break}n.extra=15&yt,n.mode=it;case it:if(n.extra){for(kt=n.extra;kt>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=ot;case ot:for(;xt=n.distcode[f&(1<<n.distbits)-1],mt=xt>>>24,yt=xt>>>16&255,_t=65535&xt,!(d>=mt);){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}if(0==(240&yt)){for(vt=mt,wt=yt,bt=_t;xt=n.distcode[bt+((f&(1<<vt+wt)-1)>>vt)],mt=xt>>>24,yt=xt>>>16&255,_t=65535&xt,!(d>=vt+mt);){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}f>>>=vt,d-=vt,n.back+=vt}if(f>>>=mt,d-=mt,n.back+=mt,64&yt){t.msg="invalid distance code",n.mode=ht;break}n.offset=_t,n.extra=15&yt,n.mode=rt;case rt:if(n.extra){for(kt=n.extra;kt>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ht;break}n.mode=st;case st:if(0===c)break t;if(m=g-c,n.offset>m){if((m=n.offset-m)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=ht;break}m>n.wnext?(m-=n.wnext,pt=n.wsize-m):pt=n.wnext-m,m>n.length&&(m=n.length),gt=n.window}else gt=r,pt=a-n.offset,m=n.length;m>c&&(m=c),c-=m,n.length-=m;do{r[a++]=gt[pt++]}while(--m);0===n.length&&(n.mode=nt);break;case at:if(0===c)break t;r[a++]=n.length,c--,n.mode=nt;break;case ut:if(n.wrap){for(;32>d;){if(0===u)break t;u--,f|=o[s++]<<d,d+=8}if(g-=c,t.total_out+=g,n.total+=g,g&&(t.adler=n.check=n.flags?v(n.check,r,g,a-g):_(n.check,r,g,a-g)),g=c,(n.flags?f:i(f))!==n.check){t.msg="incorrect data check",n.mode=ht;break}f=0,d=0}n.mode=ct;case ct:if(n.wrap&&n.flags){for(;32>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}if(f!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=ht;break}f=0,d=0}n.mode=lt;case lt:Et=T;break t;case ht:Et=D;break t;case ft:return P;case dt:default:return A}return t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=u,n.hold=f,n.bits=d,(n.wsize||g!==t.avail_out&&n.mode<ht&&(n.mode<ut||e!==k))&&h(t,t.output,t.next_out,g-t.avail_out)?(n.mode=ft,P):(p-=t.avail_in,g-=t.avail_out,t.total_in+=p,t.total_out+=g,n.total+=g,n.wrap&&g&&(t.adler=n.check=n.flags?v(n.check,r,g,t.next_out-g):_(n.check,r,g,t.next_out-g)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Z?128:0)+(n.mode===et||n.mode===X?256:0),(0===p&&0===g||e===k)&&Et===O&&(Et=L),Et)}function d(t){if(!t||!t.state)return A;var e=t.state;return e.window&&(e.window=null),t.state=null,O}function p(t,e){var n;return t&&t.state?(n=t.state,0==(2&n.wrap)?A:(n.head=e,e.done=!1,O)):A}var g,m,y=t("../utils/common"),_=t("./adler32"),v=t("./crc32"),w=t("./inffast"),b=t("./inftrees"),S=0,E=1,I=2,k=4,x=5,C=6,O=0,T=1,F=2,A=-2,D=-3,P=-4,L=-5,N=8,z=1,$=2,R=3,B=4,M=5,U=6,H=7,j=8,W=9,q=10,V=11,Z=12,G=13,Y=14,X=15,K=16,Q=17,J=18,tt=19,et=20,nt=21,it=22,ot=23,rt=24,st=25,at=26,ut=27,ct=28,lt=29,ht=30,ft=31,dt=32,pt=852,gt=592,mt=15,yt=!0;n.inflateReset=s,n.inflateReset2=a,n.inflateResetKeep=r,n.inflateInit=c,n.inflateInit2=u,n.inflate=f,n.inflateEnd=d,n.inflateGetHeader=p,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":5,"./inffast":7,"./inftrees":9}],9:[function(t,e,n){"use strict";var i=t("../utils/common"),o=15,r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,c,l,h,f,d){var p,g,m,y,_,v,w,b,S,E=d.bits,I=0,k=0,x=0,C=0,O=0,T=0,F=0,A=0,D=0,P=0,L=null,N=0,z=new i.Buf16(16),$=new i.Buf16(16),R=null,B=0;for(I=0;o>=I;I++)z[I]=0;for(k=0;c>k;k++)z[e[n+k]]++;for(O=E,C=o;C>=1&&0===z[C];C--);if(O>C&&(O=C),0===C)return l[h++]=20971520,l[h++]=20971520,d.bits=1,0;for(x=1;C>x&&0===z[x];x++);for(x>O&&(O=x),A=1,I=1;o>=I;I++)if(A<<=1,0>(A-=z[I]))return-1;if(A>0&&(0===t||1!==C))return-1;for($[1]=0,I=1;o>I;I++)$[I+1]=$[I]+z[I];for(k=0;c>k;k++)0!==e[n+k]&&(f[$[e[n+k]]++]=k);if(0===t?(L=R=f,v=19):1===t?(L=r,N-=257,R=s,B-=257,v=256):(L=a,R=u,v=-1),P=0,k=0,I=x,_=h,T=O,F=0,m=-1,D=1<<O,y=D-1,1===t&&D>852||2===t&&D>592)return 1;for(var M=0;;){M++,w=I-F,f[k]<v?(b=0,S=f[k]):f[k]>v?(b=R[B+f[k]],S=L[N+f[k]]):(b=96,S=0),p=1<<I-F,g=1<<T,x=g;do{g-=p,l[_+(P>>F)+g]=w<<24|b<<16|S|0}while(0!==g);for(p=1<<I-1;P&p;)p>>=1;if(0!==p?(P&=p-1,P+=p):P=0,k++,0==--z[I]){if(I===C)break;I=e[n+f[k]]}if(I>O&&(P&y)!==m){for(0===F&&(F=O),_+=x,T=I-F,A=1<<T;C>T+F&&!(0>=(A-=z[T+F]));)T++,A<<=1;if(D+=1<<T,1===t&&D>852||2===t&&D>592)return 1;m=P&y,l[m]=O<<24|T<<16|_-h|0}}return 0!==P&&(l[_+P]=I-F<<24|64<<16|0),d.bits=O,0}},{"../utils/common":1}],10:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(t,e,n){"use strict";function i(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=i},{}],
"/lib/inflate.js":[function(t,e,n){"use strict";function i(t,e){var n=new d(e);if(n.push(t,!0),n.err)throw n.msg;return n.result}function o(t,e){return e=e||{},e.raw=!0,i(t,e)}var r=t("./zlib/inflate.js"),s=t("./utils/common"),a=t("./utils/strings"),u=t("./zlib/constants"),c=t("./zlib/messages"),l=t("./zlib/zstream"),h=t("./zlib/gzheader"),f=Object.prototype.toString,d=function(t){this.options=s.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==u.Z_OK)throw new Error(c[n]);this.header=new h,r.inflateGetHeader(this.strm,this.header)};d.prototype.push=function(t,e){var n,i,o,c,l,h=this.strm,d=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:!0===e?u.Z_FINISH:u.Z_NO_FLUSH,"string"==typeof t?h.input=a.binstring2buf(t):"[object ArrayBuffer]"===f.call(t)?h.input=new Uint8Array(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new s.Buf8(d),h.next_out=0,h.avail_out=d),(n=r.inflate(h,u.Z_NO_FLUSH))!==u.Z_STREAM_END&&n!==u.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0===h.avail_out||n===u.Z_STREAM_END||0===h.avail_in&&(i===u.Z_FINISH||i===u.Z_SYNC_FLUSH))&&("string"===this.options.to?(o=a.utf8border(h.output,h.next_out),c=h.next_out-o,l=a.buf2string(h.output,o),h.next_out=c,h.avail_out=d-c,c&&s.arraySet(h.output,h.output,o,c,0),this.onData(l)):this.onData(s.shrinkBuf(h.output,h.next_out)))}while(h.avail_in>0&&n!==u.Z_STREAM_END);return n===u.Z_STREAM_END&&(i=u.Z_FINISH),i===u.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u.Z_OK):i!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),h.avail_out=0,!0)},d.prototype.onData=function(t){this.chunks.push(t)},d.prototype.onEnd=function(t){t===u.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=d,n.inflate=i,n.inflateRaw=o,n.ungzip=i},{"./utils/common":1,"./utils/strings":2,"./zlib/constants":4,"./zlib/gzheader":6,"./zlib/inflate.js":8,"./zlib/messages":10,"./zlib/zstream":11}]},{},[])("/lib/inflate.js")})},{}],3:[function(t,e,n){function i(t,e){switch(void 0===e&&(e=t.toString()),t.name){case"NotFoundError":return new p(g.ENOENT,e);case"QuotaExceededError":return new p(g.ENOSPC,e);default:return new p(g.EIO,e)}}function o(t,e,n){return void 0===e&&(e=g.EIO),void 0===n&&(n=null),function(i){i.preventDefault(),t(new p(e,n))}}function r(t){var e=t.getBufferCore();return e instanceof h.BufferCoreArrayBuffer||(t=new d(this._buffer.length),this._buffer.copy(t),e=t.getBufferCore()),e.getDataView().buffer}var s=this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},a=t("../core/buffer"),u=t("../core/browserfs"),c=t("../generic/key_value_filesystem"),l=t("../core/api_error"),h=t("../core/buffer_core_arraybuffer"),f=t("../core/global"),d=a.Buffer,p=l.ApiError,g=l.ErrorCode,m=f.indexedDB||f.mozIndexedDB||f.webkitIndexedDB||f.msIndexedDB,y=function(){function t(t,e){this.tx=t,this.store=e}return t.prototype.get=function(t,e){try{var n=this.store.get(t);n.onerror=o(e),n.onsuccess=function(t){var n=t.target.result;void 0===n?e(null,n):e(null,new d(n))}}catch(t){e(i(t))}},t}();n.IndexedDBROTransaction=y;var _=function(t){function e(e,n){t.call(this,e,n)}return s(e,t),e.prototype.put=function(t,e,n,s){try{var a,u=r(e);a=n?this.store.put(u,t):this.store.add(u,t),a.onerror=o(s),a.onsuccess=function(t){s(null,!0)}}catch(t){s(i(t))}},e.prototype.delete=function(t,e){try{var n=this.store.delete(t);n.onerror=o(e),n.onsuccess=function(t){e()}}catch(t){e(i(t))}},e.prototype.commit=function(t){setTimeout(t,0)},e.prototype.abort=function(t){var e;try{this.tx.abort()}catch(t){e=i(t)}finally{t(e)}},e}(y);n.IndexedDBRWTransaction=_;var v=function(){function t(t,e){var n=this;void 0===e&&(e="browserfs"),this.storeName=e;var i=m.open(this.storeName,1);i.onupgradeneeded=function(t){var e=t.target.result;e.objectStoreNames.contains(n.storeName)&&e.deleteObjectStore(n.storeName),e.createObjectStore(n.storeName)},i.onsuccess=function(e){n.db=e.target.result,t(null,n)},i.onerror=o(t,g.EACCES)}return t.prototype.name=function(){return"IndexedDB - "+this.storeName},t.prototype.clear=function(t){try{var e=this.db.transaction(this.storeName,"readwrite"),n=e.objectStore(this.storeName),r=n.clear();r.onsuccess=function(e){setTimeout(t,0)},r.onerror=o(t)}catch(e){t(i(e))}},t.prototype.beginTransaction=function(t){void 0===t&&(t="readonly");var e=this.db.transaction(this.storeName,t),n=e.objectStore(this.storeName);if("readwrite"===t)return new _(e,n);if("readonly"===t)return new y(e,n);throw new p(g.EINVAL,"Invalid transaction type.")},t}();n.IndexedDBStore=v;var w=function(t){function e(e,n){var i=this;t.call(this),new v(function(t,n){t?e(t):i.init(n,function(t){e(t,i)})},n)}return s(e,t),e.isAvailable=function(){try{return void 0!==m&&null!==m.open("__browserfs_test__")}catch(t){return!1}},e}(c.AsyncKeyValueFileSystem);n.IndexedDBFileSystem=w,u.registerFileSystem("IndexedDB",w)},{"../core/api_error":14,"../core/browserfs":15,"../core/buffer":16,"../core/buffer_core_arraybuffer":19,"../core/global":24,"../generic/key_value_filesystem":35}],4:[function(t,e,n){var i=this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},o=t("../core/file_system"),r=t("../generic/file_index"),s=t("../core/buffer"),a=t("../core/api_error"),u=t("../core/file_flag"),c=t("../generic/preload_file"),l=t("../core/browserfs"),h=t("../generic/xhr"),f=(s.Buffer,a.ApiError),d=a.ErrorCode,p=(u.FileFlag,u.ActionType),g=function(t){function e(e,n){void 0===n&&(n=""),t.call(this),null==e&&(e="index.json"),n.length>0&&"/"!==n.charAt(n.length-1)&&(n+="/"),this.prefix_url=n;var i=this._requestFileSync(e,"json");if(null==i)throw new Error("Unable to find listing at URL: "+e);this._index=r.FileIndex.from_listing(i)}return i(e,t),e.prototype.empty=function(){this._index.fileIterator(function(t){t.file_data=null})},e.prototype.getXhrPath=function(t){return"/"===t.charAt(0)&&(t=t.slice(1)),this.prefix_url+t},e.prototype._requestFileSizeAsync=function(t,e){h.getFileSizeAsync(this.getXhrPath(t),e)},e.prototype._requestFileSizeSync=function(t){return h.getFileSizeSync(this.getXhrPath(t))},e.prototype._requestFileAsync=function(t,e,n){h.asyncDownloadFile(this.getXhrPath(t),e,n)},e.prototype._requestFileSync=function(t,e){return h.syncDownloadFile(this.getXhrPath(t),e)},e.prototype.getName=function(){return"XmlHttpRequest"},e.isAvailable=function(){return"undefined"!=typeof XMLHttpRequest&&null!==XMLHttpRequest},e.prototype.diskSpace=function(t,e){e(0,0)},e.prototype.isReadOnly=function(){return!0},e.prototype.supportsLinks=function(){return!1},e.prototype.supportsProps=function(){return!1},e.prototype.supportsSynch=function(){return!0},e.prototype.preloadFile=function(t,e){var n=this._index.getInode(t);if(null===n)throw f.ENOENT(t);var i=n.getData();i.size=e.length,i.file_data=e},e.prototype.stat=function(t,e,n){var i=this._index.getInode(t);if(null===i)return n(f.ENOENT(t));var o;i.isFile()?(o=i.getData(),o.size<0?this._requestFileSizeAsync(t,function(t,e){return t?n(t):(o.size=e,void n(null,o.clone()))}):n(null,o.clone())):(o=i.getStats(),n(null,o))},e.prototype.statSync=function(t,e){var n=this._index.getInode(t);if(null===n)throw f.ENOENT(t);var i;return n.isFile()?(i=n.getData(),i.size<0&&(i.size=this._requestFileSizeSync(t))):i=n.getStats(),i},e.prototype.open=function(t,e,n,i){if(e.isWriteable())return i(new f(d.EPERM,t));var o=this,r=this._index.getInode(t);if(null===r)return i(f.ENOENT(t));if(r.isDir())return i(f.EISDIR(t));var s=r.getData();switch(e.pathExistsAction()){case p.THROW_EXCEPTION:case p.TRUNCATE_FILE:return i(f.EEXIST(t));case p.NOP:if(null!=s.file_data)return i(null,new c.NoSyncFile(o,t,e,s.clone(),s.file_data));this._requestFileAsync(t,"buffer",function(n,r){return n?i(n):(s.size=r.length,s.file_data=r,i(null,new c.NoSyncFile(o,t,e,s.clone(),r)))});break;default:return i(new f(d.EINVAL,"Invalid FileMode object."))}},e.prototype.openSync=function(t,e,n){if(e.isWriteable())throw new f(d.EPERM,t);var i=this._index.getInode(t);if(null===i)throw f.ENOENT(t);if(i.isDir())throw f.EISDIR(t);var o=i.getData();switch(e.pathExistsAction()){case p.THROW_EXCEPTION:case p.TRUNCATE_FILE:throw f.EEXIST(t);case p.NOP:if(null!=o.file_data)return new c.NoSyncFile(this,t,e,o.clone(),o.file_data);var r=this._requestFileSync(t,"buffer");return o.size=r.length,o.file_data=r,new c.NoSyncFile(this,t,e,o.clone(),r);default:throw new f(d.EINVAL,"Invalid FileMode object.")}},e.prototype.readdir=function(t,e){try{e(null,this.readdirSync(t))}catch(t){e(t)}},e.prototype.readdirSync=function(t){var e=this._index.getInode(t);if(null===e)throw f.ENOENT(t);if(e.isFile())throw f.ENOTDIR(t);return e.getListing()},e.prototype.readFile=function(t,e,n,i){var o=i;this.open(t,n,420,function(t,n){if(t)return i(t);i=function(t,e){n.close(function(n){return null==t&&(t=n),o(t,e)})};var r=n,a=r.getBuffer();if(null===e)return a.length>0?i(t,a.sliceCopy()):i(t,new s.Buffer(0));try{i(null,a.toString(e))}catch(t){i(t)}})},e.prototype.readFileSync=function(t,e,n){var i=this.openSync(t,n,420);try{var o=i,r=o.getBuffer();return null===e?r.length>0?r.sliceCopy():new s.Buffer(0):r.toString(e)}finally{i.closeSync()}},e}(o.BaseFileSystem);n.XmlHttpRequest=g,l.registerFileSystem("XmlHttpRequest",g)},{"../core/api_error":14,"../core/browserfs":15,"../core/buffer":16,"../core/file_flag":22,"../core/file_system":23,"../generic/file_index":33,"../generic/preload_file":36,"../generic/xhr":37}],5:[function(t,e,n){var i=this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},o=t("../core/file_system"),r=t("../core/file_flag"),s=t("../generic/preload_file"),a=t("../core/browserfs"),u=function(t){function e(e,n,i,o,r){t.call(this,e,n,i,o,r)}return i(e,t),e.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},e.prototype.closeSync=function(){this.syncSync()},e}(s.PreloadFile),c=function(t){function e(e,n){if(t.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._sync=e,this._async=n,!e.supportsSynch())throw new Error("Expected synchronous storage.");if(n.supportsSynch())throw new Error("Expected asynchronous storage.")}return i(e,t),e.prototype.getName=function(){return"AsyncMirror"},e.isAvailable=function(){return!0},e.prototype._syncSync=function(t){this._sync.writeFileSync(t.getPath(),t.getBuffer(),null,r.FileFlag.getFileFlag("w"),t.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[t.getPath(),t.getBuffer(),null,t.getFlag(),t.getStats().mode]})},e.prototype.initialize=function(t){var e=this;if(this._isInitialized)t();else{var n=function(t,n,i){"/"!==t&&e._sync.mkdirSync(t,n),e._async.readdir(t,function(e,n){function r(e){e?i(e):s<n.length?(o(t+"/"+n[s],r),s++):i()}if(e)i(e);else{var s=0;r()}})},i=function(t,n,i){e._async.readFile(t,null,r.FileFlag.getFileFlag("r"),function(o,s){if(o)i(o);else try{e._sync.writeFileSync(t,s,null,r.FileFlag.getFileFlag("w"),n)}catch(t){o=t}finally{i(o)}})},o=function(t,o){e._async.stat(t,!1,function(e,r){e?o(e):r.isDirectory()?n(t,r.mode,o):i(t,r.mode,o)})};n("/",0,function(n){n?t(n):(e._isInitialized=!0,t())})}},e.prototype.isReadOnly=function(){return!1},e.prototype.supportsSynch=function(){return!0},e.prototype.supportsLinks=function(){return!1},e.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},e.prototype.enqueueOp=function(t){var e=this;if(this._queue.push(t),!this._queueRunning){this._queueRunning=!0;var n=function(t){if(t&&console.error("WARNING: File system has desynchronized. Received following error: "+t+"\n$"),e._queue.length>0){var i=e._queue.shift(),o=i.arguments;o.push(n),e._async[i.apiMethod].apply(e._async,o)}else e._queueRunning=!1};n()}},e.prototype.renameSync=function(t,e){this._sync.renameSync(t,e),this.enqueueOp({apiMethod:"rename",arguments:[t,e]})},e.prototype.statSync=function(t,e){return this._sync.statSync(t,e)},e.prototype.openSync=function(t,e,n){return this._sync.openSync(t,e,n).closeSync(),new u(this,t,e,this._sync.statSync(t,!1),this._sync.readFileSync(t,null,r.FileFlag.getFileFlag("r")))},e.prototype.unlinkSync=function(t){this._sync.unlinkSync(t),this.enqueueOp({apiMethod:"unlink",arguments:[t]})},e.prototype.rmdirSync=function(t){this._sync.rmdirSync(t),this.enqueueOp({apiMethod:"rmdir",arguments:[t]})},e.prototype.mkdirSync=function(t,e){this._sync.mkdirSync(t,e),this.enqueueOp({apiMethod:"mkdir",arguments:[t,e]})},e.prototype.readdirSync=function(t){return this._sync.readdirSync(t)},e.prototype.existsSync=function(t){return this._sync.existsSync(t)},e.prototype.chmodSync=function(t,e,n){this._sync.chmodSync(t,e,n),this.enqueueOp({apiMethod:"chmod",arguments:[t,e,n]})},e.prototype.chownSync=function(t,e,n,i){this._sync.chownSync(t,e,n,i),this.enqueueOp({apiMethod:"chown",arguments:[t,e,n,i]})},e.prototype.utimesSync=function(t,e,n){this._sync.utimesSync(t,e,n),this.enqueueOp({apiMethod:"utimes",arguments:[t,e,n]})},e}(o.SynchronousFileSystem);a.registerFileSystem("AsyncMirrorFS",c),e.exports=c},{"../core/browserfs":15,"../core/file_flag":22,"../core/file_system":23,"../generic/preload_file":36}],6:[function(t,e,n){var i=this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},o=t("../generic/preload_file"),r=t("../core/file_system"),s=t("../core/node_fs_stats"),a=t("../core/buffer"),u=t("../core/api_error"),c=t("../core/node_path"),l=t("../core/browserfs"),h=t("../core/buffer_core_arraybuffer"),f=t("async"),d=a.Buffer,p=s.Stats,g=u.ApiError,m=u.ErrorCode,y=s.FileType,_=function(t){function e(e,n,i,o,r){t.call(this,e,n,i,o,r)}return i(e,t),e.prototype.sync=function(t){var e=this;if(this.isDirty()){var n=this.getBuffer(),i=n.getBufferCore();i instanceof h.BufferCoreArrayBuffer||(n=new d(n.length),this.getBuffer().copy(n),i=n.getBufferCore());var o=i.getDataView(),r=new DataView(o.buffer,o.byteOffset+n.getOffset(),n.length);this._fs._writeFileStrict(this.getPath(),r,function(n){n||e.resetDirty(),t(n)})}else t()},e.prototype.close=function(t){this.sync(t)},e}(o.PreloadFile);n.DropboxFile=_;var v=function(t){function e(e){t.call(this),this.client=e}return i(e,t),e.prototype.getName=function(){return"Dropbox"},e.isAvailable=function(){return"undefined"!=typeof Dropbox},e.prototype.isReadOnly=function(){return!1},e.prototype.supportsSymlinks=function(){return!1},e.prototype.supportsProps=function(){return!1},e.prototype.supportsSynch=function(){return!1},e.prototype.empty=function(t){var e=this;this.client.readdir("/",function(n,i,o,r){if(n)t(e.convert(n));else{var s=function(t,n){e.client.remove(t.path,function(t,i){n(t?e.convert(t):t)})},a=function(n){n?t(e.convert(n)):t()};f.each(r,s,a)}})},e.prototype.rename=function(t,e,n){this.client.move(t,e,function(i,o){if(i){var r=i.response.error.indexOf(t)>-1?t:e;n(new g(m.ENOENT,r+" doesn't exist"))}else n()})},e.prototype.stat=function(t,e,n){var i=this;this.client.stat(t,function(e,o){if(!(e||null!=o&&o.isRemoved)){var r=new p(i._statType(o),o.size);return n(null,r)}n(new g(m.ENOENT,t+" doesn't exist"))})},e.prototype.open=function(t,e,n,i){var o=this;this.client.readFile(t,{arrayBuffer:!0},function(n,r,s,a){if(!n){var u;u=new d(null===r?0:r);var c=o._makeFile(t,e,s,u);return i(null,c)}if(e.isReadable())i(new g(m.ENOENT,t+" doesn't exist"));else switch(n.status){case 0:return console.error("No connection");case 404:var l=new ArrayBuffer(0);return o._writeFileStrict(t,l,function(n,r){if(n)i(n);else{var s=o._makeFile(t,e,r,new d(l));i(null,s)}});default:return console.log("Unhandled error: "+n)}})},e.prototype._writeFileStrict=function(t,e,n){var i=this,o=c.dirname(t);this.stat(o,!1,function(r,s){r?n(new g(m.ENOENT,"Can't create "+t+" because "+o+" doesn't exist")):i.client.writeFile(t,e,function(t,e){t?n(i.convert(t)):n(null,e)})})},e.prototype._statType=function(t){return t.isFile?y.FILE:y.DIRECTORY},e.prototype._makeFile=function(t,e,n,i){var o=this._statType(n),r=new p(o,n.size);return new _(this,t,e,r,i)},e.prototype._remove=function(t,e,n){var i=this;this.client.stat(t,function(o,r){o?e(new g(m.ENOENT,t+" doesn't exist")):r.isFile&&!n?e(new g(m.ENOTDIR,t+" is a file.")):!r.isFile&&n?e(new g(m.EISDIR,t+" is a directory.")):i.client.remove(t,function(n,i){e(n?new g(m.EIO,"Failed to remove "+t):null)})})},e.prototype.unlink=function(t,e){this._remove(t,e,!0)},e.prototype.rmdir=function(t,e){this._remove(t,e,!1)},e.prototype.mkdir=function(t,e,n){var i=this,o=c.dirname(t);this.client.stat(o,function(e,r){e?n(new g(m.ENOENT,"Can't create "+t+" because "+o+" doesn't exist")):i.client.mkdir(t,function(e,i){n(e?new g(m.EEXIST,t+" already exists"):null)})})},e.prototype.readdir=function(t,e){var n=this;this.client.readdir(t,function(t,i,o,r){return t?e(n.convert(t)):e(null,i)})},e.prototype.convert=function(t,e){switch(void 0===e&&(e=""),t.status){case 400:return new g(m.EINVAL,e);case 401:case 403:return new g(m.EIO,e);case 404:return new g(m.ENOENT,e);case 405:return new g(m.ENOTSUP,e);case 0:case 304:case 406:case 409:default:return new g(m.EIO,e)}},e}(r.BaseFileSystem);n.DropboxFileSystem=v,l.registerFileSystem("Dropbox",v)},{"../core/api_error":14,"../core/browserfs":15,"../core/buffer":16,"../core/buffer_core_arraybuffer":19,"../core/file_system":23,"../core/node_fs_stats":27,"../core/node_path":28,"../generic/preload_file":36,async:1}],7:[function(t,e,n){function i(t,e,n,i){if(void 0!==navigator.webkitPersistentStorage)switch(t){case g.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(e,n,i);break;case g.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(e,n,i);break;default:i(null)}else g.webkitStorageInfo.requestQuota(t,e,n,i)}function o(t){return Array.prototype.slice.call(t||[],0)}var r=this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},s=t("../generic/preload_file"),a=t("../core/file_system"),u=t("../core/api_error"),c=t("../core/file_flag"),l=t("../core/node_fs_stats"),h=t("../core/buffer"),f=t("../core/browserfs"),d=t("../core/buffer_core_arraybuffer"),p=t("../core/node_path"),g=t("../core/global"),m=t("async"),y=h.Buffer,_=l.Stats,v=l.FileType,w=u.ApiError,b=u.ErrorCode,S=c.ActionType,E=g.webkitRequestFileSystem||g.requestFileSystem||null,I=function(t){function e(e,n,i,o,r){t.call(this,e,n,i,o,r)}return r(e,t),e.prototype.sync=function(t){var e=this;if(this.isDirty()){var n={create:!1},i=this._fs,o=function(n){n.createWriter(function(n){var o=e.getBuffer(),r=o.getBufferCore();r instanceof d.BufferCoreArrayBuffer||(o=new y(o.length),e.getBuffer().copy(o),r=o.getBufferCore());var s=r.getDataView(),a=new DataView(s.buffer,s.byteOffset+o.getOffset(),o.length),u=new Blob([a]),c=u.size;n.onwriteend=function(){n.onwriteend=null,n.truncate(c),e.resetDirty(),t()},n.onerror=function(e){t(i.convert(e))},n.write(u)})},r=function(e){t(i.convert(e))};i.fs.root.getFile(this.getPath(),n,o,r)}else t()},e.prototype.close=function(t){this.sync(t)},e}(s.PreloadFile);n.HTML5FSFile=I;var k=function(t){function e(e,n){t.call(this),this.size=null!=e?e:5,this.type=null!=n?n:g.PERSISTENT;this.size*=1048576}return r(e,t),e.prototype.getName=function(){return"HTML5 FileSystem"},e.isAvailable=function(){return null!=E},e.prototype.isReadOnly=function(){return!1},e.prototype.supportsSymlinks=function(){return!1},e.prototype.supportsProps=function(){return!1},e.prototype.supportsSynch=function(){return!1},e.prototype.convert=function(t,e){switch(void 0===e&&(e=""),t.name){case"QuotaExceededError":return new w(b.ENOSPC,e);case"NotFoundError":return new w(b.ENOENT,e);case"SecurityError":return new w(b.EACCES,e);case"InvalidModificationError":return new w(b.EPERM,e);case"SyntaxError":case"TypeMismatchError":default:return new w(b.EINVAL,e)}},e.prototype.convertErrorEvent=function(t,e){return void 0===e&&(e=""),new w(b.ENOENT,t.message+"; "+e)},e.prototype.allocate=function(t){var e=this;void 0===t&&(t=function(){});var n=function(n){e.fs=n,t()},o=function(n){t(e.convert(n))};this.type===g.PERSISTENT?i(this.type,this.size,function(t){E(e.type,t,n,o)},o):E(this.type,this.size,n,o)},e.prototype.empty=function(t){var e=this;this._readdir("/",function(n,i){if(n)console.error("Failed to empty FS"),t(n);else{var o=function(e){n?(console.error("Failed to empty FS"),t(n)):t()},r=function(t,n){var i=function(){n()},o=function(i){n(e.convert(i,t.fullPath))};t.isFile?t.remove(i,o):t.removeRecursively(i,o)};m.each(i,r,o)}})},e.prototype.rename=function(t,e,n){var i=this,o=2,r=0,s=this.fs.root,a=function(r){0==--o&&n(i.convert(r,"Failed to rename "+t+" to "+e+"."))},u=function(o){return 2==++r?void console.error("Something was identified as both a file and a directory. This should never happen."):t===e?n():void s.getDirectory(p.dirname(e),{},function(r){o.moveTo(r,p.basename(e),function(t){n()},function(r){o.isDirectory?i.unlink(e,function(o){o?a(r):i.rename(t,e,n)}):a(r)})},a)};s.getFile(t,{},u,a),s.getDirectory(t,{},u,a)},e.prototype.stat=function(t,e,n){var i=this,o={create:!1},r=function(t){var e=function(t){var e=new _(v.FILE,t.size);n(null,e)};t.file(e,a)},s=function(t){var e=new _(v.DIRECTORY,4096);n(null,e)},a=function(e){n(i.convert(e,t))},u=function(){i.fs.root.getDirectory(t,o,s,a)};this.fs.root.getFile(t,o,r,u)},e.prototype.open=function(t,e,n,i){var o=this,r={create:e.pathNotExistsAction()===S.CREATE_FILE,exclusive:e.isExclusive()},s=function(e){i(o.convertErrorEvent(e,t))},a=function(e){i(o.convert(e,t))},u=function(n){var r=function(n){var r=new FileReader;r.onloadend=function(s){var a=o._makeFile(t,e,n,r.result);i(null,a)},r.onerror=s,r.readAsArrayBuffer(n)};n.file(r,a)};this.fs.root.getFile(t,r,u,s)},e.prototype._statType=function(t){return t.isFile?v.FILE:v.DIRECTORY},e.prototype._makeFile=function(t,e,n,i){void 0===i&&(i=new ArrayBuffer(0));var o=new _(v.FILE,n.size),r=new y(i);return new I(this,t,e,o,r)},e.prototype._remove=function(t,e,n){var i=this,o=function(n){var o=function(){e()},r=function(n){e(i.convert(n,t))};n.remove(o,r)},r=function(n){e(i.convert(n,t))},s={create:!1};n?this.fs.root.getFile(t,s,o,r):this.fs.root.getDirectory(t,s,o,r)},e.prototype.unlink=function(t,e){this._remove(t,e,!0)},e.prototype.rmdir=function(t,e){this._remove(t,e,!1)},e.prototype.mkdir=function(t,e,n){var i=this,o={create:!0,exclusive:!0},r=function(t){n()},s=function(e){n(i.convert(e,t))};this.fs.root.getDirectory(t,o,r,s)},e.prototype._readdir=function(t,e){var n=this;this.fs.root.getDirectory(t,{create:!1},function(i){var r=i.createReader(),s=[],a=function(i){e(n.convert(i,t))},u=function(){r.readEntries(function(t){t.length?(s=s.concat(o(t)),u()):e(null,s)},a)};u()})},e.prototype.readdir=function(t,e){this._readdir(t,function(t,n){if(null!=t)return e(t);for(var i=[],o=0;o<n.length;o++)i.push(n[o].name);e(null,i)})},e}(a.BaseFileSystem);n.HTML5FS=k,f.registerFileSystem("HTML5FS",k)},{"../core/api_error":14,"../core/browserfs":15,"../core/buffer":16,"../core/buffer_core_arraybuffer":19,"../core/file_flag":22,"../core/file_system":23,"../core/global":24,"../core/node_fs_stats":27,"../core/node_path":28,"../generic/preload_file":36,async:1}],8:[function(t,e,n){var i=this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},o=t("../generic/key_value_filesystem"),r=t("../core/browserfs"),s=function(){function t(){this.store={}}return t.prototype.name=function(){return"In-memory"},t.prototype.clear=function(){this.store={}},t.prototype.beginTransaction=function(t){return new o.SimpleSyncRWTransaction(this)},t.prototype.get=function(t){return this.store[t]},t.prototype.put=function(t,e,n){return!(!n&&this.store.hasOwnProperty(t))&&(this.store[t]=e,!0)},t.prototype.delete=function(t){delete this.store[t]},t}();n.InMemoryStore=s;var a=function(t){function e(){t.call(this,{store:new s})}return i(e,t),e}(o.SyncKeyValueFileSystem);n.InMemoryFileSystem=a,r.registerFileSystem("InMemory",a)},{"../core/browserfs":15,"../generic/key_value_filesystem":35}],9:[function(t,e,n){var i,o=this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},r=t("../core/buffer"),s=t("../core/browserfs"),a=t("../generic/key_value_filesystem"),u=t("../core/api_error"),c=t("../core/global"),l=r.Buffer,h=u.ApiError,f=u.ErrorCode,d=!1;try{c.localStorage.setItem("__test__",String.fromCharCode(55296)),d=c.localStorage.getItem("__test__")===String.fromCharCode(55296)}catch(t){d=!1}i=d?"binary_string":"binary_string_ie";var p=function(){function t(){}return t.prototype.name=function(){return"LocalStorage"},t.prototype.clear=function(){c.localStorage.clear()},t.prototype.beginTransaction=function(t){return new a.SimpleSyncRWTransaction(this)},t.prototype.get=function(t){try{var e=c.localStorage.getItem(t);if(null!==e)return new l(e,i)}catch(t){}},t.prototype.put=function(t,e,n){try{return!(!n&&null!==c.localStorage.getItem(t))&&(c.localStorage.setItem(t,e.toString(i)),!0)}catch(t){throw new h(f.ENOSPC,"LocalStorage is full.")}},t.prototype.delete=function(t){try{c.localStorage.removeItem(t)}catch(e){throw new h(f.EIO,"Unable to delete key "+t+": "+e)}},t}();n.LocalStorageStore=p;var g=function(t){function e(){t.call(this,{store:new p})}return o(e,t),e.isAvailable=function(){return void 0!==c.localStorage},e}(a.SyncKeyValueFileSystem);n.LocalStorageFileSystem=g,s.registerFileSystem("LocalStorage",g)},{"../core/api_error":14,"../core/browserfs":15,"../core/buffer":16,"../core/global":24,"../generic/key_value_filesystem":35}],10:[function(t,e,n){function i(t,e,n){return e?function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var i=e[0],o=this._get_fs(i);e[0]=o.path;try{return o.fs[t].apply(o.fs,e)}catch(t){throw this.standardizeError(t,o.path,i),t}}:function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var i=e[0],o=this._get_fs(i);if(e[0]=o.path,"function"==typeof e[e.length-1]){var r=e[e.length-1],s=this;e[e.length-1]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];t.length>0&&t[0]instanceof a.ApiError&&s.standardizeError(t[0],o.path,i),r.apply(null,t)}}return o.fs[t].apply(o.fs,e)}}var o=this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},r=t("../core/file_system"),s=t("./in_memory"),a=t("../core/api_error"),u=t("../core/node_fs"),c=t("../core/browserfs"),l=a.ApiError,h=a.ErrorCode,f=function(t){function e(){t.call(this),this.mntMap={},this.rootFs=new s.InMemoryFileSystem}return o(e,t),e.prototype.mount=function(t,e){if(this.mntMap[t])throw new l(h.EINVAL,"Mount point "+t+" is already taken.");this.rootFs.mkdirSync(t,511),this.mntMap[t]=e},e.prototype.umount=function(t){if(!this.mntMap[t])throw new l(h.EINVAL,"Mount point "+t+" is already unmounted.");delete this.mntMap[t],this.rootFs.rmdirSync(t)},e.prototype._get_fs=function(t){for(var e in this.mntMap){var n=this.mntMap[e];if(0===t.indexOf(e))return t=t.substr(e.length>1?e.length:0),""===t&&(t="/"),{fs:n,path:t}}return{fs:this.rootFs,path:t}},e.prototype.getName=function(){return"MountableFileSystem"},e.isAvailable=function(){return!0},e.prototype.diskSpace=function(t,e){e(0,0)},e.prototype.isReadOnly=function(){return!1},e.prototype.supportsLinks=function(){return!1},e.prototype.supportsProps=function(){return!1},e.prototype.supportsSynch=function(){return!0},e.prototype.standardizeError=function(t,e,n){var i;return-1!==(i=t.message.indexOf(e))&&(t.message=t.message.substr(0,i)+n+t.message.substr(i+e.length)),t},e.prototype.rename=function(t,e,n){var i=this._get_fs(t),o=this._get_fs(e);if(i.fs===o.fs){var r=this;return i.fs.rename(i.path,o.path,function(s){s&&r.standardizeError(r.standardizeError(s,i.path,t),o.path,e),n(s)})}return u.readFile(t,function(i,o){return i?n(i):void u.writeFile(e,o,function(e){return e?n(e):void u.unlink(t,n)})})},e.prototype.renameSync=function(t,e){var n=this._get_fs(t),i=this._get_fs(e);if(n.fs===i.fs)try{return n.fs.renameSync(n.path,i.path)}catch(o){throw this.standardizeError(this.standardizeError(o,n.path,t),i.path,e),o}var o=u.readFileSync(t);return u.writeFileSync(e,o),u.unlinkSync(t)},e}(r.BaseFileSystem);n.MountableFileSystem=f;for(var d=[["readdir","exists","unlink","rmdir","readlink"],["stat","mkdir","realpath","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],p=0;p<d.length;p++)for(var g=d[p],m=0;m<g.length;m++){var y=g[m];f.prototype[y]=i(y,!1,p+1),f.prototype[y+"Sync"]=i(y+"Sync",!0,p+1)}c.registerFileSystem("MountableFileSystem",f)},{"../core/api_error":14,"../core/browserfs":15,"../core/file_system":23,"../core/node_fs":26,"./in_memory":8}],11:[function(t,e,n){function i(t){return 146|t}var o=this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},r=t("../core/file_system"),s=t("../core/buffer"),a=t("../core/api_error"),u=t("../core/file_flag"),c=t("../generic/preload_file"),l=t("../core/browserfs"),h=t("../core/node_path"),f=a.ApiError,d=s.Buffer,p=a.ErrorCode,g="/.deletedFiles.log",m=function(t){function e(e,n,i,o,r){t.call(this,e,n,i,o,r)}return o(e,t),e.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},e.prototype.closeSync=function(){this.syncSync()},e}(c.PreloadFile),y=function(t){function e(e,n){if(t.call(this),this._isInitialized=!1,this._deletedFiles={},this._deleteLog=null,this._writable=e,this._readable=n,this._writable.isReadOnly())throw new f(p.EINVAL,"Writable file system must be writable.");if(!this._writable.supportsSynch()||!this._readable.supportsSynch())throw new f(p.EINVAL,"OverlayFS currently only operates on synchronous file systems.")}return o(e,t),e.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},e.prototype.createParentDirectories=function(t){for(var e=this,n=h.dirname(t),i=[];!this._writable.existsSync(n);)i.push(n),n=h.dirname(n);i=i.reverse(),i.forEach(function(t){e._writable.mkdirSync(t,e.statSync(t,!1).mode)})},e.isAvailable=function(){return!0},e.prototype._syncSync=function(t){this.createParentDirectories(t.getPath()),this._writable.writeFileSync(t.getPath(),t.getBuffer(),null,u.FileFlag.getFileFlag("w"),t.getStats().mode)},e.prototype.getName=function(){return"OverlayFS"},e.prototype.initialize=function(t){var e=this;this._isInitialized?t():this._writable.readFile(g,"utf8",u.FileFlag.getFileFlag("r"),function(n,i){if(n){if(n.type!==p.ENOENT)return t(n)}else i.split("\n").forEach(function(t){e._deletedFiles[t.slice(1)]="d"===t.slice(0,1)});e._writable.open(g,u.FileFlag.getFileFlag("a"),420,function(n,i){n?t(n):(e._deleteLog=i,t())})})},e.prototype.isReadOnly=function(){return!1},e.prototype.supportsSynch=function(){return!0},e.prototype.supportsLinks=function(){return!1},e.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},e.prototype.deletePath=function(t){this._deletedFiles[t]=!0;var e=new d("d"+t+"\n");this._deleteLog.writeSync(e,0,e.length,null),this._deleteLog.syncSync()},
e.prototype.undeletePath=function(t){if(this._deletedFiles[t]){this._deletedFiles[t]=!1;var e=new d("u"+t);this._deleteLog.writeSync(e,0,e.length,null),this._deleteLog.syncSync()}},e.prototype.renameSync=function(t,e){var n=this,i=this.statSync(t,!1);if(i.isDirectory()){if(t===e)return;var o=511;if(this.existsSync(e)){var r=this.statSync(e,!1),o=r.mode;if(!r.isDirectory())throw new f(p.ENOTDIR,"Path "+e+" is a file.");if(this.readdirSync(e).length>0)throw new f(p.ENOTEMPTY,"Path "+e+" not empty.")}this._writable.existsSync(t)?this._writable.renameSync(t,e):this._writable.existsSync(e)||this._writable.mkdirSync(e,o),this._readable.existsSync(t)&&this._readable.readdirSync(t).forEach(function(i){n.renameSync(h.resolve(t,i),h.resolve(e,i))})}else{if(this.existsSync(e)&&this.statSync(e,!1).isDirectory())throw new f(p.EISDIR,"Path "+e+" is a directory.");this.writeFileSync(e,this.readFileSync(t,null,u.FileFlag.getFileFlag("r")),null,u.FileFlag.getFileFlag("w"),i.mode)}t!==e&&this.existsSync(t)&&this.unlinkSync(t)},e.prototype.statSync=function(t,e){try{return this._writable.statSync(t,e)}catch(o){if(this._deletedFiles[t])throw new f(p.ENOENT,"Path "+t+" does not exist.");var n=this._readable.statSync(t,e).clone();return n.mode=i(n.mode),n}},e.prototype.openSync=function(t,e,n){if(this.existsSync(t))switch(e.pathExistsAction()){case u.ActionType.TRUNCATE_FILE:return this.createParentDirectories(t),this._writable.openSync(t,e,n);case u.ActionType.NOP:if(this._writable.existsSync(t))return this._writable.openSync(t,e,n);var i=this._readable.statSync(t,!1).clone();return i.mode=n,new m(this,t,e,i,this._readable.readFileSync(t,null,u.FileFlag.getFileFlag("r")));default:throw new f(p.EEXIST,"Path "+t+" exists.")}else switch(e.pathNotExistsAction()){case u.ActionType.CREATE_FILE:return this.createParentDirectories(t),this._writable.openSync(t,e,n);default:throw new f(p.ENOENT,"Path "+t+" does not exist.")}},e.prototype.unlinkSync=function(t){if(!this.existsSync(t))throw new f(p.ENOENT,"Path "+t+" does not exist.");this._writable.existsSync(t)&&this._writable.unlinkSync(t),this.existsSync(t)&&this.deletePath(t)},e.prototype.rmdirSync=function(t){if(!this.existsSync(t))throw new f(p.ENOENT,"Path "+t+" does not exist.");if(this._writable.existsSync(t)&&this._writable.rmdirSync(t),this.existsSync(t)){if(this.readdirSync(t).length>0)throw new f(p.ENOTEMPTY,"Directory "+t+" is not empty.");this.deletePath(t)}},e.prototype.mkdirSync=function(t,e){if(this.existsSync(t))throw new f(p.EEXIST,"Path "+t+" already exists.");this.createParentDirectories(t),this._writable.mkdirSync(t,e)},e.prototype.readdirSync=function(t){var e=this;if(!this.statSync(t,!1).isDirectory())throw new f(p.ENOTDIR,"Path "+t+" is not a directory.");var n=[];try{n=n.concat(this._writable.readdirSync(t))}catch(t){}try{n=n.concat(this._readable.readdirSync(t))}catch(t){}var i={};return n.filter(function(n){var o=void 0===i[n]&&!0!==e._deletedFiles[t+"/"+n];return i[n]=!0,o})},e.prototype.existsSync=function(t){return this._writable.existsSync(t)||this._readable.existsSync(t)&&!0!==this._deletedFiles[t]},e.prototype.chmodSync=function(t,e,n){var i=this;this.operateOnWritable(t,function(){i._writable.chmodSync(t,e,n)})},e.prototype.chownSync=function(t,e,n,i){var o=this;this.operateOnWritable(t,function(){o._writable.chownSync(t,e,n,i)})},e.prototype.utimesSync=function(t,e,n){var i=this;this.operateOnWritable(t,function(){i._writable.utimesSync(t,e,n)})},e.prototype.operateOnWritable=function(t,e){if(!this.existsSync(t))throw new f(p.ENOENT,"Path "+t+" does not exist.");this._writable.existsSync(t)||this.copyToWritable(t),e()},e.prototype.copyToWritable=function(t){var e=this.statSync(t,!1);e.isDirectory()?this._writable.mkdirSync(t,e.mode):this.writeFileSync(t,this._readable.readFileSync(t,null,u.FileFlag.getFileFlag("r")),null,u.FileFlag.getFileFlag("w"),this.statSync(t,!1).mode)},e}(r.SynchronousFileSystem);l.registerFileSystem("OverlayFS",y),e.exports=y},{"../core/api_error":14,"../core/browserfs":15,"../core/buffer":16,"../core/file_flag":22,"../core/file_system":23,"../core/node_path":28,"../generic/preload_file":36}],12:[function(t,e,n){function i(t){return{type:h.ERROR,errorData:t.writeToBuffer().toArrayBuffer()}}function o(t){return g.ApiError.fromBuffer(new b(t.errorData))}function r(t){return{type:h.STATS,statsData:t.toBuffer().toArrayBuffer()}}function s(t){return _.Stats.fromBuffer(new b(t.statsData))}function a(t){return{type:h.FILEFLAG,flagStr:t.getFlagString()}}function u(t){return m.FileFlag.getFileFlag(t.flagStr)}function c(t){return{type:h.BUFFER,data:t.toArrayBuffer()}}function l(t){return new b(t.data)}var h,f=this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},d=t("../core/file_system"),p=t("../core/buffer"),g=t("../core/api_error"),m=t("../core/file_flag"),y=t("../core/file"),_=t("../core/node_fs_stats"),v=t("../generic/preload_file"),w=t("../core/browserfs"),b=p.Buffer;!function(t){t[t.CB=0]="CB",t[t.FD=1]="FD",t[t.ERROR=2]="ERROR",t[t.STATS=3]="STATS",t[t.PROBE=4]="PROBE",t[t.FILEFLAG=5]="FILEFLAG",t[t.BUFFER=6]="BUFFER"}(h||(h={}));var S=function(){function t(){this._callbacks={},this._nextId=0}return t.prototype.toRemoteArg=function(t){var e=this._nextId++;return this._callbacks[e]=t,{type:h.CB,id:e}},t.prototype.toLocalArg=function(t){var e=this._callbacks[t];return delete this._callbacks[t],e},t}(),E=function(){function t(){this._fileDescriptors={},this._nextId=0}return t.prototype.toRemoteArg=function(t,e,n,i){var o,r,s=this._nextId++;this._fileDescriptors[s]=t,t.stat(function(a,u){a?i(a):(r=u.toBuffer().toArrayBuffer(),n.isReadable()?t.read(new b(u.size),0,u.size,0,function(t,a,u){t?i(t):(o=u.toArrayBuffer(),i(null,{type:h.FD,id:s,data:o,stat:r,path:e,flag:n.getFlagString()}))}):i(null,{type:h.FD,id:s,data:new ArrayBuffer(0),stat:r,path:e,flag:n.getFlagString()}))})},t.prototype._applyFdChanges=function(t,e){var n=this._fileDescriptors[t.id],i=new b(t.data),o=_.Stats.fromBuffer(new b(t.stat)),r=m.FileFlag.getFileFlag(t.flag);r.isWriteable()?n.write(i,0,i.length,r.isAppendable()?n.getPos():0,function(t){function s(){n.stat(function(t,i){t?e(t):i.mode!==o.mode?n.chmod(o.mode,function(t){e(t,n)}):e(t,n)})}t?e(t):r.isAppendable()?s():n.truncate(i.length,function(){s()})}):e(null,n)},t.prototype.applyFdAPIRequest=function(t,e){var n=this,i=t.args[0];this._applyFdChanges(i,function(o,r){o?e(o):r[t.method](function(o){"close"===t.method&&delete n._fileDescriptors[i.id],e(o)})})},t}(),I=function(t){function e(e,n,i,o,r,s){t.call(this,e,n,i,o,s),this._remoteFdId=r}return f(e,t),e.prototype.getRemoteFdId=function(){return this._remoteFdId},e.prototype.toRemoteArg=function(){return{type:h.FD,id:this._remoteFdId,data:this.getBuffer().toArrayBuffer(),stat:this.getStats().toBuffer().toArrayBuffer(),path:this.getPath(),flag:this.getFlag().getFlagString()}},e.prototype._syncClose=function(t,e){var n=this;this.isDirty()?this._fs.syncClose(t,this,function(t){t||n.resetDirty(),e(t)}):e()},e.prototype.sync=function(t){this._syncClose("sync",t)},e.prototype.close=function(t){this._syncClose("close",t)},e}(v.PreloadFile),k=function(t){function e(e){var n=this;t.call(this),this._callbackConverter=new S,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._outstandingRequests={},this._worker=e,this._worker.addEventListener("message",function(t){if(null!=t.data&&"object"==typeof t.data&&t.data.hasOwnProperty("browserfsMessage")&&t.data.browserfsMessage){var e,i=t.data,o=i.args,r=new Array(o.length);for(e=0;e<r.length;e++)r[e]=n._argRemote2Local(o[e]);n._callbackConverter.toLocalArg(i.cbId).apply(null,r)}})}return f(e,t),e.isAvailable=function(){return"undefined"!=typeof Worker},e.prototype.getName=function(){return"WorkerFS"},e.prototype._argRemote2Local=function(t){if(null==t)return t;switch(typeof t){case"object":if(null==t.type||"number"!=typeof t.type)return t;var e=t;switch(e.type){case h.ERROR:return o(e);case h.FD:var n=e;return new I(this,n.path,m.FileFlag.getFileFlag(n.flag),_.Stats.fromBuffer(new b(n.stat)),n.id,new b(n.data));case h.STATS:return s(e);case h.FILEFLAG:return u(e);case h.BUFFER:return l(e);default:return t}default:return t}},e.prototype._argLocal2Remote=function(t){if(null==t)return t;switch(typeof t){case"object":return t instanceof _.Stats?r(t):t instanceof g.ApiError?i(t):t instanceof I?t.toRemoteArg():t instanceof m.FileFlag?a(t):t instanceof b?c(t):t;case"function":return this._callbackConverter.toRemoteArg(t);default:return t}},e.prototype.initialize=function(t){var e=this;if(this._isInitialized)t();else{var n={browserfsMessage:!0,method:"probe",args:[this._callbackConverter.toRemoteArg(function(n){e._isInitialized=!0,e._isReadOnly=n.isReadOnly,e._supportLinks=n.supportsLinks,e._supportProps=n.supportsProps,t()})]};this._worker.postMessage(n)}},e.prototype.isReadOnly=function(){return this._isReadOnly},e.prototype.supportsSynch=function(){return!1},e.prototype.supportsLinks=function(){return this._supportLinks},e.prototype.supportsProps=function(){return this._supportProps},e.prototype._rpc=function(t,e){var n,i={browserfsMessage:!0,method:t,args:null},o=new Array(e.length);for(n=0;n<e.length;n++)o[n]=this._argLocal2Remote(e[n]);i.args=o,this._worker.postMessage(i)},e.prototype.rename=function(t,e,n){this._rpc("rename",arguments)},e.prototype.stat=function(t,e,n){this._rpc("stat",arguments)},e.prototype.open=function(t,e,n,i){this._rpc("open",arguments)},e.prototype.unlink=function(t,e){this._rpc("unlink",arguments)},e.prototype.rmdir=function(t,e){this._rpc("rmdir",arguments)},e.prototype.mkdir=function(t,e,n){this._rpc("mkdir",arguments)},e.prototype.readdir=function(t,e){this._rpc("readdir",arguments)},e.prototype.exists=function(t,e){this._rpc("exists",arguments)},e.prototype.realpath=function(t,e,n){this._rpc("realpath",arguments)},e.prototype.truncate=function(t,e,n){this._rpc("truncate",arguments)},e.prototype.readFile=function(t,e,n,i){this._rpc("readFile",arguments)},e.prototype.writeFile=function(t,e,n,i,o,r){this._rpc("writeFile",arguments)},e.prototype.appendFile=function(t,e,n,i,o,r){this._rpc("appendFile",arguments)},e.prototype.chmod=function(t,e,n,i){this._rpc("chmod",arguments)},e.prototype.chown=function(t,e,n,i,o){this._rpc("chown",arguments)},e.prototype.utimes=function(t,e,n,i){this._rpc("utimes",arguments)},e.prototype.link=function(t,e,n){this._rpc("link",arguments)},e.prototype.symlink=function(t,e,n,i){this._rpc("symlink",arguments)},e.prototype.readlink=function(t,e){this._rpc("readlink",arguments)},e.prototype.syncClose=function(t,e,n){this._worker.postMessage({browserfsMessage:!0,method:t,args:[e.toRemoteArg(),this._callbackConverter.toRemoteArg(n)]})},e.attachRemoteListener=function(t){function e(t,e,n){switch(typeof t){case"object":t instanceof _.Stats?n(null,r(t)):t instanceof g.ApiError?n(null,i(t)):t instanceof y.BaseFile?n(null,f.toRemoteArg(t,e[0],e[1],n)):t instanceof m.FileFlag?n(null,a(t)):t instanceof b?n(null,c(t)):n(null,t);break;default:n(null,t)}}function n(n,r){if(null==n)return n;switch(typeof n){case"object":if("number"!=typeof n.type)return n;var a=n;switch(a.type){case h.CB:var c=n.id;return function(){function n(e){u>0&&(u=-1,s={browserfsMessage:!0,cbId:c,args:[i(e)]},t.postMessage(s))}var o,s,a=new Array(arguments.length),u=arguments.length;for(o=0;o<arguments.length;o++)!function(i,o){e(o,r,function(e,o){a[i]=o,e?n(e):0==--u&&(s={browserfsMessage:!0,cbId:c,args:a},t.postMessage(s))})}(o,arguments[o]);0===arguments.length&&(s={browserfsMessage:!0,cbId:c,args:a},t.postMessage(s))};case h.ERROR:return o(a);case h.STATS:return s(a);case h.FILEFLAG:return u(a);case h.BUFFER:return l(a);default:return n}default:return n}}var f=new E,d=w.BFSRequire("fs");t.addEventListener("message",function(e){if(null!=e.data&&"object"==typeof e.data&&e.data.hasOwnProperty("browserfsMessage")&&e.data.browserfsMessage){var o,r=e.data,s=r.args,a=new Array(s.length);switch(r.method){case"close":case"sync":!function(){var e=s[1];f.applyFdAPIRequest(r,function(n){var o={browserfsMessage:!0,cbId:e.id,args:n?[i(n)]:[]};t.postMessage(o)})}();break;case"probe":!function(){var e=d.getRootFS(),n=s[0],i={browserfsMessage:!0,cbId:n.id,args:[{type:h.PROBE,isReadOnly:e.isReadOnly(),supportsLinks:e.supportsLinks(),supportsProps:e.supportsProps()}]};t.postMessage(i)}();break;default:for(o=0;o<s.length;o++)a[o]=n(s[o],a);var u=d.getRootFS();u[r.method].apply(u,a)}}})},e}(d.BaseFileSystem);n.WorkerFS=k,w.registerFileSystem("WorkerFS",k)},{"../core/api_error":14,"../core/browserfs":15,"../core/buffer":16,"../core/file":21,"../core/file_flag":22,"../core/file_system":23,"../core/node_fs_stats":27,"../generic/preload_file":36}],13:[function(t,e,n){function i(t,e){var n=31&e,i=(e>>5&15)-1,o=1980+(e>>9),r=31&t,s=t>>5&63,a=t>>11;return new Date(o,i,n,a,s,r)}function o(t,e,n,i){return 0===i?"":t.toString(e?"utf8":"extended_ascii",n,n+i)}var r=this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},s=t("../core/buffer"),a=t("../core/api_error"),u=t("../generic/file_index"),c=t("../core/browserfs"),l=t("../core/node_fs_stats"),h=t("../core/file_system"),f=t("../core/file_flag"),d=t("../core/buffer_core_arraybuffer"),p=t("../generic/preload_file"),g=t("zlib-inflate").inflateRaw,m=a.ApiError,y=a.ErrorCode,_=f.ActionType;!function(t){t[t.MSDOS=0]="MSDOS",t[t.AMIGA=1]="AMIGA",t[t.OPENVMS=2]="OPENVMS",t[t.UNIX=3]="UNIX",t[t.VM_CMS=4]="VM_CMS",t[t.ATARI_ST=5]="ATARI_ST",t[t.OS2_HPFS=6]="OS2_HPFS",t[t.MAC=7]="MAC",t[t.Z_SYSTEM=8]="Z_SYSTEM",t[t.CP_M=9]="CP_M",t[t.NTFS=10]="NTFS",t[t.MVS=11]="MVS",t[t.VSE=12]="VSE",t[t.ACORN_RISC=13]="ACORN_RISC",t[t.VFAT=14]="VFAT",t[t.ALT_MVS=15]="ALT_MVS",t[t.BEOS=16]="BEOS",t[t.TANDEM=17]="TANDEM",t[t.OS_400=18]="OS_400",t[t.OSX=19]="OSX"}(n.ExternalFileAttributeType||(n.ExternalFileAttributeType={})),n.ExternalFileAttributeType,function(t){t[t.STORED=0]="STORED",t[t.SHRUNK=1]="SHRUNK",t[t.REDUCED_1=2]="REDUCED_1",t[t.REDUCED_2=3]="REDUCED_2",t[t.REDUCED_3=4]="REDUCED_3",t[t.REDUCED_4=5]="REDUCED_4",t[t.IMPLODE=6]="IMPLODE",t[t.DEFLATE=8]="DEFLATE",t[t.DEFLATE64=9]="DEFLATE64",t[t.TERSE_OLD=10]="TERSE_OLD",t[t.BZIP2=12]="BZIP2",t[t.LZMA=14]="LZMA",t[t.TERSE_NEW=18]="TERSE_NEW",t[t.LZ77=19]="LZ77",t[t.WAVPACK=97]="WAVPACK",t[t.PPMD=98]="PPMD"}(n.CompressionMethod||(n.CompressionMethod={}));var v=n.CompressionMethod,w=function(){function t(t){if(this.data=t,67324752!==t.readUInt32LE(0))throw new m(y.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))}return t.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},t.prototype.flags=function(){return this.data.readUInt16LE(6)},t.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},t.prototype.lastModFileTime=function(){return i(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},t.prototype.crc32=function(){return this.data.readUInt32LE(14)},t.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},t.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},t.prototype.fileName=function(){return o(this.data,this.useUTF8(),30,this.fileNameLength())},t.prototype.extraField=function(){var t=30+this.fileNameLength();return this.data.slice(t,t+this.extraFieldLength())},t.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},t.prototype.useUTF8=function(){return 2048==(2048&this.flags())},t}();n.FileHeader=w;var b=function(){function t(t,e,n){this.header=t,this.record=e,this.data=n}return t.prototype.decompress=function(){var t=this.data,e=this.header.compressionMethod();switch(e){case v.DEFLATE:if(t.getBufferCore()instanceof d.BufferCoreArrayBuffer){var n=t.getBufferCore(),i=n.getDataView(),o=i.byteOffset+t.getOffset(),r=new Uint8Array(i.buffer).subarray(o,o+this.record.compressedSize()),a=g(r,{chunkSize:this.record.uncompressedSize()});return new s.Buffer(new d.BufferCoreArrayBuffer(a.buffer),a.byteOffset,a.byteOffset+a.length)}var u=t.slice(0,this.record.compressedSize());return new s.Buffer(g(u.toJSON().data,{chunkSize:this.record.uncompressedSize()}));case v.STORED:return t.sliceCopy(0,this.record.uncompressedSize());default:var c=v[e];throw c=c||"Unknown: "+e,new m(y.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+c)}},t}();n.FileData=b;var S=function(){function t(t){this.data=t}return t.prototype.crc32=function(){return this.data.readUInt32LE(0)},t.prototype.compressedSize=function(){return this.data.readUInt32LE(4)},t.prototype.uncompressedSize=function(){return this.data.readUInt32LE(8)},t}();n.DataDescriptor=S;var E=function(){function t(t){if(this.data=t,134630224!==this.data.readUInt32LE(0))throw new m(y.EINVAL,"Invalid archive extra data record signature: "+this.data.readUInt32LE(0))}return t.prototype.length=function(){return this.data.readUInt32LE(4)},t.prototype.extraFieldData=function(){return this.data.slice(8,8+this.length())},t}();n.ArchiveExtraDataRecord=E;var I=function(){function t(t){if(this.data=t,84233040!==this.data.readUInt32LE(0))throw new m(y.EINVAL,"Invalid digital signature signature: "+this.data.readUInt32LE(0))}return t.prototype.size=function(){return this.data.readUInt16LE(4)},t.prototype.signatureData=function(){return this.data.slice(6,6+this.size())},t}();n.DigitalSignature=I;var k=function(){function t(t,e){if(this.zipData=t,this.data=e,33639248!==this.data.readUInt32LE(0))throw new m(y.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0))}return t.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},t.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},t.prototype.flag=function(){return this.data.readUInt16LE(8)},t.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},t.prototype.lastModFileTime=function(){return i(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},t.prototype.crc32=function(){return this.data.readUInt32LE(16)},t.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},t.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},t.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},t.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},t.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},t.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},t.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},t.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},t.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},t.prototype.fileName=function(){return o(this.data,this.useUTF8(),46,this.fileNameLength()).replace(/\\/g,"/")},t.prototype.extraField=function(){var t=44+this.fileNameLength();return this.data.slice(t,t+this.extraFieldLength())},t.prototype.fileComment=function(){var t=46+this.fileNameLength()+this.extraFieldLength();return o(this.data,this.useUTF8(),t,this.fileCommentLength())},t.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},t.prototype.isDirectory=function(){var t=this.fileName();return!!(16&this.externalAttributes())||"/"===t.charAt(t.length-1)},t.prototype.isFile=function(){return!this.isDirectory()},t.prototype.useUTF8=function(){return 2048==(2048&this.flag())},t.prototype.isEncrypted=function(){return 1==(1&this.flag())},t.prototype.getData=function(){var t=this.headerRelativeOffset(),e=new w(this.zipData.slice(t));return new b(e,this,this.zipData.slice(t+e.totalSize())).decompress()},t.prototype.getStats=function(){return new l.Stats(l.FileType.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())},t}();n.CentralDirectory=k;var x=function(){function t(t){if(this.data=t,101010256!==this.data.readUInt32LE(0))throw new m(y.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))}return t.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},t.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},t.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},t.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},t.prototype.cdSize=function(){return this.data.readUInt32LE(12)},t.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},t.prototype.cdZipComment=function(){return o(this.data,!0,22,this.data.readUInt16LE(20))},t}();n.EndOfCentralDirectory=x;var C=function(t){function e(e,n){void 0===n&&(n=""),t.call(this),this.data=e,this.name=n,this._index=new u.FileIndex,this.populateIndex()}return r(e,t),e.prototype.getName=function(){return"ZipFS"+(""!==this.name?" "+this.name:"")},e.isAvailable=function(){return!0},e.prototype.diskSpace=function(t,e){e(this.data.length,0)},e.prototype.isReadOnly=function(){return!0},e.prototype.supportsLinks=function(){return!1},e.prototype.supportsProps=function(){return!1},e.prototype.supportsSynch=function(){return!0},e.prototype.statSync=function(t,e){var n=this._index.getInode(t);if(null===n)throw new m(y.ENOENT,t+" not found.");return n.isFile()?n.getData().getStats():n.getStats()},e.prototype.openSync=function(t,e,n){if(e.isWriteable())throw new m(y.EPERM,t);var i=this._index.getInode(t);if(null===i)throw new m(y.ENOENT,t+" is not in the FileIndex.");if(i.isDir())throw new m(y.EISDIR,t+" is a directory.");var o=i.getData(),r=o.getStats();switch(e.pathExistsAction()){case _.THROW_EXCEPTION:case _.TRUNCATE_FILE:throw new m(y.EEXIST,t+" already exists.");case _.NOP:return new p.NoSyncFile(this,t,e,r,o.getData());default:throw new m(y.EINVAL,"Invalid FileMode object.")}return null},e.prototype.readdirSync=function(t){var e=this._index.getInode(t);if(null===e)throw new m(y.ENOENT,t+" not found.");if(e.isFile())throw new m(y.ENOTDIR,t+" is a file, not a directory.");return e.getListing()},e.prototype.readFileSync=function(t,e,n){var i=this.openSync(t,n,420);try{var o=i,r=o.getBuffer();return null===e?r.length>0?r.sliceCopy():new s.Buffer(0):r.toString(e)}finally{i.closeSync()}},e.prototype.getEOCD=function(){for(var t=Math.min(65557,this.data.length-1),e=22;t>e;e++)if(101010256===this.data.readUInt32LE(this.data.length-e))return new x(this.data.slice(this.data.length-e));throw new m(y.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},e.prototype.populateIndex=function(){var t=this.getEOCD();if(t.diskNumber()!==t.cdDiskNumber())throw new m(y.EINVAL,"ZipFS does not support spanned zip files.");var e=t.cdOffset();if(4294967295===e)throw new m(y.EINVAL,"ZipFS does not support Zip64.");for(var n=e+t.cdSize();n>e;){var i=new k(this.data,this.data.slice(e));e+=i.totalSize();var o=i.fileName();if("/"===o.charAt(0))throw new Error("WHY IS THIS ABSOLUTE");"/"===o.charAt(o.length-1)&&(o=o.substr(0,o.length-1)),i.isDirectory()?this._index.addPath("/"+o,new u.DirInode):this._index.addPath("/"+o,new u.FileInode(i))}},e}(h.SynchronousFileSystem);n.ZipFS=C,c.registerFileSystem("ZipFS",C)},{"../core/api_error":14,"../core/browserfs":15,"../core/buffer":16,"../core/buffer_core_arraybuffer":19,"../core/file_flag":22,"../core/file_system":23,"../core/node_fs_stats":27,"../generic/file_index":33,"../generic/preload_file":36,"zlib-inflate":2}],14:[function(t,e,n){var i=t("./buffer"),o=i.Buffer;!function(t){t[t.EPERM=0]="EPERM",t[t.ENOENT=1]="ENOENT",t[t.EIO=2]="EIO",t[t.EBADF=3]="EBADF",t[t.EACCES=4]="EACCES",t[t.EBUSY=5]="EBUSY",t[t.EEXIST=6]="EEXIST",t[t.ENOTDIR=7]="ENOTDIR",t[t.EISDIR=8]="EISDIR",t[t.EINVAL=9]="EINVAL",t[t.EFBIG=10]="EFBIG",t[t.ENOSPC=11]="ENOSPC",t[t.EROFS=12]="EROFS",t[t.ENOTEMPTY=13]="ENOTEMPTY",t[t.ENOTSUP=14]="ENOTSUP"}(n.ErrorCode||(n.ErrorCode={}));var r=n.ErrorCode,s={};s[r.EPERM]="Operation not permitted.",s[r.ENOENT]="No such file or directory.",s[r.EIO]="Input/output error.",s[r.EBADF]="Bad file descriptor.",s[r.EACCES]="Permission denied.",s[r.EBUSY]="Resource busy or locked.",s[r.EEXIST]="File exists.",s[r.ENOTDIR]="File is not a directory.",s[r.EISDIR]="File is a directory.",s[r.EINVAL]="Invalid argument.",s[r.EFBIG]="File is too big.",s[r.ENOSPC]="No space left on disk.",s[r.EROFS]="Cannot modify a read-only file system.",s[r.ENOTEMPTY]="Directory is not empty.",s[r.ENOTSUP]="Operation is not supported.";var a=function(){function t(t,e){this.type=t,this.code=r[t],this.message=null!=e?e:s[t]}return t.prototype.toString=function(){return this.code+": "+s[this.type]+" "+this.message},t.prototype.writeToBuffer=function(t,e){void 0===t&&(t=new o(this.bufferSize())),void 0===e&&(e=0),t.writeUInt8(this.type,e);var n=t.write(this.message,e+5);return t.writeUInt32LE(n,e+1),t},t.fromBuffer=function(e,n){return void 0===n&&(n=0),new t(e.readUInt8(n),e.toString("utf8",n+5,n+5+e.readUInt32LE(n+1)))},t.prototype.bufferSize=function(){return 5+o.byteLength(this.message)},t.FileError=function(e,n){return new t(e,n+": "+s[e])},t.ENOENT=function(t){return this.FileError(r.ENOENT,t)},t.EEXIST=function(t){return this.FileError(r.EEXIST,t)},t.EISDIR=function(t){return this.FileError(r.EISDIR,t)},t.ENOTDIR=function(t){return this.FileError(r.ENOTDIR,t)},t.EPERM=function(t){return this.FileError(r.EPERM,t)},t}();n.ApiError=a},{"./buffer":16}],15:[function(t,e,n){function i(t){t.Buffer=a.Buffer,t.process=l.process;var e=null!=t.require?t.require:null;t.require=function(t){var n=r(t);return null==n?e.apply(null,Array.prototype.slice.call(arguments,0)):n}}function o(t,e){n.FileSystem[t]=e}function r(t){switch(t){case"fs":return u;case"path":return c;case"buffer":return a;case"process":return l.process;default:return n.FileSystem[t]}}function s(t){return u._initialize(t)}var a=t("./buffer"),u=t("./node_fs"),c=t("./node_path"),l=t("./node_process");n.install=i,n.FileSystem={},n.registerFileSystem=o,n.BFSRequire=r,n.initialize=s},{"./buffer":16,"./node_fs":26,"./node_path":28,"./node_process":29}],16:[function(t,e,n){var i=t("./buffer_core"),o=t("./buffer_core_array"),r=t("./buffer_core_arraybuffer"),s=t("./buffer_core_imagedata"),a=t("./string_util"),u=[r.BufferCoreArrayBuffer,s.BufferCoreImageData,o.BufferCoreArray],c=function(){var t,e;for(t=0;t<u.length;t++)if(e=u[t],e.isAvailable())return e;throw new Error("This browser does not support any available BufferCore implementations.")}(),l=function(){function t(e,n,o){void 0===n&&(n="utf8"),this.offset=0;var s;if(!(this instanceof t))return new t(e,n);if(e instanceof i.BufferCoreCommon){this.data=e;var a="number"==typeof n?n:0,u="number"==typeof o?o:this.data.getLength();this.offset=a,this.length=u-a}else if("number"==typeof e){if(e!==e>>>0)throw new TypeError("Buffer size must be a uint32.");this.length=e,this.data=new c(e)}else if("undefined"!=typeof DataView&&e instanceof DataView)this.data=new r.BufferCoreArrayBuffer(e),this.length=e.byteLength;else if("undefined"!=typeof ArrayBuffer&&"number"==typeof e.byteLength)this.data=new r.BufferCoreArrayBuffer(e),this.length=e.byteLength;else if(e instanceof t){var l=e;this.data=new c(e.length),this.length=e.length,l.copy(this)}else if(Array.isArray(e)||null!=e&&"object"==typeof e&&"number"==typeof e[0]){for(this.data=new c(e.length),s=0;s<e.length;s++)this.data.writeUInt8(s,e[s]);this.length=e.length}else{if("string"!=typeof e)throw new Error("Invalid argument to Buffer constructor: "+e);this.length=t.byteLength(e,n),this.data=new c(this.length),this.write(e,0,this.length,n)}}return t.prototype.getBufferCore=function(){return this.data},t.prototype.getOffset=function(){return this.offset},t.prototype.set=function(t,e){return 0>e?this.writeInt8(e,t):this.writeUInt8(e,t)},t.prototype.get=function(t){return this.readUInt8(t)},t.prototype.write=function(e,n,i,o){if(void 0===n&&(n=0),void 0===i&&(i=this.length),void 0===o&&(o="utf8"),"string"==typeof n?(o=""+n,n=0,i=this.length):"string"==typeof i&&(o=""+i,i=this.length),n>=this.length)return 0;var r=a.FindUtil(o);return i=i+n>this.length?this.length-n:i,n+=this.offset,r.str2byte(e,0===n&&i===this.length?this:new t(this.data,n,i+n))},t.prototype.toString=function(e,n,i){if(void 0===e&&(e="utf8"),void 0===n&&(n=0),void 0===i&&(i=this.length),!(i>=n))throw new Error("Invalid start/end positions: "+n+" - "+i);return n===i?"":(i>this.length&&(i=this.length),a.FindUtil(e).byte2str(0===n&&i===this.length?this:new t(this.data,n+this.offset,i+this.offset)))},t.prototype.toJSON=function(){for(var t=this.length,e=new Array(t),n=0;t>n;n++)e[n]=this.readUInt8(n);return{type:"Buffer",data:e}},t.prototype.toArrayBuffer=function(){var e=this.getBufferCore();if(e instanceof r.BufferCoreArrayBuffer){var n=e.getDataView(),i=n.buffer;return 0===n.byteOffset&&n.byteLength===i.byteLength?i:i.slice(n.byteOffset,n.byteLength)}var i=new ArrayBuffer(this.length),o=new t(i);return this.copy(o,0,0,this.length),i},t.prototype.copy=function(t,e,n,i){if(void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=this.length),e=0>e?0:e,(n=0>n?0:n)>i)throw new RangeError("sourceEnd < sourceStart");if(i===n)return 0;if(e>=t.length)throw new RangeError("targetStart out of bounds");if(n>=this.length)throw new RangeError("sourceStart out of bounds");if(i>this.length)throw new RangeError("sourceEnd out of bounds");var o,r=Math.min(i-n,t.length-e,this.length-n);for(o=0;r-3>o;o+=4)t.writeInt32LE(this.readInt32LE(n+o),e+o);for(o=4294967292&r;r>o;o++)t.writeUInt8(this.readUInt8(n+o),e+o);return r},t.prototype.slice=function(e,n){if(void 0===e&&(e=0),void 0===n&&(n=this.length),0>e&&0>(e+=this.length)&&(e=0),0>n&&0>(n+=this.length)&&(n=0),n>this.length&&(n=this.length),e>n&&(e=n),0>e||0>n||e>=this.length||n>this.length)throw new Error("Invalid slice indices.");return new t(this.data,e+this.offset,n+this.offset)},t.prototype.sliceCopy=function(e,n){if(void 0===e&&(e=0),void 0===n&&(n=this.length),0>e&&0>(e+=this.length)&&(e=0),0>n&&0>(n+=this.length)&&(n=0),n>this.length&&(n=this.length),e>n&&(e=n),0>e||0>n||e>=this.length||n>this.length)throw new Error("Invalid slice indices.");return new t(this.data.copy(e+this.offset,n+this.offset))},t.prototype.fill=function(t,e,n){switch(void 0===e&&(e=0),void 0===n&&(n=this.length),typeof t){case"string":t=255&t.charCodeAt(0);break;case"number":break;default:throw new Error("Invalid argument to fill.")}e+=this.offset,n+=this.offset,this.data.fill(t,e,n)},t.prototype.readUInt8=function(t,e){return void 0===e&&(e=!1),t+=this.offset,this.data.readUInt8(t)},t.prototype.readUInt16LE=function(t,e){return void 0===e&&(e=!1),t+=this.offset,this.data.readUInt16LE(t)},t.prototype.readUInt16BE=function(t,e){return void 0===e&&(e=!1),t+=this.offset,this.data.readUInt16BE(t)},t.prototype.readUInt32LE=function(t,e){return void 0===e&&(e=!1),t+=this.offset,this.data.readUInt32LE(t)},t.prototype.readUInt32BE=function(t,e){return void 0===e&&(e=!1),t+=this.offset,this.data.readUInt32BE(t)},t.prototype.readInt8=function(t,e){return void 0===e&&(e=!1),t+=this.offset,this.data.readInt8(t)},t.prototype.readInt16LE=function(t,e){return void 0===e&&(e=!1),t+=this.offset,this.data.readInt16LE(t)},t.prototype.readInt16BE=function(t,e){return void 0===e&&(e=!1),t+=this.offset,this.data.readInt16BE(t)},t.prototype.readInt32LE=function(t,e){return void 0===e&&(e=!1),t+=this.offset,this.data.readInt32LE(t)},t.prototype.readInt32BE=function(t,e){return void 0===e&&(e=!1),t+=this.offset,this.data.readInt32BE(t)},t.prototype.readFloatLE=function(t,e){return void 0===e&&(e=!1),t+=this.offset,this.data.readFloatLE(t)},t.prototype.readFloatBE=function(t,e){return void 0===e&&(e=!1),t+=this.offset,this.data.readFloatBE(t)},t.prototype.readDoubleLE=function(t,e){return void 0===e&&(e=!1),t+=this.offset,this.data.readDoubleLE(t)},t.prototype.readDoubleBE=function(t,e){return void 0===e&&(e=!1),t+=this.offset,this.data.readDoubleBE(t)},
t.prototype.writeUInt8=function(t,e,n){void 0===n&&(n=!1),e+=this.offset,this.data.writeUInt8(e,t)},t.prototype.writeUInt16LE=function(t,e,n){void 0===n&&(n=!1),e+=this.offset,this.data.writeUInt16LE(e,t)},t.prototype.writeUInt16BE=function(t,e,n){void 0===n&&(n=!1),e+=this.offset,this.data.writeUInt16BE(e,t)},t.prototype.writeUInt32LE=function(t,e,n){void 0===n&&(n=!1),e+=this.offset,this.data.writeUInt32LE(e,t)},t.prototype.writeUInt32BE=function(t,e,n){void 0===n&&(n=!1),e+=this.offset,this.data.writeUInt32BE(e,t)},t.prototype.writeInt8=function(t,e,n){void 0===n&&(n=!1),e+=this.offset,this.data.writeInt8(e,t)},t.prototype.writeInt16LE=function(t,e,n){void 0===n&&(n=!1),e+=this.offset,this.data.writeInt16LE(e,t)},t.prototype.writeInt16BE=function(t,e,n){void 0===n&&(n=!1),e+=this.offset,this.data.writeInt16BE(e,t)},t.prototype.writeInt32LE=function(t,e,n){void 0===n&&(n=!1),e+=this.offset,this.data.writeInt32LE(e,t)},t.prototype.writeInt32BE=function(t,e,n){void 0===n&&(n=!1),e+=this.offset,this.data.writeInt32BE(e,t)},t.prototype.writeFloatLE=function(t,e,n){void 0===n&&(n=!1),e+=this.offset,this.data.writeFloatLE(e,t)},t.prototype.writeFloatBE=function(t,e,n){void 0===n&&(n=!1),e+=this.offset,this.data.writeFloatBE(e,t)},t.prototype.writeDoubleLE=function(t,e,n){void 0===n&&(n=!1),e+=this.offset,this.data.writeDoubleLE(e,t)},t.prototype.writeDoubleBE=function(t,e,n){void 0===n&&(n=!1),e+=this.offset,this.data.writeDoubleBE(e,t)},t.isEncoding=function(t){try{a.FindUtil(t)}catch(t){return!1}return!0},t.isBuffer=function(e){return e instanceof t},t.byteLength=function(t,e){return void 0===e&&(e="utf8"),a.FindUtil(e).byteLength(t)},t.concat=function(e,n){var i;if(0===e.length||0===n)return new t(0);if(1===e.length)return e[0];if(null==n){n=0;for(var o=0;o<e.length;o++)i=e[o],n+=i.length}for(var r=new t(n),s=0,a=0;a<e.length;a++)i=e[a],s+=i.copy(r,s);return r},t}();n.Buffer=l},{"./buffer_core":17,"./buffer_core_array":18,"./buffer_core_arraybuffer":19,"./buffer_core_imagedata":20,"./string_util":30}],17:[function(t,e,n){var i=Math.pow(2,128),o=-1*i,r=2139095040,s=-8388608,a=function(){function t(){}return t.prototype.getLength=function(){throw new Error("BufferCore implementations should implement getLength.")},t.prototype.writeInt8=function(t,e){this.writeUInt8(t,255&e|(2147483648&e)>>>24)},t.prototype.writeInt16LE=function(t,e){this.writeUInt8(t,255&e),this.writeUInt8(t+1,e>>>8&255|(2147483648&e)>>>24)},t.prototype.writeInt16BE=function(t,e){this.writeUInt8(t+1,255&e),this.writeUInt8(t,e>>>8&255|(2147483648&e)>>>24)},t.prototype.writeInt32LE=function(t,e){this.writeUInt8(t,255&e),this.writeUInt8(t+1,e>>>8&255),this.writeUInt8(t+2,e>>>16&255),this.writeUInt8(t+3,e>>>24&255)},t.prototype.writeInt32BE=function(t,e){this.writeUInt8(t+3,255&e),this.writeUInt8(t+2,e>>>8&255),this.writeUInt8(t+1,e>>>16&255),this.writeUInt8(t,e>>>24&255)},t.prototype.writeUInt8=function(t,e){throw new Error("BufferCore implementations should implement writeUInt8.")},t.prototype.writeUInt16LE=function(t,e){this.writeUInt8(t,255&e),this.writeUInt8(t+1,e>>8&255)},t.prototype.writeUInt16BE=function(t,e){this.writeUInt8(t+1,255&e),this.writeUInt8(t,e>>8&255)},t.prototype.writeUInt32LE=function(t,e){this.writeInt32LE(t,0|e)},t.prototype.writeUInt32BE=function(t,e){this.writeInt32BE(t,0|e)},t.prototype.writeFloatLE=function(t,e){this.writeInt32LE(t,this.float2intbits(e))},t.prototype.writeFloatBE=function(t,e){this.writeInt32BE(t,this.float2intbits(e))},t.prototype.writeDoubleLE=function(t,e){var n=this.double2longbits(e);this.writeInt32LE(t,n[0]),this.writeInt32LE(t+4,n[1])},t.prototype.writeDoubleBE=function(t,e){var n=this.double2longbits(e);this.writeInt32BE(t+4,n[0]),this.writeInt32BE(t,n[1])},t.prototype.readInt8=function(t){var e=this.readUInt8(t);return 128&e?4294967168|e:e},t.prototype.readInt16LE=function(t){var e=this.readUInt16LE(t);return 32768&e?4294934528|e:e},t.prototype.readInt16BE=function(t){var e=this.readUInt16BE(t);return 32768&e?4294934528|e:e},t.prototype.readInt32LE=function(t){return 0|this.readUInt32LE(t)},t.prototype.readInt32BE=function(t){return 0|this.readUInt32BE(t)},t.prototype.readUInt8=function(t){throw new Error("BufferCore implementations should implement readUInt8.")},t.prototype.readUInt16LE=function(t){return this.readUInt8(t+1)<<8|this.readUInt8(t)},t.prototype.readUInt16BE=function(t){return this.readUInt8(t)<<8|this.readUInt8(t+1)},t.prototype.readUInt32LE=function(t){return(this.readUInt8(t+3)<<24|this.readUInt8(t+2)<<16|this.readUInt8(t+1)<<8|this.readUInt8(t))>>>0},t.prototype.readUInt32BE=function(t){return(this.readUInt8(t)<<24|this.readUInt8(t+1)<<16|this.readUInt8(t+2)<<8|this.readUInt8(t+3))>>>0},t.prototype.readFloatLE=function(t){return this.intbits2float(this.readInt32LE(t))},t.prototype.readFloatBE=function(t){return this.intbits2float(this.readInt32BE(t))},t.prototype.readDoubleLE=function(t){return this.longbits2double(this.readInt32LE(t+4),this.readInt32LE(t))},t.prototype.readDoubleBE=function(t){return this.longbits2double(this.readInt32BE(t),this.readInt32BE(t+4))},t.prototype.copy=function(t,e){throw new Error("BufferCore implementations should implement copy.")},t.prototype.fill=function(t,e,n){for(var i=e;n>i;i++)this.writeUInt8(i,t)},t.prototype.float2intbits=function(t){var e,n,i;return 0===t?0:t===Number.POSITIVE_INFINITY?r:t===Number.NEGATIVE_INFINITY?s:isNaN(t)?2143289344:(i=0>t?1:0,t=Math.abs(t),1.1754942106924411e-38>=t&&t>=1.401298464324817e-45?(e=0,n=Math.round(t/Math.pow(2,-126)*Math.pow(2,23)),i<<31|e<<23|n):(e=Math.floor(Math.log(t)/Math.LN2),n=Math.round((t/Math.pow(2,e)-1)*Math.pow(2,23)),i<<31|e+127<<23|n))},t.prototype.double2longbits=function(t){var e,n,i,o;return 0===t?[0,0]:t===Number.POSITIVE_INFINITY?[0,2146435072]:t===Number.NEGATIVE_INFINITY?[0,-1048576]:isNaN(t)?[0,2146959360]:(o=0>t?1<<31:0,t=Math.abs(t),2.225073858507201e-308>=t&&t>=5e-324?(e=0,i=t/Math.pow(2,-1022)*Math.pow(2,52)):(e=Math.floor(Math.log(t)/Math.LN2),t<Math.pow(2,e)&&(e-=1),i=(t/Math.pow(2,e)-1)*Math.pow(2,52),e=e+1023<<20),n=i*Math.pow(2,-32)|0|o|e,[65535&i,n])},t.prototype.intbits2float=function(t){if(t===r)return Number.POSITIVE_INFINITY;if(t===s)return Number.NEGATIVE_INFINITY;var e,n=(2147483648&t)>>>31,a=(2139095040&t)>>>23,u=8388607&t;return e=0===a?Math.pow(-1,n)*u*Math.pow(2,-149):Math.pow(-1,n)*(1+u*Math.pow(2,-23))*Math.pow(2,a-127),(o>e||e>i)&&(e=NaN),e},t.prototype.longbits2double=function(t,e){var n=(2147483648&t)>>>31,i=(2146435072&t)>>>20,o=(1048575&t)*Math.pow(2,32)+e;return 0===i&&0===o?0:2047===i?0===o?1===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY:NaN:0===i?Math.pow(-1,n)*o*Math.pow(2,-1074):Math.pow(-1,n)*(1+o*Math.pow(2,-52))*Math.pow(2,i-1023)},t}();n.BufferCoreCommon=a},{}],18:[function(t,e,n){var i=this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},o=t("./buffer_core"),r=[4294967040,4294902015,4278255615,16777215],s=function(t){function e(e){t.call(this),this.length=e,this.buff=new Array(Math.ceil(e/4));for(var n=this.buff.length,i=0;n>i;i++)this.buff[i]=0}return i(e,t),e.isAvailable=function(){return!0},e.prototype.getLength=function(){return this.length},e.prototype.writeUInt8=function(t,e){e&=255;var n=t>>2,i=3&t;this.buff[n]=this.buff[n]&r[i],this.buff[n]=this.buff[n]|e<<(i<<3)},e.prototype.readUInt8=function(t){var e=t>>2,n=3&t;return this.buff[e]>>(n<<3)&255},e.prototype.copy=function(t,n){for(var i=new e(n-t),o=t;n>o;o++)i.writeUInt8(o-t,this.readUInt8(o));return i},e}(o.BufferCoreCommon);n.BufferCoreArray=s},{"./buffer_core":17}],19:[function(t,e,n){var i=this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},o=t("./buffer_core"),r=function(t){function e(e){t.call(this),"number"==typeof e?this.buff=new DataView(new ArrayBuffer(e)):e instanceof DataView?this.buff=e:this.buff=new DataView(e),this.length=this.buff.byteLength}return i(e,t),e.isAvailable=function(){return"undefined"!=typeof DataView},e.prototype.getLength=function(){return this.length},e.prototype.writeInt8=function(t,e){this.buff.setInt8(t,e)},e.prototype.writeInt16LE=function(t,e){this.buff.setInt16(t,e,!0)},e.prototype.writeInt16BE=function(t,e){this.buff.setInt16(t,e,!1)},e.prototype.writeInt32LE=function(t,e){this.buff.setInt32(t,e,!0)},e.prototype.writeInt32BE=function(t,e){this.buff.setInt32(t,e,!1)},e.prototype.writeUInt8=function(t,e){this.buff.setUint8(t,e)},e.prototype.writeUInt16LE=function(t,e){this.buff.setUint16(t,e,!0)},e.prototype.writeUInt16BE=function(t,e){this.buff.setUint16(t,e,!1)},e.prototype.writeUInt32LE=function(t,e){this.buff.setUint32(t,e,!0)},e.prototype.writeUInt32BE=function(t,e){this.buff.setUint32(t,e,!1)},e.prototype.writeFloatLE=function(t,e){this.buff.setFloat32(t,e,!0)},e.prototype.writeFloatBE=function(t,e){this.buff.setFloat32(t,e,!1)},e.prototype.writeDoubleLE=function(t,e){this.buff.setFloat64(t,e,!0)},e.prototype.writeDoubleBE=function(t,e){this.buff.setFloat64(t,e,!1)},e.prototype.readInt8=function(t){return this.buff.getInt8(t)},e.prototype.readInt16LE=function(t){return this.buff.getInt16(t,!0)},e.prototype.readInt16BE=function(t){return this.buff.getInt16(t,!1)},e.prototype.readInt32LE=function(t){return this.buff.getInt32(t,!0)},e.prototype.readInt32BE=function(t){return this.buff.getInt32(t,!1)},e.prototype.readUInt8=function(t){return this.buff.getUint8(t)},e.prototype.readUInt16LE=function(t){return this.buff.getUint16(t,!0)},e.prototype.readUInt16BE=function(t){return this.buff.getUint16(t,!1)},e.prototype.readUInt32LE=function(t){return this.buff.getUint32(t,!0)},e.prototype.readUInt32BE=function(t){return this.buff.getUint32(t,!1)},e.prototype.readFloatLE=function(t){return this.buff.getFloat32(t,!0)},e.prototype.readFloatBE=function(t){return this.buff.getFloat32(t,!1)},e.prototype.readDoubleLE=function(t){return this.buff.getFloat64(t,!0)},e.prototype.readDoubleBE=function(t){return this.buff.getFloat64(t,!1)},e.prototype.copy=function(t,n){var i,o=this.buff.buffer;if(ArrayBuffer.prototype.slice)i=o.slice(t,n);else{var r=n-t;i=new ArrayBuffer(r);var s=new Uint8Array(i),a=new Uint8Array(o);s.set(a.subarray(t,n))}return new e(i)},e.prototype.fill=function(t,e,n){t&=255;var i,o=n-e,r=4*(o/4|0),s=t<<24|t<<16|t<<8|t;for(i=0;r>i;i+=4)this.writeInt32LE(i+e,s);for(i=r;o>i;i++)this.writeUInt8(i+e,t)},e.prototype.getDataView=function(){return this.buff},e}(o.BufferCoreCommon);n.BufferCoreArrayBuffer=r},{"./buffer_core":17}],20:[function(t,e,n){var i=this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},o=t("./buffer_core"),r=function(t){function e(n){t.call(this),this.length=n,this.buff=e.getCanvasPixelArray(n)}return i(e,t),e.getCanvasPixelArray=function(t){var n=e.imageDataFactory;return void 0===n&&(e.imageDataFactory=n=document.createElement("canvas").getContext("2d")),0===t&&(t=1),n.createImageData(Math.ceil(t/4),1).data},e.isAvailable=function(){return"undefined"!=typeof CanvasPixelArray},e.prototype.getLength=function(){return this.length},e.prototype.writeUInt8=function(t,e){this.buff[t]=e},e.prototype.readUInt8=function(t){return this.buff[t]},e.prototype.copy=function(t,n){for(var i=new e(n-t),o=t;n>o;o++)i.writeUInt8(o-t,this.buff[o]);return i},e}(o.BufferCoreCommon);n.BufferCoreImageData=r},{"./buffer_core":17}],21:[function(t,e,n){var i=t("./api_error"),o=i.ApiError,r=i.ErrorCode,s=function(){function t(){}return t.prototype.sync=function(t){t(new o(r.ENOTSUP))},t.prototype.syncSync=function(){throw new o(r.ENOTSUP)},t.prototype.datasync=function(t){this.sync(t)},t.prototype.datasyncSync=function(){return this.syncSync()},t.prototype.chown=function(t,e,n){n(new o(r.ENOTSUP))},t.prototype.chownSync=function(t,e){throw new o(r.ENOTSUP)},t.prototype.chmod=function(t,e){e(new o(r.ENOTSUP))},t.prototype.chmodSync=function(t){throw new o(r.ENOTSUP)},t.prototype.utimes=function(t,e,n){n(new o(r.ENOTSUP))},t.prototype.utimesSync=function(t,e){throw new o(r.ENOTSUP)},t}();n.BaseFile=s},{"./api_error":14}],22:[function(t,e,n){var i=t("./api_error");!function(t){t[t.NOP=0]="NOP",t[t.THROW_EXCEPTION=1]="THROW_EXCEPTION",t[t.TRUNCATE_FILE=2]="TRUNCATE_FILE",t[t.CREATE_FILE=3]="CREATE_FILE"}(n.ActionType||(n.ActionType={}));var o=n.ActionType,r=function(){function t(e){if(this.flagStr=e,t.validFlagStrs.indexOf(e)<0)throw new i.ApiError(i.ErrorCode.EINVAL,"Invalid flag: "+e)}return t.getFileFlag=function(e){return t.flagCache.hasOwnProperty(e)?t.flagCache[e]:t.flagCache[e]=new t(e)},t.prototype.getFlagString=function(){return this.flagStr},t.prototype.isReadable=function(){return-1!==this.flagStr.indexOf("r")||-1!==this.flagStr.indexOf("+")},t.prototype.isWriteable=function(){return-1!==this.flagStr.indexOf("w")||-1!==this.flagStr.indexOf("a")||-1!==this.flagStr.indexOf("+")},t.prototype.isTruncating=function(){return-1!==this.flagStr.indexOf("w")},t.prototype.isAppendable=function(){return-1!==this.flagStr.indexOf("a")},t.prototype.isSynchronous=function(){return-1!==this.flagStr.indexOf("s")},t.prototype.isExclusive=function(){return-1!==this.flagStr.indexOf("x")},t.prototype.pathExistsAction=function(){return this.isExclusive()?o.THROW_EXCEPTION:this.isTruncating()?o.TRUNCATE_FILE:o.NOP},t.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&"r+"!==this.flagStr?o.CREATE_FILE:o.THROW_EXCEPTION},t.flagCache={},t.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"],t}();n.FileFlag=r},{"./api_error":14}],23:[function(t,e,n){var i=this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},o=t("./api_error"),r=t("./file_flag"),s=t("./node_path"),a=t("./buffer"),u=o.ApiError,c=o.ErrorCode,l=a.Buffer,h=r.ActionType,f=function(){function t(){}return t.prototype.supportsLinks=function(){return!1},t.prototype.diskSpace=function(t,e){e(0,0)},t.prototype.openFile=function(t,e,n){throw new u(c.ENOTSUP)},t.prototype.createFile=function(t,e,n,i){throw new u(c.ENOTSUP)},t.prototype.open=function(t,e,n,i){var o=this,r=function(r,a){if(r)switch(e.pathNotExistsAction()){case h.CREATE_FILE:return o.stat(s.dirname(t),!1,function(r,a){r?i(r):a.isDirectory()?o.createFile(t,e,n,i):i(new u(c.ENOTDIR,s.dirname(t)+" is not a directory."))});case h.THROW_EXCEPTION:return i(new u(c.ENOENT,t+" doesn't exist."));default:return i(new u(c.EINVAL,"Invalid FileFlag object."))}else{if(a.isDirectory())return i(new u(c.EISDIR,t+" is a directory."));switch(e.pathExistsAction()){case h.THROW_EXCEPTION:return i(new u(c.EEXIST,t+" already exists."));case h.TRUNCATE_FILE:return o.openFile(t,e,function(t,e){t?i(t):e.truncate(0,function(){e.sync(function(){i(null,e)})})});case h.NOP:return o.openFile(t,e,i);default:return i(new u(c.EINVAL,"Invalid FileFlag object."))}}};this.stat(t,!1,r)},t.prototype.rename=function(t,e,n){n(new u(c.ENOTSUP))},t.prototype.renameSync=function(t,e){throw new u(c.ENOTSUP)},t.prototype.stat=function(t,e,n){n(new u(c.ENOTSUP))},t.prototype.statSync=function(t,e){throw new u(c.ENOTSUP)},t.prototype.openFileSync=function(t,e){throw new u(c.ENOTSUP)},t.prototype.createFileSync=function(t,e,n){throw new u(c.ENOTSUP)},t.prototype.openSync=function(t,e,n){var i;try{i=this.statSync(t,!1)}catch(i){switch(e.pathNotExistsAction()){case h.CREATE_FILE:var o=this.statSync(s.dirname(t),!1);if(!o.isDirectory())throw new u(c.ENOTDIR,s.dirname(t)+" is not a directory.");return this.createFileSync(t,e,n);case h.THROW_EXCEPTION:throw new u(c.ENOENT,t+" doesn't exist.");default:throw new u(c.EINVAL,"Invalid FileFlag object.")}}if(i.isDirectory())throw new u(c.EISDIR,t+" is a directory.");switch(e.pathExistsAction()){case h.THROW_EXCEPTION:throw new u(c.EEXIST,t+" already exists.");case h.TRUNCATE_FILE:return this.unlinkSync(t),this.createFileSync(t,e,i.mode);case h.NOP:return this.openFileSync(t,e);default:throw new u(c.EINVAL,"Invalid FileFlag object.")}},t.prototype.unlink=function(t,e){e(new u(c.ENOTSUP))},t.prototype.unlinkSync=function(t){throw new u(c.ENOTSUP)},t.prototype.rmdir=function(t,e){e(new u(c.ENOTSUP))},t.prototype.rmdirSync=function(t){throw new u(c.ENOTSUP)},t.prototype.mkdir=function(t,e,n){n(new u(c.ENOTSUP))},t.prototype.mkdirSync=function(t,e){throw new u(c.ENOTSUP)},t.prototype.readdir=function(t,e){e(new u(c.ENOTSUP))},t.prototype.readdirSync=function(t){throw new u(c.ENOTSUP)},t.prototype.exists=function(t,e){this.stat(t,null,function(t){e(null==t)})},t.prototype.existsSync=function(t){try{return this.statSync(t,!0),!0}catch(t){return!1}},t.prototype.realpath=function(t,e,n){if(this.supportsLinks())for(var i=t.split(s.sep),o=0;o<i.length;o++){var r=i.slice(0,o+1);i[o]=s.join.apply(null,r)}else this.exists(t,function(e){e?n(null,t):n(new u(c.ENOENT,"File "+t+" not found."))})},t.prototype.realpathSync=function(t,e){if(!this.supportsLinks()){if(this.existsSync(t))return t;throw new u(c.ENOENT,"File "+t+" not found.")}for(var n=t.split(s.sep),i=0;i<n.length;i++){var o=n.slice(0,i+1);n[i]=s.join.apply(null,o)}},t.prototype.truncate=function(t,e,n){this.open(t,r.FileFlag.getFileFlag("r+"),420,function(t,i){return t?n(t):void i.truncate(e,function(t){i.close(function(e){n(t||e)})})})},t.prototype.truncateSync=function(t,e){var n=this.openSync(t,r.FileFlag.getFileFlag("r+"),420);try{n.truncateSync(e)}catch(t){throw t}finally{n.closeSync()}},t.prototype.readFile=function(t,e,n,i){var o=i;this.open(t,n,420,function(t,n){return t?i(t):(i=function(t,e){n.close(function(n){return null==t&&(t=n),o(t,e)})},void n.stat(function(t,o){if(null!=t)return i(t);var r=new l(o.size);n.read(r,0,o.size,0,function(t){if(null!=t)return i(t);if(null===e)return i(t,r);try{i(null,r.toString(e))}catch(t){i(t)}})}))})},t.prototype.readFileSync=function(t,e,n){var i=this.openSync(t,n,420);try{var o=i.statSync(),r=new l(o.size);return i.readSync(r,0,o.size,0),i.closeSync(),null===e?r:r.toString(e)}finally{i.closeSync()}},t.prototype.writeFile=function(t,e,n,i,o,r){var s=r;this.open(t,i,420,function(t,i){if(null!=t)return r(t);r=function(t){i.close(function(e){s(null!=t?t:e)})};try{"string"==typeof e&&(e=new l(e,n))}catch(t){return r(t)}i.write(e,0,e.length,0,r)})},t.prototype.writeFileSync=function(t,e,n,i,o){var r=this.openSync(t,i,o);try{"string"==typeof e&&(e=new l(e,n)),r.writeSync(e,0,e.length,0)}finally{r.closeSync()}},t.prototype.appendFile=function(t,e,n,i,o,r){var s=r;this.open(t,i,o,function(t,i){return null!=t?r(t):(r=function(t){i.close(function(e){s(null!=t?t:e)})},"string"==typeof e&&(e=new l(e,n)),void i.write(e,0,e.length,null,r))})},t.prototype.appendFileSync=function(t,e,n,i,o){var r=this.openSync(t,i,o);try{"string"==typeof e&&(e=new l(e,n)),r.writeSync(e,0,e.length,null)}finally{r.closeSync()}},t.prototype.chmod=function(t,e,n,i){i(new u(c.ENOTSUP))},t.prototype.chmodSync=function(t,e,n){throw new u(c.ENOTSUP)},t.prototype.chown=function(t,e,n,i,o){o(new u(c.ENOTSUP))},t.prototype.chownSync=function(t,e,n,i){throw new u(c.ENOTSUP)},t.prototype.utimes=function(t,e,n,i){i(new u(c.ENOTSUP))},t.prototype.utimesSync=function(t,e,n){throw new u(c.ENOTSUP)},t.prototype.link=function(t,e,n){n(new u(c.ENOTSUP))},t.prototype.linkSync=function(t,e){throw new u(c.ENOTSUP)},t.prototype.symlink=function(t,e,n,i){i(new u(c.ENOTSUP))},t.prototype.symlinkSync=function(t,e,n){throw new u(c.ENOTSUP)},t.prototype.readlink=function(t,e){e(new u(c.ENOTSUP))},t.prototype.readlinkSync=function(t){throw new u(c.ENOTSUP)},t}();n.BaseFileSystem=f;var d=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.supportsSynch=function(){return!0},e.prototype.rename=function(t,e,n){try{this.renameSync(t,e),n()}catch(t){n(t)}},e.prototype.stat=function(t,e,n){try{n(null,this.statSync(t,e))}catch(t){n(t)}},e.prototype.open=function(t,e,n,i){try{i(null,this.openSync(t,e,n))}catch(t){i(t)}},e.prototype.unlink=function(t,e){try{this.unlinkSync(t),e()}catch(t){e(t)}},e.prototype.rmdir=function(t,e){try{this.rmdirSync(t),e()}catch(t){e(t)}},e.prototype.mkdir=function(t,e,n){try{this.mkdirSync(t,e),n()}catch(t){n(t)}},e.prototype.readdir=function(t,e){try{e(null,this.readdirSync(t))}catch(t){e(t)}},e.prototype.chmod=function(t,e,n,i){try{this.chmodSync(t,e,n),i()}catch(t){i(t)}},e.prototype.chown=function(t,e,n,i,o){try{this.chownSync(t,e,n,i),o()}catch(t){o(t)}},e.prototype.utimes=function(t,e,n,i){try{this.utimesSync(t,e,n),i()}catch(t){i(t)}},e.prototype.link=function(t,e,n){try{this.linkSync(t,e),n()}catch(t){n(t)}},e.prototype.symlink=function(t,e,n,i){try{this.symlinkSync(t,e,n),i()}catch(t){i(t)}},e.prototype.readlink=function(t,e){try{e(null,this.readlinkSync(t))}catch(t){e(t)}},e}(f);n.SynchronousFileSystem=d},{"./api_error":14,"./buffer":16,"./file_flag":22,"./node_path":28}],24:[function(t,e,n){var i;i="undefined"!=typeof window?window:"undefined"!=typeof self?self:global,e.exports=i},{}],25:[function(t,e,n){var i=this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},o=t("./buffer"),r=t("./api_error"),s=o.Buffer,a=r.ApiError,u=r.ErrorCode,c=function(){function t(t,e,n){this.data=t,this.encoding=e,this.cb=n,this.size="string"!=typeof t?t.length:s.byteLength(t,null!=e?e:void 0),"string"!=typeof this.data&&(this.data=this.data.sliceCopy())}return t.prototype.getData=function(t){return null==t?"string"==typeof this.data?new s(this.data,null!=this.encoding?this.encoding:void 0):this.data:"string"==typeof this.data?t===this.encoding?this.data:new s(this.data,null!=this.encoding?this.encoding:void 0).toString(t):this.data.toString(t)},t}(),l=function(){function t(){this._listeners={},this.maxListeners=10}return t.prototype.addListener=function(t,e){return void 0===this._listeners[t]&&(this._listeners[t]=[]),this._listeners[t].push(e)>this.maxListeners&&process.stdout.write("Warning: Event "+t+" has more than "+this.maxListeners+" listeners.\n"),this.emit("newListener",t,e),this},t.prototype.on=function(t,e){return this.addListener(t,e)},t.prototype.once=function(t,e){var n=!1,i=function(){this.removeListener(t,i),n||(n=!0,e.apply(this,arguments))};return this.addListener(t,i)},t.prototype._emitRemoveListener=function(t,e){var n;if(this._listeners.removeListener&&this._listeners.removeListener.length>0)for(n=0;n<e.length;n++)this.emit("removeListener",t,e[n])},t.prototype.removeListener=function(t,e){var n=this._listeners[t];if(void 0!==n){var i=n.indexOf(e);i>-1&&n.splice(i,1)}return this.emit("removeListener",t,e),this},t.prototype.removeAllListeners=function(t){var e,n,i;if(void 0!==t)e=this._listeners[t],this._listeners[t]=[],this._emitRemoveListener(t,e);else for(n=Object.keys(this._listeners),i=0;i<n.length;i++)this.removeAllListeners(n[i]);return this},t.prototype.setMaxListeners=function(t){this.maxListeners=t},t.prototype.listeners=function(t){return void 0===this._listeners[t]&&(this._listeners[t]=[]),this._listeners[t].slice(0)},t.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=this._listeners[t],o=!1;if(void 0!==i){var r;for(r=0;r<i.length;r++)o=!0,i[r].apply(this,e)}return o},t}();n.AbstractEventEmitter=l;var h=function(t){function e(e,n){t.call(this),this.writable=e,this.readable=n,this.encoding=null,this.flowing=!1,this.buffer=[],this.endEvent=null,this.ended=!1,this.drained=!0}return i(e,t),e.prototype.addListener=function(e,n){var i=t.prototype.addListener.call(this,e,n),o=this;return"data"!==e||this.flowing?"readable"===e&&this.buffer.length>0&&setTimeout(function(){o.emit("readable")},0):this.resume(),i},e.prototype._processArgs=function(t,e,n){return"string"==typeof e?new c(t,e,n):new c(t,null,e)},e.prototype._processEvents=function(){var t=0===this.buffer.length;this.drained!==t&&this.drained&&this.emit("readable"),this.flowing&&0!==this.buffer.length&&this.emit("data",this.read()),this.drained=0===this.buffer.length},e.prototype.emitEvent=function(t,e){this.emit(t,e.getData(this.encoding)),e.cb&&e.cb()},e.prototype.write=function(t,e,n){if(this.ended)throw new a(u.EPERM,"Cannot write to an ended stream.");var i=this._processArgs(t,e,n);return this._push(i),this.flowing},e.prototype.end=function(t,e,n){if(this.ended)throw new a(u.EPERM,"Stream is already closed.");var i=this._processArgs(t,e,n);this.ended=!0,this.endEvent=i,this._processEvents()},e.prototype.read=function(t){var e,n,i,o,r=[],a=[],u=0,l=0,h="number"!=typeof t;for(h&&(t=4294967295),l=0;l<this.buffer.length&&t>u;l++)n=this.buffer[l],r.push(n.getData()),n.cb&&a.push(n.cb),u+=n.size,e=n.cb;if(!h&&t>u)return null;if(this.buffer=this.buffer.slice(r.length),o=u>t?t:u,i=s.concat(r),u>t&&(e&&a.pop(),this._push(new c(i.slice(t),null,e))),a.length>0&&setTimeout(function(){var t;for(t=0;t<a.length;t++)a[t]()},0),this.ended&&0===this.buffer.length&&null!==this.endEvent){var f=this.endEvent,d=this;this.endEvent=null,setTimeout(function(){d.emitEvent("end",f)},0)}return 0===r.length?(this.emit("_read"),null):null===this.encoding?i.slice(0,o):i.toString(this.encoding,0,o)},e.prototype.setEncoding=function(t){this.encoding=t},e.prototype.pause=function(){this.flowing=!1},e.prototype.resume=function(){this.flowing=!0,this._processEvents()},e.prototype.pipe=function(t,e){throw new a(u.EPERM,"Unimplemented.")},e.prototype.unpipe=function(t){},e.prototype.unshift=function(t){if(this.ended)throw new a(u.EPERM,"Stream has ended.");this.buffer.unshift(new c(t,this.encoding)),this._processEvents()},e.prototype._push=function(t){this.buffer.push(t),this._processEvents()},e.prototype.wrap=function(t){throw new a(u.EPERM,"Unimplemented.")},e}(l);n.AbstractDuplexStream=h},{"./api_error":14,"./buffer":16}],26:[function(t,e,n){function i(t,e){if("function"!=typeof t)throw new d(p.EINVAL,"Callback must be a function.");switch("undefined"==typeof __numWaiting&&(__numWaiting=0),__numWaiting++,e){case 1:return function(e){setImmediate(function(){return __numWaiting--,t(e)})};case 2:return function(e,n){setImmediate(function(){return __numWaiting--,t(e,n)})};case 3:return function(e,n,i){setImmediate(function(){return __numWaiting--,t(e,n,i)})};default:throw new Error("Invalid invocation of wrapCb.")}}function o(t){if("function"!=typeof t.write)throw new d(p.EBADF,"Invalid file descriptor.")}function r(t,e){switch(typeof t){case"number":return t;case"string":var n=parseInt(t,8);if(NaN!==n)return n;default:return e}}function s(t){if(t.indexOf("\0")>=0)throw new d(p.EINVAL,"Path must be a string without null bytes.");if(""===t)throw new d(p.EINVAL,"Path must not be empty.");return f.resolve(t)}function a(t,e,n,i){switch(typeof t){case"object":return{encoding:void 0!==t.encoding?t.encoding:e,flag:void 0!==t.flag?t.flag:n,mode:r(t.mode,i)};case"string":return{encoding:t,flag:n,mode:i};default:return{encoding:e,flag:n,mode:i}}}function u(){}var c=t("./api_error"),l=t("./file_flag"),h=t("./buffer"),f=t("./node_path"),d=c.ApiError,p=c.ErrorCode,g=l.FileFlag,m=h.Buffer,y=function(){function t(){}return t._initialize=function(e){if(!e.constructor.isAvailable())throw new d(p.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return t.root=e},t._toUnixTimestamp=function(t){if("number"==typeof t)return t;if(t instanceof Date)return t.getTime()/1e3;throw new Error("Cannot parse time: "+t)},t.getRootFS=function(){return t.root?t.root:null},t.rename=function(e,n,o){void 0===o&&(o=u);var r=i(o,1);try{t.root.rename(s(e),s(n),r)}catch(t){r(t)}},t.renameSync=function(e,n){t.root.renameSync(s(e),s(n))},t.exists=function(e,n){void 0===n&&(n=u);var o=i(n,1);try{return t.root.exists(s(e),o)}catch(t){return o(!1)}},t.existsSync=function(e){try{return t.root.existsSync(s(e))}catch(t){return!1}},t.stat=function(e,n){void 0===n&&(n=u);var o=i(n,2);try{return t.root.stat(s(e),!1,o)}catch(t){return o(t,null)}},t.statSync=function(e){return t.root.statSync(s(e),!1)},t.lstat=function(e,n){void 0===n&&(n=u);var o=i(n,2);try{return t.root.stat(s(e),!0,o)}catch(t){return o(t,null)}},t.lstatSync=function(e){return t.root.statSync(s(e),!0)},t.truncate=function(e,n,o){void 0===n&&(n=0),void 0===o&&(o=u);var r=0;"function"==typeof n?o=n:"number"==typeof n&&(r=n);var a=i(o,1);try{if(0>r)throw new d(p.EINVAL);return t.root.truncate(s(e),r,a)}catch(t){return a(t)}},t.truncateSync=function(e,n){if(void 0===n&&(n=0),0>n)throw new d(p.EINVAL);return t.root.truncateSync(s(e),n)},t.unlink=function(e,n){void 0===n&&(n=u);var o=i(n,1);try{return t.root.unlink(s(e),o)}catch(t){return o(t)}},t.unlinkSync=function(e){return t.root.unlinkSync(s(e))},t.open=function(e,n,o,a){void 0===a&&(a=u);var c=r(o,420);a="function"==typeof o?o:a;var l=i(a,2);try{return t.root.open(s(e),g.getFileFlag(n),c,l)}catch(t){return l(t,null)}},t.openSync=function(e,n,i){return void 0===i&&(i=420),t.root.openSync(s(e),g.getFileFlag(n),i)},t.readFile=function(e,n,o){void 0===n&&(n={}),void 0===o&&(o=u);var r=a(n,null,"r",null);o="function"==typeof n?n:o;var c=i(o,2);try{var l=g.getFileFlag(r.flag);return l.isReadable()?t.root.readFile(s(e),r.encoding,l,c):c(new d(p.EINVAL,"Flag passed to readFile must allow for reading."))}catch(t){return c(t,null)}},t.readFileSync=function(e,n){void 0===n&&(n={});var i=a(n,null,"r",null),o=g.getFileFlag(i.flag);if(!o.isReadable())throw new d(p.EINVAL,"Flag passed to readFile must allow for reading.");return t.root.readFileSync(s(e),i.encoding,o)},t.writeFile=function(e,n,o,r){void 0===o&&(o={}),void 0===r&&(r=u);var c=a(o,"utf8","w",420);r="function"==typeof o?o:r;var l=i(r,1);try{var h=g.getFileFlag(c.flag);return h.isWriteable()?t.root.writeFile(s(e),n,c.encoding,h,c.mode,l):l(new d(p.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(t){return l(t)}},t.writeFileSync=function(e,n,i){var o=a(i,"utf8","w",420),r=g.getFileFlag(o.flag);if(!r.isWriteable())throw new d(p.EINVAL,"Flag passed to writeFile must allow for writing.");return t.root.writeFileSync(s(e),n,o.encoding,r,o.mode)},t.appendFile=function(e,n,o,r){void 0===r&&(r=u);var c=a(o,"utf8","a",420);r="function"==typeof o?o:r;var l=i(r,1);try{var h=g.getFileFlag(c.flag);if(!h.isAppendable())return l(new d(p.EINVAL,"Flag passed to appendFile must allow for appending."));t.root.appendFile(s(e),n,c.encoding,h,c.mode,l)}catch(t){l(t)}},t.appendFileSync=function(e,n,i){var o=a(i,"utf8","a",420),r=g.getFileFlag(o.flag);if(!r.isAppendable())throw new d(p.EINVAL,"Flag passed to appendFile must allow for appending.");return t.root.appendFileSync(s(e),n,o.encoding,r,o.mode)},t.fstat=function(t,e){void 0===e&&(e=u);var n=i(e,2);try{o(t),t.stat(n)}catch(t){n(t)}},t.fstatSync=function(t){return o(t),t.statSync()},t.close=function(t,e){void 0===e&&(e=u);var n=i(e,1);try{o(t),t.close(n)}catch(t){n(t)}},t.closeSync=function(t){return o(t),t.closeSync()},t.ftruncate=function(t,e,n){void 0===n&&(n=u);var r="number"==typeof e?e:0;n="function"==typeof e?e:n;var s=i(n,1);try{if(o(t),0>r)throw new d(p.EINVAL);t.truncate(r,s)}catch(t){s(t)}},t.ftruncateSync=function(t,e){return void 0===e&&(e=0),o(t),t.truncateSync(e)},t.fsync=function(t,e){void 0===e&&(e=u);var n=i(e,1);try{o(t),t.sync(n)}catch(t){n(t)}},t.fsyncSync=function(t){return o(t),t.syncSync()},t.fdatasync=function(t,e){void 0===e&&(e=u);var n=i(e,1);try{o(t),t.datasync(n)}catch(t){n(t)}},t.fdatasyncSync=function(t){o(t),t.datasyncSync()},t.write=function(t,e,n,r,s,a){void 0===a&&(a=u);var c,l,h,f=null;if("string"==typeof e){var g="utf8";switch(typeof n){case"function":a=n;break;case"number":f=n,g="string"==typeof r?r:"utf8",a="function"==typeof s?s:a;break;default:return(a="function"==typeof r?r:"function"==typeof s?s:a)(new d(p.EINVAL,"Invalid arguments."))}c=new m(e,g),l=0,h=c.length}else c=e,l=n,h=r,f="number"==typeof s?s:null,a="function"==typeof s?s:a;var y=i(a,3);try{o(t),null==f&&(f=t.getPos()),t.write(c,l,h,f,y)
}catch(t){y(t)}},t.writeSync=function(t,e,n,i,r){var s,a,u,c=0;if("string"==typeof e){u="number"==typeof n?n:null;var l="string"==typeof i?i:"utf8";c=0,s=new m(e,l),a=s.length}else s=e,c=n,a=i,u="number"==typeof r?r:null;return o(t),null==u&&(u=t.getPos()),t.writeSync(s,c,a,u)},t.read=function(t,e,n,r,s,a){void 0===a&&(a=u);var c,l,h,f,d;if("number"==typeof e){h=e,c=n;var p=r;a="function"==typeof s?s:a,l=0,f=new m(h),d=i(function(t,e,n){return t?a(t):void a(t,n.toString(p),e)},3)}else f=e,l=n,h=r,c=s,d=i(a,3);try{o(t),null==c&&(c=t.getPos()),t.read(f,l,h,c,d)}catch(t){d(t)}},t.readSync=function(t,e,n,i,r){var s,a,u,c,l=!1;if("number"==typeof e){u=e,c=n;var h=i;a=0,s=new m(u),l=!0}else s=e,a=n,u=i,c=r;o(t),null==c&&(c=t.getPos());var f=t.readSync(s,a,u,c);return l?[s.toString(h),f]:f},t.fchown=function(t,e,n,r){void 0===r&&(r=u);var s=i(r,1);try{o(t),t.chown(e,n,s)}catch(t){s(t)}},t.fchownSync=function(t,e,n){return o(t),t.chownSync(e,n)},t.fchmod=function(t,e,n){void 0===n&&(n=u);var r=i(n,1);try{e="string"==typeof e?parseInt(e,8):e,o(t),t.chmod(e,r)}catch(t){r(t)}},t.fchmodSync=function(t,e){return e="string"==typeof e?parseInt(e,8):e,o(t),t.chmodSync(e)},t.futimes=function(t,e,n,r){void 0===r&&(r=u);var s=i(r,1);try{o(t),"number"==typeof e&&(e=new Date(1e3*e)),"number"==typeof n&&(n=new Date(1e3*n)),t.utimes(e,n,s)}catch(t){s(t)}},t.futimesSync=function(t,e,n){return o(t),"number"==typeof e&&(e=new Date(1e3*e)),"number"==typeof n&&(n=new Date(1e3*n)),t.utimesSync(e,n)},t.rmdir=function(e,n){void 0===n&&(n=u);var o=i(n,1);try{e=s(e),t.root.rmdir(e,o)}catch(t){o(t)}},t.rmdirSync=function(e){return e=s(e),t.root.rmdirSync(e)},t.mkdir=function(e,n,o){void 0===o&&(o=u),"function"==typeof n&&(o=n,n=511);var r=i(o,1);try{e=s(e),t.root.mkdir(e,n,r)}catch(t){r(t)}},t.mkdirSync=function(e,n){return void 0===n&&(n=511),n="string"==typeof n?parseInt(n,8):n,e=s(e),t.root.mkdirSync(e,n)},t.readdir=function(e,n){void 0===n&&(n=u);var o=i(n,2);try{e=s(e),t.root.readdir(e,o)}catch(t){o(t)}},t.readdirSync=function(e){return e=s(e),t.root.readdirSync(e)},t.link=function(e,n,o){void 0===o&&(o=u);var r=i(o,1);try{e=s(e),n=s(n),t.root.link(e,n,r)}catch(t){r(t)}},t.linkSync=function(e,n){return e=s(e),n=s(n),t.root.linkSync(e,n)},t.symlink=function(e,n,o,r){void 0===r&&(r=u);var a="string"==typeof o?o:"file";r="function"==typeof o?o:r;var c=i(r,1);try{if("file"!==a&&"dir"!==a)return c(new d(p.EINVAL,"Invalid type: "+a));e=s(e),n=s(n),t.root.symlink(e,n,a,c)}catch(t){c(t)}},t.symlinkSync=function(e,n,i){if(null==i)i="file";else if("file"!==i&&"dir"!==i)throw new d(p.EINVAL,"Invalid type: "+i);return e=s(e),n=s(n),t.root.symlinkSync(e,n,i)},t.readlink=function(e,n){void 0===n&&(n=u);var o=i(n,2);try{e=s(e),t.root.readlink(e,o)}catch(t){o(t)}},t.readlinkSync=function(e){return e=s(e),t.root.readlinkSync(e)},t.chown=function(e,n,o,r){void 0===r&&(r=u);var a=i(r,1);try{e=s(e),t.root.chown(e,!1,n,o,a)}catch(t){a(t)}},t.chownSync=function(e,n,i){e=s(e),t.root.chownSync(e,!1,n,i)},t.lchown=function(e,n,o,r){void 0===r&&(r=u);var a=i(r,1);try{e=s(e),t.root.chown(e,!0,n,o,a)}catch(t){a(t)}},t.lchownSync=function(e,n,i){return e=s(e),t.root.chownSync(e,!0,n,i)},t.chmod=function(e,n,o){void 0===o&&(o=u);var r=i(o,1);try{n="string"==typeof n?parseInt(n,8):n,e=s(e),t.root.chmod(e,!1,n,r)}catch(t){r(t)}},t.chmodSync=function(e,n){return n="string"==typeof n?parseInt(n,8):n,e=s(e),t.root.chmodSync(e,!1,n)},t.lchmod=function(e,n,o){void 0===o&&(o=u);var r=i(o,1);try{n="string"==typeof n?parseInt(n,8):n,e=s(e),t.root.chmod(e,!0,n,r)}catch(t){r(t)}},t.lchmodSync=function(e,n){return e=s(e),n="string"==typeof n?parseInt(n,8):n,t.root.chmodSync(e,!0,n)},t.utimes=function(e,n,o,r){void 0===r&&(r=u);var a=i(r,1);try{e=s(e),"number"==typeof n&&(n=new Date(1e3*n)),"number"==typeof o&&(o=new Date(1e3*o)),t.root.utimes(e,n,o,a)}catch(t){a(t)}},t.utimesSync=function(e,n,i){return e=s(e),"number"==typeof n&&(n=new Date(1e3*n)),"number"==typeof i&&(i=new Date(1e3*i)),t.root.utimesSync(e,n,i)},t.realpath=function(e,n,o){void 0===o&&(o=u);var r="object"==typeof n?n:{};o="function"==typeof n?n:u;var a=i(o,2);try{e=s(e),t.root.realpath(e,r,a)}catch(t){a(t)}},t.realpathSync=function(e,n){return void 0===n&&(n={}),e=s(e),t.root.realpathSync(e,n)},t.root=null,t}();e.exports=y},{"./api_error":14,"./buffer":16,"./file_flag":22,"./node_path":28}],27:[function(t,e,n){var i=t("./buffer"),o=i.Buffer;!function(t){t[t.FILE=32768]="FILE",t[t.DIRECTORY=16384]="DIRECTORY",t[t.SYMLINK=40960]="SYMLINK"}(n.FileType||(n.FileType={}));var r=n.FileType,s=function(){function t(t,e,n,i,o,s){if(void 0===i&&(i=new Date),void 0===o&&(o=new Date),void 0===s&&(s=new Date),this.size=e,this.mode=n,this.atime=i,this.mtime=o,this.ctime=s,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,null==this.mode)switch(t){case r.FILE:this.mode=420;break;case r.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(e/512),this.mode<4096&&(this.mode|=t)}return t.prototype.toBuffer=function(){var t=new o(32);return t.writeUInt32LE(this.size,0),t.writeUInt32LE(this.mode,4),t.writeDoubleLE(this.atime.getTime(),8),t.writeDoubleLE(this.mtime.getTime(),16),t.writeDoubleLE(this.ctime.getTime(),24),t},t.fromBuffer=function(e){var n=e.readUInt32LE(0),i=e.readUInt32LE(4),o=e.readDoubleLE(8),r=e.readDoubleLE(16),s=e.readDoubleLE(24);return new t(61440&i,n,4095&i,new Date(o),new Date(r),new Date(s))},t.prototype.clone=function(){return new t(61440&this.mode,this.size,4095&this.mode,this.atime,this.mtime,this.ctime)},t.prototype.isFile=function(){return(61440&this.mode)===r.FILE},t.prototype.isDirectory=function(){return(61440&this.mode)===r.DIRECTORY},t.prototype.isSymbolicLink=function(){return(61440&this.mode)===r.SYMLINK},t.prototype.chmod=function(t){this.mode=61440&this.mode|t},t.prototype.isSocket=function(){return!1},t.prototype.isBlockDevice=function(){return!1},t.prototype.isCharacterDevice=function(){return!1},t.prototype.isFIFO=function(){return!1},t}();n.Stats=s},{"./buffer":16}],28:[function(t,e,n){var i=t("./node_process"),o=i.process,r=function(){function t(){}return t.normalize=function(e){""===e&&(e=".");var n=e.charAt(0)===t.sep;e=t._removeDuplicateSeps(e);for(var i=e.split(t.sep),o=[],r=0;r<i.length;r++){var s=i[r];"."!==s&&(".."===s&&(n||!n&&o.length>0&&".."!==o[0])?o.pop():o.push(s))}if(!n&&o.length<2)switch(o.length){case 1:""===o[0]&&o.unshift(".");break;default:o.push(".")}return e=o.join(t.sep),n&&e.charAt(0)!==t.sep&&(e=t.sep+e),e},t.join=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];for(var i=[],o=0;o<e.length;o++){var r=e[o];if("string"!=typeof r)throw new TypeError("Invalid argument type to path.join: "+typeof r);""!==r&&i.push(r)}return t.normalize(i.join(t.sep))},t.resolve=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];for(var i=[],r=0;r<e.length;r++){var s=e[r];if("string"!=typeof s)throw new TypeError("Invalid argument type to path.join: "+typeof s);""!==s&&(s.charAt(0)===t.sep&&(i=[]),i.push(s))}var a=t.normalize(i.join(t.sep));if(a.length>1&&a.charAt(a.length-1)===t.sep)return a.substr(0,a.length-1);if(a.charAt(0)!==t.sep){"."!==a.charAt(0)||1!==a.length&&a.charAt(1)!==t.sep||(a=1===a.length?"":a.substr(2));var u=o.cwd();a=""!==a?this.normalize(u+("/"!==u?t.sep:"")+a):u}return a},t.relative=function(e,n){var i;e=t.resolve(e),n=t.resolve(n);var o=e.split(t.sep),r=n.split(t.sep);r.shift(),o.shift();var s=0,a=[];for(i=0;i<o.length;i++){if(o[i]!==r[i]){s=o.length-i;break}}a=r.slice(i),1===o.length&&""===o[0]&&(s=0),s>o.length&&(s=o.length);var u="";for(i=0;s>i;i++)u+="../";return u+=a.join(t.sep),u.length>1&&u.charAt(u.length-1)===t.sep&&(u=u.substr(0,u.length-1)),u},t.dirname=function(e){e=t._removeDuplicateSeps(e);var n=e.charAt(0)===t.sep,i=e.split(t.sep);return""===i.pop()&&i.length>0&&i.pop(),i.length>1||1===i.length&&!n?i.join(t.sep):n?t.sep:"."},t.basename=function(e,n){if(void 0===n&&(n=""),""===e)return e;e=t.normalize(e);var i=e.split(t.sep),o=i[i.length-1];if(""===o&&i.length>1)return i[i.length-2];if(n.length>0){if(o.substr(o.length-n.length)===n)return o.substr(0,o.length-n.length)}return o},t.extname=function(e){e=t.normalize(e);var n=e.split(t.sep);if(e=n.pop(),""===e&&n.length>0&&(e=n.pop()),".."===e)return"";var i=e.lastIndexOf(".");return-1===i||0===i?"":e.substr(i)},t.isAbsolute=function(e){return e.length>0&&e.charAt(0)===t.sep},t._makeLong=function(t){return t},t._removeDuplicateSeps=function(t){return t=t.replace(this._replaceRegex,this.sep)},t.sep="/",t._replaceRegex=new RegExp("//+","g"),t.delimiter=":",t}();e.exports=r},{"./node_process":29}],29:[function(t,e,n){var i=this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},o=t("./node_eventemitter"),r=null,s=function(t){function e(){t.call(this,!0,!0),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0}return i(e,t),e.prototype.setReadMode=function(t){this.isRaw!==t&&(this.isRaw=t,this.emit("modeChange"))},e.prototype.changeColumns=function(t){t!==this.columns&&(this.columns=t,this.emit("resize"))},e.prototype.changeRows=function(t){t!==this.rows&&(this.rows=t,this.emit("resize"))},e.isatty=function(t){return t instanceof e},e}(o.AbstractDuplexStream);n.TTY=s;var a=function(){function e(){this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.stdout=new s,this.stderr=new s,this.stdin=new s}return e.prototype.chdir=function(e){null===r&&(r=t("./node_path")),this._cwd=r.resolve(e)},e.prototype.cwd=function(){return this._cwd},e.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},e}();n.Process=a,n.process=new a},{"./node_eventemitter":25,"./node_path":28}],30:[function(t,e,n){function i(t){switch(t=function(){switch(typeof t){case"object":return""+t;case"string":return t;default:throw new Error("Invalid encoding argument specified")}}(),t=t.toLowerCase()){case"utf8":case"utf-8":return o;case"ascii":return r;case"binary":return a;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c;case"hex":return l;case"base64":return u;case"binary_string":return h;case"binary_string_ie":return f;case"extended_ascii":return s;default:throw new Error("Unknown encoding: "+t)}}n.FindUtil=i;var o=function(){function t(){}return t.str2byte=function(t,e){for(var n=e.length,i=0,o=0,r=n,s=0;i<t.length&&r>o;){var a=t.charCodeAt(i++),u=t.charCodeAt(i);if(a>=55296&&56319>=a&&u>=56320&&57343>=u){if(o+3>=r)break;s++;var c=(1023&a|1024)<<10|1023&u;e.writeUInt8(c>>18|240,o++),e.writeUInt8(c>>12&63|128,o++),e.writeUInt8(c>>6&63|128,o++),e.writeUInt8(63&c|128,o++),i++}else if(128>a)e.writeUInt8(a,o++),s++;else if(2048>a){if(o+1>=r)break;s++,e.writeUInt8(a>>6|192,o++),e.writeUInt8(63&a|128,o++)}else if(65536>a){if(o+2>=r)break;s++,e.writeUInt8(a>>12|224,o++),e.writeUInt8(a>>6&63|128,o++),e.writeUInt8(63&a|128,o++)}}return o},t.byte2str=function(t){for(var e=[],n=0;n<t.length;){var i=t.readUInt8(n++);if(128>i)e.push(String.fromCharCode(i));else{if(192>i)throw new Error("Found incomplete part of character in string.");if(224>i)e.push(String.fromCharCode((31&i)<<6|63&t.readUInt8(n++)));else if(240>i)e.push(String.fromCharCode((15&i)<<12|(63&t.readUInt8(n++))<<6|63&t.readUInt8(n++)));else{if(!(248>i))throw new Error("Unable to represent UTF-8 string as UTF-16 JavaScript string.");var o=t.readUInt8(n+2);e.push(String.fromCharCode(1023&((7&i)<<8|(63&t.readUInt8(n++))<<2|(63&t.readUInt8(n++))>>4)|55296)),e.push(String.fromCharCode((15&o)<<6|63&t.readUInt8(n++)|56320))}}}return e.join("")},t.byteLength=function(t){var e=encodeURIComponent(t).match(/%[89ABab]/g);return t.length+(e?e.length:0)},t}();n.UTF8=o;var r=function(){function t(){}return t.str2byte=function(t,e){for(var n=t.length>e.length?e.length:t.length,i=0;n>i;i++)e.writeUInt8(t.charCodeAt(i)%256,i);return n},t.byte2str=function(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=String.fromCharCode(127&t.readUInt8(n));return e.join("")},t.byteLength=function(t){return t.length},t}();n.ASCII=r;var s=function(){function t(){}return t.str2byte=function(e,n){for(var i=e.length>n.length?n.length:e.length,o=0;i>o;o++){var r=e.charCodeAt(o);if(r>127){var s=t.extendedChars.indexOf(e.charAt(o));s>-1&&(r=s+128)}n.writeUInt8(r,o)}return i},t.byte2str=function(e){for(var n=new Array(e.length),i=0;i<e.length;i++){var o=e.readUInt8(i);n[i]=o>127?t.extendedChars[o-128]:String.fromCharCode(o)}return n.join("")},t.byteLength=function(t){return t.length},t.extendedChars=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","_","_","_","","","","","","","","","+","+","","","+","+","-","-","+","-","+","","","+","+","-","-","","-","+","","","","","","","i","","","","+","+","_","_","","","_","","","","","","","","","","","","","","","","","","","_","","","","","","","","","","","","_"," "],t}();n.ExtendedASCII=s;var a=function(){function t(){}return t.str2byte=function(t,e){for(var n=t.length>e.length?e.length:t.length,i=0;n>i;i++)e.writeUInt8(255&t.charCodeAt(i),i);return n},t.byte2str=function(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=String.fromCharCode(255&t.readUInt8(n));return e.join("")},t.byteLength=function(t){return t.length},t}();n.BINARY=a;var u=function(){function t(){}return t.byte2str=function(e){for(var n="",i=0;i<e.length;){var o=e.readUInt8(i++),r=i<e.length?e.readUInt8(i++):NaN,s=i<e.length?e.readUInt8(i++):NaN,a=o>>2,u=(3&o)<<4|r>>4,c=(15&r)<<2|s>>6,l=63&s;isNaN(r)?c=l=64:isNaN(s)&&(l=64),n=n+t.num2b64[a]+t.num2b64[u]+t.num2b64[c]+t.num2b64[l]}return n},t.str2byte=function(e,n){var i=n.length,o="",r=0;e=e.replace(/[^A-Za-z0-9\+\/\=\-\_]/g,"");for(var s=0;r<e.length;){var a=t.b642num[e.charAt(r++)],u=t.b642num[e.charAt(r++)],c=t.b642num[e.charAt(r++)],l=t.b642num[e.charAt(r++)],h=a<<2|u>>4,f=(15&u)<<4|c>>2,d=(3&c)<<6|l;if(n.writeUInt8(h,s++),s===i)break;if(64!==c&&(o+=n.writeUInt8(f,s++)),s===i)break;if(64!==l&&(o+=n.writeUInt8(d,s++)),s===i)break}return s},t.byteLength=function(t){return Math.floor(6*t.replace(/[^A-Za-z0-9\+\/\-\_]/g,"").length/8)},t.b64chars=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/","="],t.num2b64=function(){for(var e=new Array(t.b64chars.length),n=0;n<t.b64chars.length;n++){var i=t.b64chars[n];e[n]=i}return e}(),t.b642num=function(){for(var e={},n=0;n<t.b64chars.length;n++){e[t.b64chars[n]]=n}return e["-"]=62,e._=63,e}(),t}();n.BASE64=u;var c=function(){function t(){}return t.str2byte=function(t,e){var n=t.length;2*n>e.length&&(n=e.length%2==1?(e.length-1)/2:e.length/2);for(var i=0;n>i;i++)e.writeUInt16LE(t.charCodeAt(i),2*i);return 2*n},t.byte2str=function(t){if(t.length%2!=0)throw new Error("Invalid UCS2 byte array.");for(var e=new Array(t.length/2),n=0;n<t.length;n+=2)e[n/2]=String.fromCharCode(t.readUInt8(n)|t.readUInt8(n+1)<<8);return e.join("")},t.byteLength=function(t){return 2*t.length},t}();n.UCS2=c;var l=function(){function t(){}return t.str2byte=function(t,e){if(t.length%2==1)throw new Error("Invalid hex string");var n=t.length>>1;n>e.length&&(n=e.length);for(var i=0;n>i;i++){var o=this.hex2num[t.charAt(i<<1)],r=this.hex2num[t.charAt(1+(i<<1))];e.writeUInt8(o<<4|r,i)}return n},t.byte2str=function(t){for(var e=t.length,n=new Array(e<<1),i=0,o=0;e>o;o++){var r=15&t.readUInt8(o),s=t.readUInt8(o)>>4;n[i++]=this.num2hex[s],n[i++]=this.num2hex[r]}return n.join("")},t.byteLength=function(t){return t.length>>1},t.HEXCHARS="0123456789abcdef",t.num2hex=function(){for(var e=new Array(t.HEXCHARS.length),n=0;n<t.HEXCHARS.length;n++){var i=t.HEXCHARS[n];e[n]=i}return e}(),t.hex2num=function(){var e,n,i={};for(e=0;e<t.HEXCHARS.length;e++)n=t.HEXCHARS[e],i[n]=e;var o="ABCDEF";for(e=0;e<o.length;e++)n=o[e],i[n]=e+10;return i}(),t}();n.HEX=l;var h=function(){function t(){}return t.str2byte=function(e,n){if(0===e.length)return 0;var i=t.byteLength(e);i>n.length&&(i=n.length);var o=0,r=0,s=r+i,a=e.charCodeAt(o++);0!==a&&(n.writeUInt8(255&a,0),r=1);for(var u=r;s>u;u+=2){var c=e.charCodeAt(o++);s-u==1&&n.writeUInt8(c>>8,u),s-u>=2&&n.writeUInt16BE(c,u)}return i},t.byte2str=function(t){var e=t.length;if(0===e)return"";for(var n=new Array(1+(e>>1)),i=0,o=0;o<n.length;o++)n[o]=0===o?e%2==1?String.fromCharCode(256|t.readUInt8(i++)):String.fromCharCode(0):String.fromCharCode(t.readUInt8(i++)<<8|t.readUInt8(i++));return n.join("")},t.byteLength=function(t){if(0===t.length)return 0;var e=t.charCodeAt(0),n=t.length-1<<1;return 0!==e&&n++,n},t}();n.BINSTR=h;var f=function(){function t(){}return t.str2byte=function(t,e){for(var n=t.length>e.length?e.length:t.length,i=0;n>i;i++)e.writeUInt8(t.charCodeAt(i)-32,i);return n},t.byte2str=function(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=String.fromCharCode(t.readUInt8(n)+32);return e.join("")},t.byteLength=function(t){return t.length},t}();n.BINSTRIE=f},{}],31:[function(t,e,n){n.isIE="undefined"!=typeof navigator&&(null!=/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||-1!==navigator.userAgent.indexOf("Trident")),n.isWebWorker="undefined"==typeof window},{}],32:[function(t,e,n){var i=t("../core/browserfs"),o=t("../core/node_fs"),r=t("../core/buffer"),s=t("../core/buffer_core_arraybuffer"),a=r.Buffer,u=s.BufferCoreArrayBuffer,c=function(){function t(t){this.fs=t,this.FS=t.getFS(),this.PATH=t.getPATH(),this.ERRNO_CODES=t.getERRNO_CODES()}return t.prototype.open=function(t){var e=this.fs.realPath(t.node),n=this.FS;try{n.isFile(t.node.mode)&&(t.nfd=o.openSync(e,this.fs.flagsToPermissionString(t.flags)))}catch(t){if(!t.code)throw t;throw new n.ErrnoError(this.ERRNO_CODES[t.code])}},t.prototype.close=function(t){var e=this.FS;try{e.isFile(t.node.mode)&&t.nfd&&o.closeSync(t.nfd)}catch(t){if(!t.code)throw t;throw new e.ErrnoError(this.ERRNO_CODES[t.code])}},t.prototype.read=function(t,e,n,i,r){var s,c=new u(e.buffer),l=new a(c,e.byteOffset+n,e.byteOffset+n+i);try{s=o.readSync(t.nfd,l,0,i,r)}catch(t){throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}return s},t.prototype.write=function(t,e,n,i,r){var s,c=new u(e.buffer),l=new a(c,e.byteOffset+n,e.byteOffset+n+i);try{s=o.writeSync(t.nfd,l,0,i,r)}catch(t){throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}return s},t.prototype.llseek=function(t,e,n){var i=e;if(1===n)i+=t.position;else if(2===n&&this.FS.isFile(t.node.mode))try{var r=o.fstatSync(t.nfd);i+=r.size}catch(t){throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}if(0>i)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return t.position=i,i},t}(),l=function(){function t(t){this.fs=t,this.FS=t.getFS(),this.PATH=t.getPATH(),this.ERRNO_CODES=t.getERRNO_CODES()}return t.prototype.getattr=function(t){var e,n=this.fs.realPath(t);try{e=o.lstatSync(n)}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}return{dev:e.dev,ino:e.ino,mode:e.mode,nlink:e.nlink,uid:e.uid,gid:e.gid,rdev:e.rdev,size:e.size,atime:e.atime,mtime:e.mtime,ctime:e.ctime,blksize:e.blksize,blocks:e.blocks}},t.prototype.setattr=function(t,e){var n=this.fs.realPath(t);try{if(void 0!==e.mode&&(o.chmodSync(n,e.mode),t.mode=e.mode),void 0!==e.timestamp){var i=new Date(e.timestamp);o.utimesSync(n,i,i)}}catch(t){if(!t.code)throw t;if("ENOTSUP"!==t.code)throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}if(void 0!==e.size)try{o.truncateSync(n,e.size)}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}},t.prototype.lookup=function(t,e){var n=this.PATH.join2(this.fs.realPath(t),e),i=this.fs.getMode(n);return this.fs.createNode(t,e,i)},t.prototype.mknod=function(t,e,n,i){var r=this.fs.createNode(t,e,n,i),s=this.fs.realPath(r);try{this.FS.isDir(r.mode)?o.mkdirSync(s,r.mode):o.writeFileSync(s,"",{mode:r.mode})}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}return r},t.prototype.rename=function(t,e,n){var i=this.fs.realPath(t),r=this.PATH.join2(this.fs.realPath(e),n);try{o.renameSync(i,r)}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}},t.prototype.unlink=function(t,e){var n=this.PATH.join2(this.fs.realPath(t),e);try{o.unlinkSync(n)}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}},t.prototype.rmdir=function(t,e){var n=this.PATH.join2(this.fs.realPath(t),e);try{o.rmdirSync(n)}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}},t.prototype.readdir=function(t){var e=this.fs.realPath(t);try{return o.readdirSync(e)}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}},t.prototype.symlink=function(t,e,n){var i=this.PATH.join2(this.fs.realPath(t),e);try{o.symlinkSync(n,i)}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}},t.prototype.readlink=function(t){var e=this.fs.realPath(t);try{return o.readlinkSync(e)}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}},t}(),h=function(){function t(t,e,n){if(void 0===t&&(t=self.FS),void 0===e&&(e=self.PATH),void 0===n&&(n=self.ERRNO_CODES),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},void 0===i)throw new Error("BrowserFS is not loaded. Please load it before this library.");this.FS=t,this.PATH=e,this.ERRNO_CODES=n,this.node_ops=new l(this),this.stream_ops=new c(this)}return t.prototype.mount=function(t){return this.createNode(null,"/",this.getMode(t.opts.root),0)},t.prototype.createNode=function(t,e,n,i){var o=this.FS;if(!o.isDir(n)&&!o.isFile(n)&&!o.isLink(n))throw new o.ErrnoError(this.ERRNO_CODES.EINVAL);var r=o.createNode(t,e,n);return r.node_ops=this.node_ops,r.stream_ops=this.stream_ops,r},t.prototype.getMode=function(t){var e;try{e=o.lstatSync(t)}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}return e.mode},t.prototype.realPath=function(t){for(var e=[];t.parent!==t;)e.push(t.name),t=t.parent;return e.push(t.mount.opts.root),e.reverse(),this.PATH.join.apply(null,e)},t.prototype.flagsToPermissionString=function(t){return t in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[t]:t},t.prototype.getFS=function(){return this.FS},t.prototype.getPATH=function(){return this.PATH},t.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES},t}();n.BFSEmscriptenFS=h,i.EmscriptenFS=h},{"../core/browserfs":15,"../core/buffer":16,"../core/buffer_core_arraybuffer":19,"../core/node_fs":26}],33:[function(t,e,n){var i=t("../core/node_fs_stats"),o=t("../core/node_path"),r=i.Stats,s=function(){function t(){this._index={},this.addPath("/",new u)}return t.prototype._split_path=function(t){var e=o.dirname(t);return[e,t.substr(e.length+("/"===e?0:1))]},t.prototype.fileIterator=function(t){for(var e in this._index)for(var n=this._index[e],i=n.getListing(),o=0;o<i.length;o++){var r=n.getItem(i[o]);r.isFile()&&t(r.getData())}},t.prototype.addPath=function(t,e){if(null==e)throw new Error("Inode must be specified");if("/"!==t[0])throw new Error("Path must be absolute, got: "+t);if(this._index.hasOwnProperty(t))return this._index[t]===e;var n=this._split_path(t),i=n[0],o=n[1],r=this._index[i];return!(void 0===r&&"/"!==t&&(r=new u,!this.addPath(i,r))||"/"!==t&&!r.addItem(o,e))&&(e.isFile()||(this._index[t]=e),!0)},t.prototype.removePath=function(t){var e=this._split_path(t),n=e[0],i=e[1],o=this._index[n];if(void 0===o)return null;var r=o.remItem(i);if(null===r)return null;if(!r.isFile()){for(var s=r,a=s.getListing(),u=0;u<a.length;u++)this.removePath(t+"/"+a[u]);"/"!==t&&delete this._index[t]}return r},t.prototype.ls=function(t){var e=this._index[t];return void 0===e?null:e.getListing()},t.prototype.getInode=function(t){var e=this._split_path(t),n=e[0],i=e[1],o=this._index[n];return void 0===o?null:n===t?o:o.getItem(i)},t.from_listing=function(e){var n=new t,o=new u;n._index["/"]=o;for(var s=[["",e,o]];s.length>0;){var c,l=s.pop(),h=l[0],f=l[1],d=l[2];for(var p in f){var g=f[p],m=h+"/"+p;null!=g?(n._index[m]=c=new u,s.push([m,g,c])):c=new a(new r(i.FileType.FILE,-1,365)),null!=d&&(d._ls[p]=c)}}return n},t}();n.FileIndex=s;var a=function(){function t(t){this.data=t}return t.prototype.isFile=function(){return!0},t.prototype.isDir=function(){return!1},t.prototype.getData=function(){return this.data},t.prototype.setData=function(t){this.data=t},t}();n.FileInode=a;var u=function(){function t(){this._ls={}}return t.prototype.isFile=function(){return!1},t.prototype.isDir=function(){return!0},t.prototype.getStats=function(){return new r(i.FileType.DIRECTORY,4096,365)},t.prototype.getListing=function(){return Object.keys(this._ls)},t.prototype.getItem=function(t){var e;return null!=(e=this._ls[t])?e:null},t.prototype.addItem=function(t,e){return!(t in this._ls)&&(this._ls[t]=e,!0)},t.prototype.remItem=function(t){var e=this._ls[t];return void 0===e?null:(delete this._ls[t],e)},t}();n.DirInode=u},{"../core/node_fs_stats":27,"../core/node_path":28}],34:[function(t,e,n){var i=t("../core/node_fs_stats"),o=t("../core/buffer"),r=function(){function t(t,e,n,i,o,r){this.id=t,this.size=e,this.mode=n,this.atime=i,this.mtime=o,this.ctime=r}return t.prototype.toStats=function(){return new i.Stats((61440&this.mode)===i.FileType.DIRECTORY?i.FileType.DIRECTORY:i.FileType.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},t.prototype.getSize=function(){return 30+this.id.length},t.prototype.toBuffer=function(t){return void 0===t&&(t=new o.Buffer(this.getSize())),t.writeUInt32LE(this.size,0),t.writeUInt16LE(this.mode,4),t.writeDoubleLE(this.atime,6),t.writeDoubleLE(this.mtime,14),t.writeDoubleLE(this.ctime,22),t.write(this.id,30,this.id.length,"ascii"),t},t.prototype.update=function(t){var e=!1;this.size!==t.size&&(this.size=t.size,e=!0),this.mode!==t.mode&&(this.mode=t.mode,e=!0);var n=t.atime.getTime();this.atime!==n&&(this.atime=n,e=!0);var i=t.mtime.getTime();this.mtime!==i&&(this.mtime=i,e=!0);var o=t.ctime.getTime();return this.ctime!==o&&(this.ctime=o,e=!0),e},t.fromBuffer=function(e){if(void 0===e)throw new Error("NO");return new t(e.toString("ascii",30),e.readUInt32LE(0),e.readUInt16LE(4),e.readDoubleLE(6),e.readDoubleLE(14),e.readDoubleLE(22))},t.prototype.isFile=function(){return(61440&this.mode)===i.FileType.FILE},t.prototype.isDirectory=function(){return(61440&this.mode)===i.FileType.DIRECTORY},t}();e.exports=r},{"../core/buffer":16,"../core/node_fs_stats":27}],35:[function(t,e,n){function i(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}function o(t,e){return!t||(e(t),!1)}function r(t,e,n){return!t||(e.abort(function(){n(t)}),!1)}var s=this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},a=t("../core/file_system"),u=t("../core/api_error"),c=t("../core/node_fs_stats"),l=t("../core/node_path"),h=t("../generic/inode"),f=t("../core/buffer"),d=t("../generic/preload_file"),p="/",g=u.ApiError,m=f.Buffer,y=function(){function t(t){this.store=t,this.originalData={},this.modifiedKeys=[]}return t.prototype.stashOldValue=function(t,e){this.originalData.hasOwnProperty(t)||(this.originalData[t]=e)},t.prototype.markModified=function(t){-1===this.modifiedKeys.indexOf(t)&&(this.modifiedKeys.push(t),this.originalData.hasOwnProperty(t)||(this.originalData[t]=this.store.get(t)))},t.prototype.get=function(t){var e=this.store.get(t);return this.stashOldValue(t,e),e},t.prototype.put=function(t,e,n){return this.markModified(t),this.store.put(t,e,n)},t.prototype.delete=function(t){this.markModified(t),this.store.delete(t)},t.prototype.commit=function(){},t.prototype.abort=function(){var t,e,n;for(t=0;t<this.modifiedKeys.length;t++)e=this.modifiedKeys[t],n=this.originalData[e],null===n?this.store.delete(e):this.store.put(e,n,!0)},t}();n.SimpleSyncRWTransaction=y;var _=function(t){function e(e,n,i,o,r){t.call(this,e,n,i,o,r)}return s(e,t),e.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},e.prototype.closeSync=function(){this.syncSync()},e}(d.PreloadFile);n.SyncKeyValueFile=_;var v=function(t){function e(e){t.call(this),this.store=e.store,this.makeRootDirectory()}return s(e,t),e.isAvailable=function(){return!0},e.prototype.getName=function(){return this.store.name()},e.prototype.isReadOnly=function(){return!1},e.prototype.supportsSymlinks=function(){return!1},e.prototype.supportsProps=function(){return!1},e.prototype.supportsSynch=function(){return!0},e.prototype.makeRootDirectory=function(){var t=this.store.beginTransaction("readwrite");if(void 0===t.get(p)){var e=(new Date).getTime(),n=new h(i(),4096,511|c.FileType.DIRECTORY,e,e,e);t.put(n.id,new m("{}"),!1),t.put(p,n.toBuffer(),!1),t.commit()}},e.prototype._findINode=function(t,e,n){var i=this,o=function(o){var r=i.getDirListing(t,e,o);if(r[n])return r[n];throw g.ENOENT(l.resolve(e,n))};return"/"===e?""===n?p:o(this.getINode(t,e,p)):o(this.getINode(t,e+l.sep+n,this._findINode(t,l.dirname(e),l.basename(e))))},e.prototype.findINode=function(t,e){return this.getINode(t,e,this._findINode(t,l.dirname(e),l.basename(e)))},e.prototype.getINode=function(t,e,n){var i=t.get(n);if(void 0===i)throw g.ENOENT(e);return h.fromBuffer(i)},e.prototype.getDirListing=function(t,e,n){if(!n.isDirectory())throw g.ENOTDIR(e);var i=t.get(n.id);if(void 0===i)throw g.ENOENT(e);return JSON.parse(i.toString())},e.prototype.addNewNode=function(t,e){for(var n;!0;)try{return n=i(),t.put(n,e,!1),n}catch(t){}throw new g(u.ErrorCode.EIO,"Unable to commit data to key-value store.")},e.prototype.commitNewFile=function(t,e,n,i,o){var r=l.dirname(e),s=l.basename(e),a=this.findINode(t,r),u=this.getDirListing(t,r,a),c=(new Date).getTime();if("/"===e)throw g.EEXIST(e);if(u[s])throw g.EEXIST(e);try{var f=this.addNewNode(t,o),d=new h(f,o.length,i|n,c,c,c),p=this.addNewNode(t,d.toBuffer());u[s]=p,t.put(a.id,new m(JSON.stringify(u)),!0)}catch(e){throw t.abort(),e}return t.commit(),d},e.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},e.prototype.renameSync=function(t,e){var n=this.store.beginTransaction("readwrite"),i=l.dirname(t),o=l.basename(t),r=l.dirname(e),s=l.basename(e),a=this.findINode(n,i),c=this.getDirListing(n,i,a);if(!c[o])throw g.ENOENT(t);var h=c[o];if(delete c[o],0===(r+"/").indexOf(t+"/"))throw new g(u.ErrorCode.EBUSY,i);var f,d;if(r===i?(f=a,d=c):(f=this.findINode(n,r),d=this.getDirListing(n,r,f)),d[s]){var p=this.getINode(n,e,d[s]);if(!p.isFile())throw g.EPERM(e);try{n.delete(p.id),n.delete(d[s])}catch(t){throw n.abort(),t}}d[s]=h;try{n.put(a.id,new m(JSON.stringify(c)),!0),n.put(f.id,new m(JSON.stringify(d)),!0)}catch(t){throw n.abort(),t}n.commit()},e.prototype.statSync=function(t,e){return this.findINode(this.store.beginTransaction("readonly"),t).toStats()},e.prototype.createFileSync=function(t,e,n){var i=this.store.beginTransaction("readwrite"),o=new m(0),r=this.commitNewFile(i,t,c.FileType.FILE,n,o);return new _(this,t,e,r.toStats(),o)},e.prototype.openFileSync=function(t,e){var n=this.store.beginTransaction("readonly"),i=this.findINode(n,t),o=n.get(i.id);if(void 0===o)throw g.ENOENT(t);return new _(this,t,e,i.toStats(),o)},e.prototype.removeEntry=function(t,e){var n=this.store.beginTransaction("readwrite"),i=l.dirname(t),o=this.findINode(n,i),r=this.getDirListing(n,i,o),s=l.basename(t);if(!r[s])throw g.ENOENT(t);var a=r[s];delete r[s];var u=this.getINode(n,t,a);if(!e&&u.isDirectory())throw g.EISDIR(t)
;if(e&&!u.isDirectory())throw g.ENOTDIR(t);try{n.delete(u.id),n.delete(a),n.put(o.id,new m(JSON.stringify(r)),!0)}catch(t){throw n.abort(),t}n.commit()},e.prototype.unlinkSync=function(t){this.removeEntry(t,!1)},e.prototype.rmdirSync=function(t){this.removeEntry(t,!0)},e.prototype.mkdirSync=function(t,e){var n=this.store.beginTransaction("readwrite"),i=new m("{}");this.commitNewFile(n,t,c.FileType.DIRECTORY,e,i)},e.prototype.readdirSync=function(t){var e=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(e,t,this.findINode(e,t)))},e.prototype._syncSync=function(t,e,n){var i=this.store.beginTransaction("readwrite"),o=this._findINode(i,l.dirname(t),l.basename(t)),r=this.getINode(i,t,o),s=r.update(n);try{i.put(r.id,e,!0),s&&i.put(o,r.toBuffer(),!0)}catch(t){throw i.abort(),t}i.commit()},e}(a.SynchronousFileSystem);n.SyncKeyValueFileSystem=v;var w=function(t){function e(e,n,i,o,r){t.call(this,e,n,i,o,r)}return s(e,t),e.prototype.sync=function(t){var e=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(n){n||e.resetDirty(),t(n)}):t()},e.prototype.close=function(t){this.sync(t)},e}(d.PreloadFile);n.AsyncKeyValueFile=w;var b=function(t){function e(){t.apply(this,arguments)}return s(e,t),e.prototype.init=function(t,e){this.store=t,this.makeRootDirectory(e)},e.isAvailable=function(){return!0},e.prototype.getName=function(){return this.store.name()},e.prototype.isReadOnly=function(){return!1},e.prototype.supportsSymlinks=function(){return!1},e.prototype.supportsProps=function(){return!1},e.prototype.supportsSynch=function(){return!1},e.prototype.makeRootDirectory=function(t){var e=this.store.beginTransaction("readwrite");e.get(p,function(n,o){if(n||void 0===o){var s=(new Date).getTime(),a=new h(i(),4096,511|c.FileType.DIRECTORY,s,s,s);e.put(a.id,new m("{}"),!1,function(n){r(n,e,t)&&e.put(p,a.toBuffer(),!1,function(n){n?e.abort(function(){t(n)}):e.commit(t)})})}else e.commit(t)})},e.prototype._findINode=function(t,e,n,i){var r=this,s=function(t,o,r){t?i(t):r[n]?i(null,r[n]):i(g.ENOENT(l.resolve(e,n)))};"/"===e?""===n?i(null,p):this.getINode(t,e,p,function(n,a){o(n,i)&&r.getDirListing(t,e,a,function(t,e){s(t,0,e)})}):this.findINodeAndDirListing(t,e,s)},e.prototype.findINode=function(t,e,n){var i=this;this._findINode(t,l.dirname(e),l.basename(e),function(r,s){o(r,n)&&i.getINode(t,e,s,n)})},e.prototype.getINode=function(t,e,n,i){t.get(n,function(t,n){o(t,i)&&(void 0===n?i(g.ENOENT(e)):i(null,h.fromBuffer(n)))})},e.prototype.getDirListing=function(t,e,n,i){n.isDirectory()?t.get(n.id,function(t,n){if(o(t,i))try{i(null,JSON.parse(n.toString()))}catch(t){i(g.ENOENT(e))}}):i(g.ENOTDIR(e))},e.prototype.findINodeAndDirListing=function(t,e,n){var i=this;this.findINode(t,e,function(r,s){o(r,n)&&i.getDirListing(t,e,s,function(t,e){o(t,n)&&n(null,s,e)})})},e.prototype.addNewNode=function(t,e,n){var o,r=0,s=function(){5==++r?n(new g(u.ErrorCode.EIO,"Unable to commit data to key-value store.")):(o=i(),t.put(o,e,!1,function(t,e){t||!e?s():n(null,o)}))};s()},e.prototype.commitNewFile=function(t,e,n,i,o,s){var a=this,u=l.dirname(e),c=l.basename(e),f=(new Date).getTime();return"/"===e?s(g.EEXIST(e)):void this.findINodeAndDirListing(t,u,function(u,l,d){r(u,t,s)&&(d[c]?t.abort(function(){s(g.EEXIST(e))}):a.addNewNode(t,o,function(e,u){if(r(e,t,s)){var p=new h(u,o.length,i|n,f,f,f);a.addNewNode(t,p.toBuffer(),function(e,n){r(e,t,s)&&(d[c]=n,t.put(l.id,new m(JSON.stringify(d)),!0,function(e){r(e,t,s)&&t.commit(function(e){r(e,t,s)&&s(null,p)})}))})}}))})},e.prototype.empty=function(t){var e=this;this.store.clear(function(n){o(n,t)&&e.makeRootDirectory(t)})},e.prototype.rename=function(t,e,n){var i=this,o=this.store.beginTransaction("readwrite"),s=l.dirname(t),a=l.basename(t),c=l.dirname(e),h=l.basename(e),f={},d={},p=!1;if(0===(c+"/").indexOf(t+"/"))return n(new g(u.ErrorCode.EBUSY,s));var y=function(){if(!p&&d.hasOwnProperty(s)&&d.hasOwnProperty(c)){var u=d[s],l=f[s],y=d[c],_=f[c];if(u[a]){var v=u[a];delete u[a];var w=function(){y[h]=v,o.put(l.id,new m(JSON.stringify(u)),!0,function(t){r(t,o,n)&&(s===c?o.commit(n):o.put(_.id,new m(JSON.stringify(y)),!0,function(t){r(t,o,n)&&o.commit(n)}))})};y[h]?i.getINode(o,e,y[h],function(t,i){r(t,o,n)&&(i.isFile()?o.delete(i.id,function(t){r(t,o,n)&&o.delete(y[h],function(t){r(t,o,n)&&w()})}):o.abort(function(t){n(g.EPERM(e))}))}):w()}else n(g.ENOENT(t))}},_=function(t){i.findINodeAndDirListing(o,t,function(e,i,r){e?p||(p=!0,o.abort(function(){n(e)})):(f[t]=i,d[t]=r,y())})};_(s),s!==c&&_(c)},e.prototype.stat=function(t,e,n){var i=this.store.beginTransaction("readonly");this.findINode(i,t,function(t,e){o(t,n)&&n(null,e.toStats())})},e.prototype.createFile=function(t,e,n,i){var r=this,s=this.store.beginTransaction("readwrite"),a=new m(0);this.commitNewFile(s,t,c.FileType.FILE,n,a,function(n,s){o(n,i)&&i(null,new w(r,t,e,s.toStats(),a))})},e.prototype.openFile=function(t,e,n){var i=this,r=this.store.beginTransaction("readonly");this.findINode(r,t,function(s,a){o(s,n)&&r.get(a.id,function(r,s){o(r,n)&&(void 0===s?n(g.ENOENT(t)):n(null,new w(i,t,e,a.toStats(),s)))})})},e.prototype.removeEntry=function(t,e,n){var i=this,o=this.store.beginTransaction("readwrite"),s=l.dirname(t),a=l.basename(t);this.findINodeAndDirListing(o,s,function(s,u,c){if(r(s,o,n))if(c[a]){var l=c[a];delete c[a],i.getINode(o,t,l,function(i,s){r(i,o,n)&&(!e&&s.isDirectory()?o.abort(function(){n(g.EISDIR(t))}):e&&!s.isDirectory()?o.abort(function(){n(g.ENOTDIR(t))}):o.delete(s.id,function(t){r(t,o,n)&&o.delete(l,function(t){r(t,o,n)&&o.put(u.id,new m(JSON.stringify(c)),!0,function(t){r(t,o,n)&&o.commit(n)})})}))})}else o.abort(function(){n(g.ENOENT(t))})})},e.prototype.unlink=function(t,e){this.removeEntry(t,!1,e)},e.prototype.rmdir=function(t,e){this.removeEntry(t,!0,e)},e.prototype.mkdir=function(t,e,n){var i=this.store.beginTransaction("readwrite"),o=new m("{}");this.commitNewFile(i,t,c.FileType.DIRECTORY,e,o,n)},e.prototype.readdir=function(t,e){var n=this,i=this.store.beginTransaction("readonly");this.findINode(i,t,function(r,s){o(r,e)&&n.getDirListing(i,t,s,function(t,n){o(t,e)&&e(null,Object.keys(n))})})},e.prototype._sync=function(t,e,n,i){var o=this,s=this.store.beginTransaction("readwrite");this._findINode(s,l.dirname(t),l.basename(t),function(a,u){r(a,s,i)&&o.getINode(s,t,u,function(t,o){if(r(t,s,i)){var a=o.update(n);s.put(o.id,e,!0,function(t){r(t,s,i)&&(a?s.put(u,o.toBuffer(),!0,function(t){r(t,s,i)&&s.commit(i)}):s.commit(i))})}})})},e}(a.BaseFileSystem);n.AsyncKeyValueFileSystem=b},{"../core/api_error":14,"../core/buffer":16,"../core/file_system":23,"../core/node_fs_stats":27,"../core/node_path":28,"../generic/inode":34,"../generic/preload_file":36}],36:[function(t,e,n){var i=this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},o=t("../core/file"),r=t("../core/buffer"),s=t("../core/api_error"),a=t("../core/node_fs"),u=s.ApiError,c=s.ErrorCode,l=r.Buffer,h=function(t){function e(e,n,i,o,r){if(t.call(this),this._pos=0,this._dirty=!1,this._fs=e,this._path=n,this._flag=i,this._stat=o,this._buffer=null!=r?r:new l(0),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return i(e,t),e.prototype.isDirty=function(){return this._dirty},e.prototype.resetDirty=function(){this._dirty=!1},e.prototype.getBuffer=function(){return this._buffer},e.prototype.getStats=function(){return this._stat},e.prototype.getFlag=function(){return this._flag},e.prototype.getPath=function(){return this._path},e.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},e.prototype.advancePos=function(t){return this._pos+=t},e.prototype.setPos=function(t){return this._pos=t},e.prototype.sync=function(t){try{this.syncSync(),t()}catch(e){t(e)}},e.prototype.syncSync=function(){throw new u(c.ENOTSUP)},e.prototype.close=function(t){try{this.closeSync(),t()}catch(e){t(e)}},e.prototype.closeSync=function(){throw new u(c.ENOTSUP)},e.prototype.stat=function(t){try{t(null,this._stat.clone())}catch(e){t(e)}},e.prototype.statSync=function(){return this._stat.clone()},e.prototype.truncate=function(t,e){try{this.truncateSync(t),this._flag.isSynchronous()&&!a.getRootFS().supportsSynch()&&this.sync(e),e()}catch(t){return e(t)}},e.prototype.truncateSync=function(t){if(this._dirty=!0,!this._flag.isWriteable())throw new u(c.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,t>this._buffer.length){var e=new l(t-this._buffer.length);return e.fill(0),this.writeSync(e,0,e.length,this._buffer.length),void(this._flag.isSynchronous()&&a.getRootFS().supportsSynch()&&this.syncSync())}this._stat.size=t;var n=new l(t);this._buffer.copy(n,0,0,t),this._buffer=n,this._flag.isSynchronous()&&a.getRootFS().supportsSynch()&&this.syncSync()},e.prototype.write=function(t,e,n,i,o){try{o(null,this.writeSync(t,e,n,i),t)}catch(t){o(t)}},e.prototype.writeSync=function(t,e,n,i){if(this._dirty=!0,null==i&&(i=this.getPos()),!this._flag.isWriteable())throw new u(c.EPERM,"File not opened with a writeable mode.");var o=i+n;if(o>this._stat.size&&(this._stat.size=o,o>this._buffer.length)){var r=new l(o);this._buffer.copy(r),this._buffer=r}var s=t.copy(this._buffer,i,e,e+n);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),s):(this.setPos(i+s),s)},e.prototype.read=function(t,e,n,i,o){try{o(null,this.readSync(t,e,n,i),t)}catch(t){o(t)}},e.prototype.readSync=function(t,e,n,i){if(!this._flag.isReadable())throw new u(c.EPERM,"File not opened with a readable mode.");null==i&&(i=this.getPos()),i+n>this._stat.size&&(n=this._stat.size-i);var o=this._buffer.copy(t,e,i,i+n);return this._stat.atime=new Date,this._pos=i+n,o},e.prototype.chmod=function(t,e){try{this.chmodSync(t),e()}catch(t){e(t)}},e.prototype.chmodSync=function(t){if(!this._fs.supportsProps())throw new u(c.ENOTSUP);this._dirty=!0,this._stat.chmod(t),this.syncSync()},e}(o.BaseFile);n.PreloadFile=h;var f=function(t){function e(e,n,i,o,r){t.call(this,e,n,i,o,r)}return i(e,t),e.prototype.sync=function(t){t()},e.prototype.syncSync=function(){},e.prototype.close=function(t){t()},e.prototype.closeSync=function(){},e}(h);n.NoSyncFile=f},{"../core/api_error":14,"../core/buffer":16,"../core/file":21,"../core/node_fs":26}],37:[function(t,e,n){function i(t){for(var e=IEBinaryToArray_ByteStr(t),n=IEBinaryToArray_ByteStr_Last(t),i=e.replace(/[\s\S]/g,function(t){var e=t.charCodeAt(0);return String.fromCharCode(255&e,e>>8)})+n,o=new Array(i.length),r=0;r<i.length;r++)o[r]=i.charCodeAt(r);return o}function o(t,e,n,o){switch(n){case"buffer":case"json":break;default:return o(new m(y.EINVAL,"Invalid download type: "+n))}var r=new XMLHttpRequest;r.open("GET",e,t),r.setRequestHeader("Accept-Charset","x-user-defined"),r.onreadystatechange=function(t){var e;if(4===r.readyState){if(200!==r.status)return o(new m(r.status,"XHR error."));switch(n){case"buffer":return e=i(r.responseBody),o(null,new _(e));case"json":return o(null,JSON.parse(r.responseText))}}},r.send()}function r(t,e,n){o(!0,t,e,n)}function s(t,e){var n;return o(!1,t,e,function(t,e){if(t)throw t;n=e}),n}function a(t,e,n){var i=new XMLHttpRequest;i.open("GET",t,!0);var o=!0;switch(e){case"buffer":i.responseType="arraybuffer";break;case"json":try{i.responseType="json",o="json"===i.responseType}catch(t){o=!1}break;default:return n(new m(y.EINVAL,"Invalid download type: "+e))}i.onreadystatechange=function(t){if(4===i.readyState){if(200!==i.status)return n(new m(i.status,"XHR error."));switch(e){case"buffer":return n(null,new _(i.response?i.response:0));case"json":return o?n(null,i.response):n(null,JSON.parse(i.responseText))}}},i.send()}function u(t,e){var n=new XMLHttpRequest;n.open("GET",t,!1);var i=null,o=null;if(n.overrideMimeType("text/plain; charset=x-user-defined"),n.onreadystatechange=function(t){if(4===n.readyState){if(200!==n.status)return void(o=new m(n.status,"XHR error."));switch(e){case"buffer":var r=n.responseText;i=new _(r.length);for(var s=0;s<r.length;s++)i.writeUInt8(r.charCodeAt(s),s);return;case"json":return void(i=JSON.parse(n.responseText))}}},n.send(),o)throw o;return i}function c(t,e){var n=new XMLHttpRequest;switch(n.open("GET",t,!1),e){case"buffer":n.responseType="arraybuffer";break;case"json":break;default:throw new m(y.EINVAL,"Invalid download type: "+e)}var i,o;if(n.onreadystatechange=function(t){if(4===n.readyState)if(200===n.status)switch(e){case"buffer":i=new _(n.response);break;case"json":i=JSON.parse(n.response)}else o=new m(n.status,"XHR error.")},n.send(),o)throw o;return i}function l(t,e,n){var i=new XMLHttpRequest;i.open("HEAD",e,t),i.onreadystatechange=function(t){if(4===i.readyState){if(200!=i.status)return n(new m(i.status,"XHR HEAD error."));try{return n(null,parseInt(i.getResponseHeader("Content-Length"),10))}catch(t){return n(new m(y.EIO,"XHR HEAD error: Could not read content-length."))}}},i.send()}function h(t){var e;return l(!1,t,function(t,n){if(t)throw t;e=n}),e}function f(t,e){l(!0,t,e)}var d=t("../core/util"),p=t("../core/buffer"),g=t("../core/api_error"),m=g.ApiError,y=g.ErrorCode,_=p.Buffer;n.asyncDownloadFile=d.isIE&&"undefined"==typeof Blob?r:a,n.syncDownloadFile=d.isIE&&"undefined"==typeof Blob?s:d.isIE&&"undefined"!=typeof Blob?c:u,n.getFileSizeSync=h,n.getFileSizeAsync=f},{"../core/api_error":14,"../core/buffer":16,"../core/util":31}],38:[function(t,e,n){var i=t("./core/global");if(Date.now||(Date.now=function(){return(new Date).getTime()}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var r,s,a=[];for(r in o)t.call(o,r)&&a.push(r);if(e)for(s=0;i>s;s++)t.call(o,n[s])&&a.push(n[s]);return a}}()),"b"!=="ab".substr(-1)&&(String.prototype.substr=function(t){return function(e,n){return 0>e&&(e=this.length+e),t.call(this,e,n)}}(String.prototype.substr)),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){for(var n=0;n<this.length;++n)n in this&&t.call(e,this[n],n,this)}),"undefined"==typeof setImmediate){var o=i,r=[],s="zero-timeout-message";if(function(){if(void 0!==o.importScripts||!o.postMessage)return!1;var t=!0,e=o.onmessage;return o.onmessage=function(){t=!1},o.postMessage("","*"),o.onmessage=e,t}()){o.setImmediate=function(t){r.push(t),o.postMessage(s,"*")};var a=function(t){if(t.source===self&&t.data===s&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,r.length>0)){return r.shift()()}};o.addEventListener?o.addEventListener("message",a,!0):o.attachEvent("onmessage",a)}else if(o.MessageChannel){var u=new o.MessageChannel;u.port1.onmessage=function(t){return r.length>0?r.shift()():void 0},o.setImmediate=function(t){r.push(t),u.port2.postMessage("")}}else o.setImmediate=function(t){return setTimeout(t,0)}}Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){if(void 0===e&&(e=0),!this)throw new TypeError;var n=this.length;if(0===n||i>=n)return-1;var i=e;0>i&&(i=n+i);for(var o=i;n>o;o++)if(this[o]===t)return o;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n,i;for(n=0,i=this.length;i>n;++n)n in this&&t.call(e,this[n],n,this)}),Array.prototype.map||(Array.prototype.map=function(t,e){var n,i,o;if(null==this)throw new TypeError(" this is null or not defined");var r=Object(this),s=r.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(e&&(n=e),i=new Array(s),o=0;s>o;){var a,u;o in r&&(a=r[o],u=t.call(n,a,o,r),i[o]=u),o++}return i}),"undefined"!=typeof document&&void 0===window.chrome&&document.write("\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\n<script type='text/vbscript'>\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n IEBinaryToArray_ByteStr = CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n Dim lastIndex\r\n lastIndex = LenB(Binary)\r\n if lastIndex mod 2 Then\r\n IEBinaryToArray_ByteStr_Last = Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n Else\r\n IEBinaryToArray_ByteStr_Last = \"\"\r\n End If\r\nEnd Function\r\n<\/script>\r\n"),t("./generic/emscripten_fs"),t("./backend/IndexedDB"),t("./backend/XmlHttpRequest"),t("./backend/async_mirror"),t("./backend/dropbox"),t("./backend/html5fs"),t("./backend/in_memory"),t("./backend/localStorage"),t("./backend/mountable_file_system"),t("./backend/overlay"),t("./backend/workerfs"),t("./backend/zipfs"),e.exports=t("./core/browserfs")},{"./backend/IndexedDB":3,"./backend/XmlHttpRequest":4,"./backend/async_mirror":5,"./backend/dropbox":6,"./backend/html5fs":7,"./backend/in_memory":8,"./backend/localStorage":9,"./backend/mountable_file_system":10,"./backend/overlay":11,"./backend/workerfs":12,"./backend/zipfs":13,"./core/browserfs":15,"./core/global":24,"./generic/emscripten_fs":32}]},{},[38])(38)});var cesCollections=function(t,e,n,i,o,r,s,a,u,c){var l=this,h=null,f=null,d=null,p="",g=[],m=[];this.SortBy=function(t,e){e=!0===e||!1,h.isotope("updateSortData").isotope(),h.isotope({sortBy:t,sortAscending:e})},this.SetCurrentGameLoading=function(t){d=t},this.RemoveCurrentGameLoading=function(){d=null};var y=function(t,e){if(!d||!d.hasOwnProperty("gk")||t.gameKey.gk!=d.gk){t.gameLink.DisableAllEvents(),h.isotope("remove",t.gridItem).isotope("layout"),i.Destory(t.gridItem);var o="/collections/game?gk="+encodeURIComponent(t.gameKey.gk);n.Delete(o,function(t){e&&e()})}},_=function(t,i){f.isotope("remove",t.gridItem).isotope("layout");var o="/collections?n="+encodeURIComponent(e.Compress.string(t.name));n.Delete(o,function(t){i&&i()})};this.PopulateTitles=function(){for(var t=h.isotope("getItemElements"),e=0,n=t.length;e<n;++e)$(t[e]).data("active",0);for(var o=0,r=g.length;o<r;++o){for(var s=g[o],a=!1,u=0,c=t.length;u<c;++u){var f=$(t[u]);f.data("gk")===s.gameKey.gk&&(a=!0,f.data("active",1),f.attr("data-lastPlayed",s.lastPlayed))}a||(s.gridItem=v(s),s.gridItem.data("active",1));var d=b(s);i.SingleHTML(s.gridItem,d)}for(var p=0,m=t.length;p<m;++p){0===$.data(t[p],"active")&&h.isotope("remove",t[p])}l.SortBy("lastPlayed",!1)};var v=function(t){var e=$('<div class="grid-item" />');return e.attr("data-gk",t.gameKey.gk),e.attr("data-lastPlayed",t.lastPlayed),e.append(t.gameLink.GetDOM()),e.find("img").imagesLoaded().progress(function(t,e){$(e.img).parent().removeClass("close"),h.isotope("layout")}),h.isotope("insert",e[0]),e};this.PopulateCollections=function(){for(var t=f.isotope("getItemElements"),e=0,n=m.length;e<n;++e){for(var o=m[e],r=!1,s=0,a=t.length;s<a;++s){$(t[s]).text()===o.name&&(r=!0)}r||(o.gridItem=w(o)),p===o.name?o.gridItem.addClass("on"):o.gridItem.removeClass("on");var u=S(o);i.SingleHTML(o.gridItem,u)}};var w=function(t){var i=$('<div class="grid-item" />');return i.append(t.name),i.on("click",function(){n.Get("/collections?n="+encodeURIComponent(e.Compress.string(t.name)),function(t){})}),f.isotope("insert",i[0]),i},b=function(t){var e=$('<div class="collection-tooltip" />');return e.append("<div>"+t.gameKey.title+"</div>"),e.append("<div>Last Played: "+$.format.date(t.lastPlayed,"MMM D h:mm:ss a")+"</div>"),e.append("<div>Play Count: "+t.playCount+"</div>"),e.append("<div>Number of Saves: "+t.saveCount+"</div>"),$remove=$('<div class="remove">Remove from this Collection</div>'),$remove.on("click",function(){$remove.off("click"),y(t,function(){})}),e.append($remove),e},S=function(t){var e=$('<div class="collection-tooltip" />');return $remove=$('<div class="remove">Delete this Collection</div>'),$remove.on("click",function(){$remove.off("click"),_(t,function(){})}),e.append($remove),e},E=function(t){var e=t,o=function(){e.animate({width:150},{duration:300,easing:"linear",complete:function(){e.empty(),$wrapper=$('<div class="controls" />'),e.append($wrapper),f.on("layoutComplete",function(t,e){f.off("layoutComplete"),$input=$('<input type="text" class="tooltip" />'),$input.bind("keydown",function(t){13===t.which?s($input,$wrapper):27===t.which&&r()}),$wrapper.append($input),$confirm=$('<div class="button confirm" />'),$confirm.bind("click",function(){s($input,$wrapper)}),$wrapper.append($confirm),$cancel=$('<div class="button cancel" />'),$cancel.bind("click",function(t){$cancel.unbind("click"),$wrapper.hide(),r()}),$wrapper.append($cancel),$wrapper.fadeIn(),$input.focus(),i.Any($input)}),f.isotope("layout")}})},r=function(){e.animate({width:20},{duration:300,easing:"linear",complete:function(){e.empty(),$button=$('<div class="add close" />'),e.append($button),$button.removeClass("close"),f.on("layoutComplete",function(t,e){f.off("layoutComplete"),$button.bind("click",function(){$button.unbind("click"),$button.addClass("close"),o()})}),f.isotope("layout")}})},s=function(t,o){var s=t.val();if(offenders=s.match(/[^a-zA-Z0-9\s\-\/]/g),offenders)return t.tooltipster("content","The following characters are not allowed: "+offenders),void t.tooltipster("show");if(0===s.trim().length)return t.tooltipster("content","Please enter a name for your new collection"),void t.tooltipster("show");if(s.length>60)return t.tooltipster("content","A name cannot exceed 60 characters"),void t.tooltipster("show");for(var a=0,u=m.length;a<u;++a)if(m[a].name===s)return t.tooltipster("content","This name is already used"),void t.tooltipster("show");i.Destory(e),s=s.replace(/[^a-zA-Z0-9\s\-\/]/g,""),o.hide(),n.Post("/collections",{name:s},function(t){r()})};!function(){r()}()};this.Sync=new function(){var n=this;this.ready=!1;var i=function(t,e,n){this.active=t,this.titles=e,this.collections=n};this.Incoming=function(t){s(t.titles),t.active,p=t.active,r(t.collections),l.PopulateTitles(),l.PopulateCollections()},this.Outgoing=function(){return n.reday=!1,new i(_active,_collections)};var r=function(t){for(var e=0,n=t.length;e<n;++e){for(var i=!0,o=0,r=m.length;o<r;++o)if(m[o].name===t[e].name){i=!1;break}i&&m.push(t[e])}for(var s=m.length-1;s>-1;--s){for(var a=!1,u=0,c=t.length;u<c;++u)t[u].name===m[s].name&&(a=!0);a||m.splice(s,1)}},s=function(n){for(var i=0,r=n.length;i<r;++i){for(var s=60*(new Date).getTimezoneOffset()*1e3,a=new Date(n[i].lastPlayed),u=a.getTime(),c=u-s,l=!0,f=0,d=g.length;f<d;++f)n[i].gk===g[f].gameKey.gk&&(l=!1,g[f].lastPlayed=c,g[f].playCount=n[i].playCount,g[f].saveCount=n[i].saveCount);if(l){var p=e.Decompress.gamekey(n[i].gk),m=function(t){h.isotope("layout")},y=new cesGameLink(t,p,120,!1,o,m);g.push({gameKey:p,lastPlayed:c,lastPlayedServerDate:a,playCount:n[i].playCount,saveCount:n[i].saveCount,gameLink:y})}}for(var _=g.length-1;_>-1;--_){for(var v=!1,w=0,b=n.length;w<b;++w)n[w].gk===g[_].gameKey.gk&&(v=!0);v||g.splice(_,1)}};return this};!function(){h=r.isotope({layoutMode:"masonry",itemSelector:".grid-item",getSortData:{lastPlayed:function(t){var e=$(t).attr("data-lastPlayed");return parseInt(e,10)}}}),f=s.isotope({layoutMode:"fitRows",itemSelector:".grid-item"}),$add=w({name:""}),new E($add),l.Sync.Incoming(u)}();return this},cesCompression=function(){var t=function(t,e,n,i){this.system=t,this.title=e,this.file=n,this.gk=i};return this.Compress={bytearray:function(t){var e=pako.deflate(t,{to:"string"});return btoa(e)},json:function(t){var e=JSON.stringify(t),n=pako.deflate(e,{to:"string"});return btoa(n)},string:function(t){var e=pako.deflate(t,{to:"string"});return btoa(e)},gamekey:function(t){}},this.Decompress={bytearray:function(t){var e=new Uint8Array(atob(t).split("").map(function(t){return t.charCodeAt(0)}));return pako.inflate(e)},json:function(t){var e=atob(t),n=pako.inflate(e,{to:"string"});return JSON.parse(n)},string:function(t){var e=atob(t);return pako.inflate(e,{to:"string"})},gamekey:function(e){var n;try{n=this.json(e)}catch(t){return}if(n.length&&3===n.length)return new t(n[0],n[1],n[2],e)}},this.Zip=this.Compress,this.Unzip=this.Decompress,this.In=this.Compress,this.Out=this.Decompress,this},cesDialogs=function(t,e){var n=this,i=!1,o=null;!function(){for(var t in e)$(e[t]).addClass("dialog hide close").append()}();return this.AddDialog=function(t,n){$(n).addClass("close"),e[t]=n},this.ShowDialog=function(t,r,s){if(r=parseInt(r||600,10),i)return void(s&&s());i=!0,this.CloseDialog(!1,function(){o=t,n.SetHeight(r,function(){$(e[t]).removeClass("hide"),setTimeout(function(){$(e[t]).removeClass("close"),i=!1,s&&s()},200)})})},this.CloseDialog=function(t,i){t=t||!1,o?($(e[o]).addClass("close"),setTimeout(function(){$(e[o]).addClass("hide"),t?n.SetHeight(0,i):i&&i()},200)):i&&i()},this.SetHeight=function(e,n,i,o){if(e=parseInt(e||600,10),i=i||600,$(t).height()==e)return void(n&&n());$(t).animate({height:e+"px"},i,"easeInOutSine",n)},this},cesEmulatorBase=function(t,e,n,i,o,r,s){var a=this,u=!1,c=!1,l=!1,h=!1,f=!1,d=!1,p=!1,g=!1,m=o.system+".script",y=null,_=null,v=null;this._InputHelper=null,$(document).ready(function(){a._InputHelper=new cesInputHelper(a,r)}),this.BeginGame=function(t){try{_.callMain(_.arguments)}catch(e){if(t)return t(e)}e.Subscribe("saveready",a,I)},this.Load=function(t,e,i,r,a,c,l){var h=$.Deferred(),f=$.Deferred(),d=$.Deferred(),p=$.Deferred();u=!0;var g=n.systemdetails[o.system].emusize;e.AddBucket("game",i),e.AddBucket("shader",a),e.AddBucket("support",c),s.hasOwnProperty(m)||e.AddBucket("emulator",g),x(e,o.system,t,g,h),C(e,o.system,c,f),O(e,i,d),T(e,r,a,p),$.when(h,f,d,p).done(function(t,e,n,i){u=!1,k(t,e,n,i),l.resolve(!0)})},this.WriteSaveData=function(t,e){if(!t)return void e(!1);v.GetState(t,function(t,n){if(t)return void e(!1);var i=o.file.replace(new RegExp(".[a-z0-9]{1,3}$","gi"),""),r="/"+i+".state";_.cesWriteFile("/states",r,n,function(){p=!0,e(!0)})})},this.PauseGame=function(){_&&!c&&(a.GiveEmulatorControlOfInput(!1),f&&(e.Mute("screenshotWritten"),e.Mute("stateWritten"),e.Publish("notification",["Saving Paused",1,!0,!1])),e.Mute("notification"),_.pauseMainLoop(),c=!0)},this.ResumeGame=function(){_&&c&&(a.GiveEmulatorControlOfInput(!0),_.resumeMainLoop(),c=!1,e.Unmute("notification"),f&&(e.Unmute("screenshotWritten"),e.Unmute("stateWritten"),e.Publish("notification",["Saving Game Progress...",1,!0,!0])))},this.Show=function(t,e){t=t||1e3,$(r.wrapper).fadeIn(1e3,function(){a.GiveEmulatorControlOfInput(!0),w(),g=Date.now(),e&&e()})},this.Hide=function(t,e){t=t||500,a.GiveEmulatorControlOfInput(!1),$(r.wrapper).fadeOut(500,function(){e&&e()})},this.CleanUp=function(t){if($(document).unbind("fullscreenchange"),$(document).unbind("mozfullscreenchange"),$(document).unbind("webkitfullscreenchange"),$(document).unbind("MSFullscreenChange"),$(document).unbind("pointerlockchange"),$(document).unbind("mozpointerlockchange"),$(document).unbind("webkitpointerlockchange"),$(document).unbind("mspointerlockchange"),e.Unsubscribe("saveready"),e.Unsubscribe("screenshotWritten"),e.Unsubscribe("stateWritten"),v=null,i.DeregisterComponent("s"),_){a.GiveEmulatorControlOfInput(!1);try{_.cesExit()}catch(t){}_.RA&&_.RA.context&&_.RA.context.close&&_.RA.context.close().then(function(){}),_=null,y&&(y=null),a._InputHelper&&(a._InputHelper=null),$(r.canvas).remove()}t()},this.GiveEmulatorControlOfInput=function(t){a._InputHelper.GiveEmulatorControlOfInput(t),_&&_.GiveEmulatorControlOfInput(t)},this.OnEmulatorFileWrite=function(t,n){var i=t.match(/\.state(\d*)$/),r=t.match(/\.bmp$|\.png$/);if(i)return void e.Publish("stateWritten",[t,n]);if(r){var s=new Uint8Array(n);return void e.Publish("screenshotWritten",[t,n,s,o.system,o.title])}return"retroarch.cfg"===t?void e.Publish("retroArchConfigWritten",[n]):void 0},this.OnEmulatorFileRead=function(t,n){if(t.match(/\.state(\d*)$/))return e.Publish("stateRead",[t,n]),void b()},this.OnInputIdle=function(){S()},this.InitializeSavesManager=function(e,o,r){v=new cesSavesManager(n,t,i,o,e),i.RegisterComponent("s",v.Sync)},this.GetMostRecentSaves=function(t){return v.GetMostRecentSaves(t)},this.MaximumSavesCheck=function(){return v.MaximumSavesCheck()};var w=function(){a._InputHelper.RegisterKeydownOperationHandler("statesave",function(t,e,n){if(f||d)return void e(!1);saveType="user",n&&n.length&&n[0]&&(saveType=n[0]),E(saveType,e)}),a._InputHelper.RegisterKeydownOperationHandler("screenshot",function(t,n,i){f||e.Publish("notification",["Saving Game Screenshot",3,!0,!0,"screenshotWritten"]),n(!0)}),a._InputHelper.RegisterKeydownOperationHandler("loadstate",function(t,n,i){if(d||f)return void n(!1);p?(d=!0,e.Publish("notification",["Loading Previous Saved Game Progress...",3,!0,!0]),n(!0)):(e.Publish("notification",["No Saved Game Progress to Load",3,!1,!1]),n(!1))}),a._InputHelper.RegisterKeydownOperationHandler("mute",function(t,n,i){h=!h,e.Publish("notification",[h?"Game Audio Muted":"Game Audio Unmuted"]),n(!0)}),a._InputHelper.RegisterKeydownOperationHandler("pause",function(t,n,i){l=!l,l?(a._InputHelper.CancelIdleTimeout(),e.Publish("notification",["Game Paused",3,!0,!1,"emulatorunpause"])):e.Publish("emulatorunpause"),n(!0)}),a._InputHelper.RegisterKeydownOperationHandler("reset",function(t,n,i){e.Publish("notification",["Game Reset",3,!1,!1]),n(!0)});var t=function(t,n,i){a._InputHelper.RegisterKeydownOperationHandler(t,function(t,o,r){e.Publish("notification",[n,3,!0,!0,i]),e.Mute("notification"),o(!0)}),a._InputHelper.RegisterKeyupOperationHandler(t,function(t,n,o){e.Unmute("notification"),e.Publish(i),n(!0)})};t("reverse","Rewinding","emulatorreverse"),t("slowmotion","Slow Motion Active","emulatorslowmotion"),t("fastforward","Fast Forwarding","emulatorfastforward")},b=function(){d&&(e.Publish("notification",["Load Complete",1,!1,!1]),d=!1)},S=function(){a._InputHelper&&a._InputHelper.Keypress("statesave",null,["auto"])},E=function(t,n){if(f)return void n(!1);f=!0,"user"===t?e.Publish("notification",["Saving Game Progress...",3,!0,!0]):"auto"===t&&e.Publish("notification",["Auto Saving Game Progress...",3,!0,!0]);var i=e.SubscribeOnce("screenshotWritten",a,function(i,r,s,u,c){if(clearTimeout(o),s){var l=e.SubscribeOnce("stateWritten",a,function(n,i){clearTimeout(h),i&&s&&e.Publish("saveready",[t,s,i]),f=!1,p=!0},!0),h=setTimeout(function(){l(),f=!1},3e4);n(!0)}else n(!1)},!0),o=setTimeout(function(){i(),f=!1},2e3);a._InputHelper.Keypress("screenshot")},I=function(t,n,i){v.AddSave(t,n,i,function(){e.Publish("notification",["Save Complete",1,!1,!1])})},k=function(t,e,n,i){if(t[0])return void console.error(t[0]);_=t[1],y=t[2];var o=e&&e[1]?e[1]:null,r=(n[0],n[1]),s=i&&i[1]?i[1]:null;_.BuildLocalFileSystem(r,o,s)},x=function(t,i,o,r,a){var u=n.emupath+"/"+n.systemdetails[i].emuextention+"/"+n.systemdetails[i].emuscript,c=function(t){$.globalEval(t);var e=new cesRetroArchEmulator(o);console.log("emulator done"),setTimeout(function(){a.resolve(null,o,e)},2e3)};if(s.hasOwnProperty(m))return void c(s[m]);F(u,function(e){t.Update("emulator",e)},function(e,n,i){t.Update("emulator",r),s[m]=e,c(e)},function(t,n,i){e.Publish("error",["Emulator Retrieval Error:",t.status])})},C=function(t,i,o,r){if(0===o)return void r.resolve();var s=n.emusupportfilespath+"/"+n.systemdetails[i].emuextention+"/"+i;F(s,function(e){t.Update("support",e)},function(t,n,i){try{t=JSON.parse(t)}catch(t){return void e.Publish("error",["Support Files Parse Error:",t])}r.resolve(null,t)},function(t,n,i){e.Publish("error",["Support Files Retrieval Error:",t.status])})},O=function(i,r,s){var a=t.Zip.string(o.title+o.file),u=n.rompath+"/"+o.system+"/"+n.systemdetails[o.system].romcdnversion+"/";u+=encodeURIComponent(encodeURIComponent(a)),F(u,function(t){i.Update("game",t)},function(t,n,o){i.Update("game",r);try{t=JSON.parse(t)}catch(t){return void e.Publish("error",["Game Parse Error:",t])}console.log("game done"),s.resolve(null,t)},function(t,n,i){e.Publish("error",["Game Retrieval Error:",t.status])})
},T=function(t,i,o,r){if(""===i||0===o)return void r.resolve();var s=n.shaderpath+"/"+i;F(s,function(e){t.Update("shader",e)},function(t,n,i){try{t=JSON.parse(t)}catch(t){return void e.Publish("error",["Shader Parse Error:",t])}r.resolve(null,t)},function(t,n,i){e.Publish("error",["Shader Retrieval Error:",t.status])})},F=function(t,e,n,i){$.ajax({url:t,type:"GET",crossDomain:!0,dataType:"text",cache:!1,xhr:function(){var t=new window.XMLHttpRequest;return t.upload.addEventListener("progress",function(t){t.loaded&&e(t.loaded)},!1),t.addEventListener("progress",function(t){t.loaded&&e(t.loaded)},!1),t},success:n,error:i})};return this},cesEmulatorMessages=function(){return this},cesGameLink=function(t,e,n,i,o,r,s,a){var u,c,l;this.GetDOM=function(){return u},this.DisableAllEvents=function(){$(u).find("*").off()};!function(){var h=this,f=$('<div class="gamelink"></div>'),d=cesGetBoxFront(t,e.system,e.title,n,r);d.load(function(){$(this).removeClass("close").on("mousedown",function(){preventGamePause=!0}).on("mouseup",function(){o&&o(e)})});var p=$('<div class="box zoom close"></div>');p.addClass("close"),i&&(p.addClass("tooltip"),p.attr("title",e.title)),p.append(d),d.error(function(t){$(this).parent().append('<div class="boxlabel boxlabel-'+e.system+'"><p>'+e.title+"</p></div>")}),f.append(p),s&&h.AssignRemove(s,a),u=f,c=p,l=d}();return this},cesInputHelper=function(t,e){var n=this,i={},o={},r={},s={},a={},u={},c=null,l=1e4,h=null,f=!1,d={statesave:49,loadstate:52,mute:77,screenshot:84,pause:80,reverse:82,slowmotion:69,fastforward:32,reset:72},p={9:"tab",13:"enter",16:"shift",18:"alt",27:"esc",33:"rePag",34:"avPag",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12"};this.OverrideEmulatorKeydownHandler=function(t){if(!t.hasOwnProperty("target"))return t;var e=t.target;return e in o?o[e]:(i[e]=t.handlerFunc,t.handlerFunc=function(t,n){g(t,function(n){n&&i[e](t)},n)},o[e]=t,t)},this.DisableAutoSave=function(t){n.CancelIdleTimeout(),f=t},this.SetIdleTimeoutDuration=function(t){l=t},this.CancelIdleTimeout=function(){c&&clearTimeout(c)},this.OverrideEmulatorKeyupHandler=function(t){if(!t.hasOwnProperty("target"))return t;var e=t.target;return e in s?s[e]:(r[e]=t.handlerFunc,t.handlerFunc=function(t,n){y(t,function(n){n&&r[e](t)},n)},s[e]=t,t)},this.RegisterKeydownOperationHandler=function(t,e){if(d.hasOwnProperty(t)){var n=d[t];a[n]=e}},this.RegisterKeyupOperationHandler=function(t,e){if(d.hasOwnProperty(t)){var n=d[t];u[n]=e}},this.UnregisterKeydownHandler=function(t){if(d.hasOwnProperty(t)){var e=d[t];delete a[e]}},this.UnregisterKeyupHandler=function(t){if(d.hasOwnProperty(t)){var e=d[t];delete u[e]}},this.Keypress=function(t,e,n){if(d.hasOwnProperty(t)&&!$.isEmptyObject(i)){var o=d[t];_(o,e,n)}},this.GiveEmulatorControlOfInput=function(t){if(t){var e=function(t){p[t.which]&&t.preventDefault()};$(window).on("keydown",e)}else n.CancelIdleTimeout(),$(window).off("keydown")};var g=function(t,e,n){var i=t.keyCode;i in a?a[i](t,function(t){e(t),t&&(h=i,m())},n):(e(!0),h=i,m())},m=function(){f||(n.CancelIdleTimeout(),c=setTimeout(function(){var e=!1;for(var n in d)if(h==d[n]){e=!0;break}e||t.OnInputIdle()},l))},y=function(t,e,n){var i=t.keyCode;i in u?u[i](t,function(t){e(t)},n):e(!0)},_=function(t,e,n,i){if($.isEmptyObject(o)||$.isEmptyObject(s))return void e();i=i||100;var r=o[Object.keys(o)[0]].handlerFunc,a=s[Object.keys(s)[0]].handlerFunc,u=v(t,"keydown"),c=v(t,"keyup");setTimeout(function(){a(c,n),e&&e()},i),r(u,n)},v=function(t,e){var n=document.createEvent("KeyboardEvent");return Object.defineProperty(n,"keyCode",{get:function(){return this.keyCodeVal}}),Object.defineProperty(n,"which",{get:function(){return this.keyCodeVal}}),n.initKeyboardEvent?n.initKeyboardEvent(e,!0,!0,document.defaultView,!1,!1,!1,!1,t,t):n.initKeyEvent(e,!0,!0,document.defaultView,!1,!1,!1,!1,t,0),n.keyCodeVal=t,n.keyCode,n};return this},cesMain=function(){var t=this,e={},n=["Back out of that mistake you made by holding the R key to rewind the game","Press the Space key to fast forward through those story scenes","If your browser supports it, you can go fullscreen by pressing the F key","We'll store all of your saves as long as you return within two weeks","Pause your game with the P key","Select a system from the dropdown to generate a new list of suggested games","To search for more obsurace or forgeign titles, select a system from the dropdown first","Take a screenshot with the T key. Missed that moment? Rewind with R and capture again!","Screenshots are deleted when you leave or refresh the page. Download your favorites to keep them"],i=!1,o=!1,r=!1,s=null,a=null,u=null,c=null,l=null,h=null,f=null,d=null,p=null,g=null,m=null,y=null,_=null,v={};this._macroToShaderMenu=[[112,100],40,40,40,88,88,40,40,40,37,37,37,38,88,88,90,90,38,38,38,112],$(document).ready(function(){a=new cesCompression,u=new cesPubSub,f=new cesDialogs($("#dialogs"),{welcomefirst:$("#welcomemessage"),welcomeback:$("#welcomeback"),shaderselector:$("#systemshaderseletor"),savedgameselector:$("#savedgameselector"),gameloading:$("#gameloading"),emulatorexception:$("#emulatorexception"),saveloading:$("#saveloading"),emulatorcleanup:$("#emulatorcleanup")}),_=new cesTooltips(e,".tooltip",".tooltip-content"),m=new cesProgressBar(loadingprogressbar),y=new cesNotifications(e,a,u,$("#notificationwrapper"));var n=a.Out.json(c20);e=n.config,s=new cesSync(e,a),c=new cesPreferences(a,n.components.p),s.RegisterComponent("p",c.Sync),d=new cesCollections(e,a,s,_,b,$("#openCollectionGrid"),$("#collectionsGrid"),$("#collectionTitle"),n.components.c,null),s.RegisterComponent("c",d.Sync),$.isEmptyObject(c.playHistory)?f.ShowDialog("welcomefirst",200):f.ShowDialog("welcomeback",200);var i=[];for(var o in e.systemdetails)e.systemdetails[o].id=o,i.push(e.systemdetails[o]);i.sort(function(t,e){return t.shortname>e.shortname?1:t.shortname<e.shortname?-1:0});for(var h=i.length,g=0;g<h;g++)$("#search select").append('<option value="'+i[g].id+'">'+i[g].shortname+"</option>");$(".dial").knob(),$("#search select").selectOrDie({customID:"selectordie",customClass:"tooltip",onChange:function(){var t=$(this).val();if("all"===t||e.systemdetails[t].cannedSuggestion)p.Load(t,!0,function(){_.Any()},!0);else{var n={systems:{},count:100};n.systems[t]={proportion:100,set:"all"===t?0:1},p.Load(n,!0,function(){_.Any()})}"all"===t?$("#alphabar").hide():$("#alphabar").show()}}),$("#search input").autoComplete({minChars:3,cache:!1,delay:300,source:function(t,e){var n=$("#search select").val();$.getJSON("/search/"+n+"/"+t,function(t){e(a.Out.json(t))})},renderItem:function(t,n){var i=a.Decompress.gamekey(t[0]),o=$('<div class="autocomplete-suggestion" data-gk="'+i.gk+'" data-searchscore="'+t[1]+'"></div>');return o.append(cesGetBoxFront(e,i.system,i.title,50)),o.append("<div>"+i.title+"</div>"),$("<div/>").append(o).html()},onSelect:function(t,e,n){var i=a.Decompress.gamekey(n.data("gk"));b(i)}}),$("#emulatorwrapperoverlay").on("click",function(){$("#emulator").focus()}).hover(function(t){t.stopPropagation()},function(t){t.stopPropagation()}),$(window).scroll(function(){if($(window).scrollTop){if($(window).scrollTop()+$(window).height()==$(document).height()){if(r)return;r=!0,p.LoadMore(function(){r=!1,_.Any()})}}}),$("#suggestionswrapper a").each(function(t,e){$(e).on("click",function(t){var n=$("#search select").val(),i=$(e).text();p.Load("/suggest/browse/"+n+"?term="+i,!1,function(){_.Any()})})}),l=new cesSliders,p=new cesSuggestions(e,a,b,$("#suggestionsgrid")),p.Load("all",!0,function(){_.Any()},!0),u.Subscribe("error",t,function(t,e){I(t,e)}),u.Subscribe("notification",t,function(t,e,n,i,o){y.Enqueue(t,e,n,i,o)})});var w=function(t){h?h.Hide(null,function(){F(),h.CleanUp(function(){h=null,t&&t()})}):t&&t()},b=function(t,e,n,r){i||(i=!0,o=!1,window.scrollTo(0,0),w(function(){$("#emulatorcanvas").empty(),f.CloseDialog(null,function(){y.Reset(),$("#emulatorcanvas").append('<canvas tabindex="0" id="emulator" oncontextmenu="event.preventDefault()"></canvas>'),S(t,e,n,function(){i=!1,r&&r()})})}))},S=function(n,r,s,a){var c=cesGetBoxFront(e,n.system,n.title,170);d.SetCurrentGameLoading(n),k(n,function(r,l){if(r)return void console.error(r);h=l;var p=$.Deferred(),y=$.Deferred();i=!1,x(n.system,s,function(r){i=!0;var s=Date.now();m.Reset(),O(n.system,n.title,c,function(c){var l={shader:r.shader};A(n,l,y),$.when(y).done(function(l){var y=l.saves,_=(l.files,l.shaderFileSize),v=e.systemdetails[n.system].supportfilesize,w={};try{w=JSON.parse(l.info)}catch(t){}var b=l.size;h.Load(h.createModule(),m,b,r.shader,_,v,p),$.when(p).done(function(r){if(h.InitializeSavesManager(y,n),w&&w.Publisher&&w.ReleaseDate){var l=w.ReleaseDate.match(/(\d{4})/);$("#gametitlecaption").text(w.Publisher+", "+l[0])}i=!1,g=new cesSaveSelection(e,f,h,n.system,$("#savedgameselector"),function(e,r,l){r&&C(n.system,l),i=!0;var p=Math.floor(Date.now()-s),g=p>6e3?0:6e3-p;setTimeout(function(){h.WriteSaveData(r,function(e){h.BeginGame(function(t){clearInterval(c),u.Publish("error",["There was an error with the emulator:",t])}),u.SubscribeOnce("emulatorsetwindowtitle",t,function(){E(n.system,e,function(){f.CloseDialog(!1,function(){$("#tips").stop().hide(),clearInterval(c),T(n,function(){}),f.SetHeight($("#emulatorwrapper").outerHeight(),function(){$("#emulator").blur(function(t){o||(h.PauseGame(),$("#emulatorwrapperoverlay").fadeIn())}).focus(function(){window.scrollTo(0,0),h.ResumeGame(),$("#emulatorwrapperoverlay").hide()}),h.Show(),$("#emulator").focus(),d.RemoveCurrentGameLoading(),a&&a()})})})},!0)})},g)})})})})})})},E=function(e,n,i){if(!n)return void i();var o=Date.now();u.SubscribeOnce("stateRead",t,function(){Math.floor(Date.now()-o);h._InputHelper.Keypress("pause",function(){setTimeout(function(){i(),h._InputHelper.Keypress("mute",function(){h._InputHelper.Keypress("pause",function(){u.Unmute("notification")})})},3e3)})},!0),u.Mute("notification"),h._InputHelper.Keypress("mute",function(){h._InputHelper.Keypress("loadstate")})},I=function(t,e){w(function(){i=!1,$("#emulatorexceptiondetails").text(t+"\r\n"+e),console.error(e),f.ShowDialog("emulatorexception")})},k=function(t,n){var i=e.systemdetails[t.system].emuextention,o="ces."+i+".js";$.getScript(e.emuextentionspath+"/"+o).done(function(i,o){var r={wrapper:$("#emulatorwrapper"),canvas:$("#emulator")};cesEmulator.prototype=new cesEmulatorBase(a,u,e,s,t,r,v);var c=new cesEmulator(a,u,e,s,t);n(null,c)}).fail(function(t,e,i){n(i)})},x=function(t,n,i){if($("#systemshaderseletor span").text(e.systemdetails[t].shortname),$("#shaderselectlist").empty(),void 0!==n)return void i({shader:n});var o=c.GetShader(t);if(o||""==o)return void i({shader:o});var r=e.systemdetails[t].recommendedshaders,s=(e.shaders,0);for($("#shaderselectlist").append($('<li class="zoom" data-shader=""><h3>No Processing</h3><img class="tada" src="'+e.assetpath+"/images/shaders/"+t+'/pixels.png" /></li>').on("click",function(t){u($(this).attr("data-shader"))})),s;s<r.length;++s){var a=r[s];$("#shaderselectlist").append($('<li class="zoom" data-shader="'+a.shader+'"><h3>'+a.title+'</h3><img src="'+e.assetpath+"/images/shaders/"+t+"/"+s+'.png" /></li>').on("click",function(t){u($(this).attr("data-shader"))}))}var u=function(e){$("#systemshaderseletorwrapper").addClass("close");$("#shaderselectcheckbox").is(":checked")&&(!0,c.SetShader(t,e)),setTimeout(function(){$("#systemshaderseletorwrapper").hide(),i({shader:e})},250)};f.ShowDialog("shaderselector")},C=function(t,n){var i=$(BuildScreenshot(e,t,n,null,200));i.addClass("tada"),i.load(function(){$(this).fadeIn(200)}),$("#saveloadingimage").empty().addClass("centered").append(i),f.ShowDialog("saveloading")},O=function(t,i,o,r){$("#tip").hide(),$("#gameloadingname").show().text(i);var s=cesGetBoxFront(e,t,i,170)||o;s.addClass("tada"),s.load(function(){$(this).fadeIn(200)}),$("#gameloadingimage").empty().addClass("centered").append(s);var a=shuffle(n),u=-1,c=setInterval(function(){$("#gameloadingname").fadeOut(500),$("#tip").fadeOut(500,function(){++u>=a.length&&(u=0);var t=a[u];$("#gameloading").is(":animated")||$("#tip").empty().append("Tip: "+t).fadeIn(500)})},3e3);f.ShowDialog("gameloading",null,function(){r(c)})},T=function(t,n){var i=cesGetBoxFront(e,t.system,t.title,170),o=document.createElement("img");o.addEventListener("load",function(){$("#gamedetailsboxfront").empty().append(i),$("#gametitle").empty().hide().append(t.title),$("#gamedetailsboxfront img").addClass("close"),$("#gamedetailsbackground").animate({height:250},1e3,function(){$("#gamedetailswrapper").fadeIn(1e3,function(){$("#gamedetailsboxfront img").removeClass(),$("#controlsslider").empty(),$.get("/layout/controls/"+t.system,function(t){$("#controlsslider").append(t)}),n()}),$("#gametitle").bigText({textAlign:"left",horizontalAlign:"left"})})},!0),i.load(function(){o.setAttribute("src",i.attr("src"))})},F=function(t){$("#gamedetailsboxfront img").addClass("close"),$("#gamedetailswrapper").fadeOut(),$("#gamedetailsbackground").animate({height:0},1e3,function(){t&&t()})},A=function(t,e,n){var i="/games/load?gk="+encodeURIComponent(t.gk)+"&ts="+(new Date).getTime();s.Post(i,e,function(t){n.resolve(t)})};return this}();$.fn.animateRotate=function(t,e,n,i,o){var r=$.speed(n,i,o),s=r.step;return this.each(function(n,i){r.complete=$.proxy(r.complete,i),r.step=function(t){if($.style(i,"transform","rotate("+t+"deg)"),s)return s.apply(i,arguments)},$({deg:t}).animate({deg:e},r)})},cesGetBoxFront=function(t,e,n,i,o){var r=new cesCompression;n=encodeURIComponent(encodeURIComponent(r.Zip.string(n)));var s=t.assetpath+"/images/blanks/"+e+"_"+i+".png",a=t.boxpath+"/"+e+"/"+t.systemdetails[e].boxcdnversion+"/"+n+"/"+i+".jpg",u=document.createElement("img");return u.src=a,u.addEventListener("error",function(){this.addEventListener("load",function(){this.height&&this.setAttribute("height",this.height+"px"),o&&o()}),this.src=s}),r=null,$(u)};var BuildScreenshot=function(t,e,n,i,o){var r,s=1,a=new Blob([n],{type:"image/bmp"});t.systemdetails[e]&&t.systemdetails[e].screenshotaspectratio&&(s=parseFloat(t.systemdetails[e].screenshotaspectratio));var u=window.URL||window.webkitURL,c=u.createObjectURL(a);return i&&(r=new Image(i,i/s)),o&&(r=new Image(o*s,o)),r.src=c,r},shuffle=function(t){for(var e,n,i=t.length;i;e=Math.floor(Math.random()*i),n=t[--i],t[i]=t[e],t[e]=n);return t},cesNotifications=function(t,e,n,i){var o=this,r=i.find("p"),s=i.find("div.spinner"),a=[],u=null,c=null,l=null,h=function(t,e,n,i,o){this.message=t||"",this.priority=e||3,this.hold=n||!1,this.icon=i||!1,this.topic=o||null,this.timeAdded=Date.now()};return this.Enqueue=function(t,e,i,r,s){var u=new h(t,e,i,r,s);switch(u.priority){case 3:a.push(u);break;case 2:a.unshift(u);break;case 1:o.Reset(),a.push(u)}s&&n.SubscribeOnce(s,o,function(){u.hold=!1,c===u&&o.Hide()}),c||this.ShowNext()},this.ShowNext=function(){if(a.length>0){c=a.shift();var t=(Date.now()-c.timeAdded)/1e3,e=c.message;if(t>10){var n=Math.floor(t);e+="("+n+" second"+(n>1?"s":"")+" ago)"}r.text(e),i.removeClass("closed"),c.icon?s.show():s.hide(),c.hold||(u=setTimeout(function(){o.Hide()},1500)),l=Date.now()}},this.Hide=function(){if(l&&c){var t=Date.now()-l;l=null;var e=function(){i.addClass("closed"),setTimeout(function(){c=!1,o.ShowNext()},500)};t<1500?u=setTimeout(function(){e()},1500-t):e()}},this.Reset=function(){a=[],i.addClass("closed"),l=null,c=null,u&&clearTimeout(u),u=null},this},cesPreferences=function(t,e){var n=this,i={};this.GetShader=function(t){var e=o("systems."+t+".shader");return null!=e&&void 0!==e?e:null},this.SetShader=function(t,e){return r("systems."+t+".shader",e),i};var o=function(t,e){return t.split(".").reduce(function(t,e){return void 0===t||null===t?t:t[e]},i)},r=function(t,e){for(var o=t.split("."),r=i,a=0,u=o.length;a<u;++a){var c={};a==u-1&&(c=e),r.hasOwnProperty(o[a])?"object"!=typeof r[o[a]]&&(r[o[a]]=c):r[o[a]]=c,r=r[o[a]]}n.Sync.ready=!0,s()},s=function(){localStorage.setItem("preferences",t.Compress.json(i))},a=function(){var e;try{e=localStorage.getItem("preferences"),e=t.Decompress.json(e)}catch(t){}return e};this.Sync=new function(){var t=this;return this.ready=!1,this.Incoming=function(t){i=t,s()},this.Outgoing=function(){return t.ready=!1,i},this};!function(){if(1===e.validated)return void n.Sync.Incoming(e);var t=a();t?n.Sync.Incoming(t):(e.validated=1,n.Sync.Incoming(e)),n.Sync.ready=!0}();return this},cesProgressBar=function(t){var e=null,n=0,i={};this.AddBucket=function(t,e){i[t]={progress:0,total:e}},this.Update=function(t,e){i.hasOwnProperty(t)&&(i[t].progress=e,o())},this.Reset=function(){i={},e.set(0),n=0},$(document).ready(function(){e=new ProgressBar.Line(t,{strokeWidth:4,easing:"easeInOut",duration:100,color:"#00B7FF",trailColor:"#eee",trailWidth:1,svgStyle:{width:"100%",height:"100%"}})});var o=function(){var t=0,o=0;for(var r in i)t+=i[r].total,o+=i[r].progress;var s=o/t;e.animate(s),n=s};return this},cesPubSub=function(){var t=this,e={},n={};this.Publish=function(t,n){if(e.hasOwnProperty(t)){console.log("PUBLISH: "+t,n);var i=[];e[t].forEach(function(t,e){t.handler.apply(t.context,n),t.countdown&&0===--t.countdown&&i.push(e)}),i.forEach(function(n){delete e[t][n]})}},this.Subscribe=function(t,e,n){return i(t,e,n)},this.SubscribeOnce=function(e,n,o,r){return r&&t.Unsubscribe(e),i(e,n,o,1)},this.Unsubscribe=function(t){e.hasOwnProperty(t)&&delete e[t]},this.Mute=function(t){e.hasOwnProperty(t)&&(n[t]=e[t],delete e[t])},this.Unmute=function(t){n.hasOwnProperty(t)&&(e[t]=n[t],delete n[t])};var i=function(t,n,i,o){e.hasOwnProperty(t)||(e[t]=[]);var r=e[t].push({handler:i,context:n,countdown:o});return function(){e.hasOwnProperty(t)&&e[t].hasOwnProperty(r)&&delete e[t][r]}};return this.Pub=this.Publish,this.Sub=this.Subscribe,this},cesSaveSelection=function(t,e,n,i,o,r){o.find(".grid");if($.isEmptyObject(n.GetMostRecentSaves(1)))return void r("There are no recent saves to display");$("#savesselectlist").empty();var s=function(e,n,o,s){var a=$(BuildScreenshot(t,i,n.save.screenshot,200)),u=$('<li class="zoom" data-shader=""><h3>#'+(n.total-n.i)+" of "+n.total+": "+n.save.time+"</h3></li>").on("click",function(t){r(null,e,n.save.screenshot)}),c=$('<div class="ribbon-'+o+' ribbon" />').text(s),l=$('<div class="ribbon-wrapper" />').append(c),h=$('<div class="rel" />').append(l).append(a);u.append(h),$("#savesselectlist").append(u)};switch($("#loadnosaves").off().on("mouseup",function(){r("User chose not to load a save"),e.CloseDialog()}),function(t){var e=n.GetMostRecentSaves(3,t);for(timestamp in e)switch(e[timestamp].save.type){case"user":s(timestamp,e[timestamp],"green","YOUR SAVE");break;case"auto":s(timestamp,e[timestamp],"orange","AUTO-SAVED")}}(),n.MaximumSavesCheck()){case"max":o.find("p.max").removeClass();break;case"near":o.find("p.near").removeClass()}return e.ShowDialog("savedgameselector"),this},ShowSaveSelection=function(t,e,n,i){if(!_Emulator)return void i();var o=_Emulator.GetMostRecentSaves(3);if($.isEmptyObject(o))return void i();$("#savesselectlist").empty();var r=function(e,n,o,r){var s=$(BuildScreenshot(t,n.screenshot,200)),a=$('<li class="zoom" data-shader=""><h3>'+n.time+"</h3></li>").on("click",function(o){i(e),ShowSaveLoading(t,n.screenshot)}),u=$('<div class="ribbon-'+o+' ribbon" />').text(r),c=$('<div class="ribbon-wrapper" />').append(u),l=$('<div class="rel" />').append(c).append(s);a.append(l),$("#savesselectlist").append(a)};for(timestamp in o)switch(o[timestamp].type){case"user":r(timestamp,o[timestamp],"green","YOUR SAVE");break;case"auto":r(timestamp,o[timestamp],"orange","AUTO-SAVED")}$("#loadnosaves").off().on("mouseup",function(){i(null),_Dialogs.CloseDialog()}),_Dialogs.ShowDialog("savedgameselector")},cesSavesManager=function(t,e,n,i,o){var r=this,s={},a=[];this.AddSave=function(t,e,n,i){c(t,e,n,function(o){o.hasOwnProperty("data")&&o.hasOwnProperty("pruned")&&(o.pruned&&delete s[parseInt(o.pruned,10)],u(t,o.data.timestamp,e,n)),i&&i()})},this.GetMostRecentSaves=function(t,e){result={};for(var n=0,i=a.length;n<i&&n<t;++n)e&&e!=s[a[n]].type||(result[a[n]]={save:s[a[n]],i:n,total:i});return result},this.MaximumSavesCheck=function(){return a.length>=t.maxSavesPerGame?"max":a.length>=t.maxSavesPerGame-.2*t.maxSavesPerGame?"near":null},this.GetState=function(t,n){return s.hasOwnProperty(t)?s[t].state?void n(null,s[t].state):void $.ajax({url:"/saves?gk="+i.gk+"&ts="+t,contentType:"text/plain",type:"GET"}).done(function(i){if(i.error)return void n(i.error);if(n&&i.state){var o=e.Unzip.bytearray(i.state);s[t].state=o,n(null,o)}}):void n("The property "+t+" does not exist in client-stored save data")};var u=function(t,e,n,i){e=parseInt(e,10);var o=$.format.date(e,"MMM D h:mm:ss a");s[e]={screenshot:n,state:i,time:o,timestamp:e,type:t},a.push(e),a.sort(function(t,e){return e-t})},c=function(t,o,r,s){var a=e.Zip.bytearray(o),u=e.Zip.bytearray(r),c="/saves?gk="+encodeURIComponent(i.gk),l={state:u,screenshot:a,type:t,timestamp:Date.now()};n.Post(c,l,function(t){s(t)})};this.Sync=new function(){var t=this;return this.ready=!1,this.Incoming=function(t){for(var n=0,i=t.length;n<i;++n){var o=t[n];if(o.type&&o.screenshot&&o.timestamp){var r=e.Unzip.bytearray(o.screenshot);u(o.type,o.timestamp,r,null)}}},this.Outgoing=function(){t.reday=!1},this};!function(){r.Sync.Incoming(o)}()},cesSliders=function(){return this},cesSuggestions=function(t,e,n,i){var o=null,r=null,s=[],a=!1,u=!1;this.Load=function(t,e,n,i){i=1==i,u=1==e,a||(r={recipe:t,canned:i},a=!0,l(),c(t,function(t,e){h(e,function(){a=!1,n&&n()})},i))},this.LoadMore=function(t){r&&!a&&u&&c(r.recipe,function(e,n){h(n,function(){a=!1,t&&t()})},r.canned)};var c=function(t,n,i){if(i=1==i)$.get("/suggest?rp="+t,function(t){t=e.Out.json(t),n(null,t)});else{var o=e.Zip.json(t);$.post("/suggest",{recipe:o},function(t){t=e.Out.json(t),n(null,t)})}},l=function(){o.isotope("remove",o.children());for(var t=0,e=s.length;t<e;t++)s[t]=null;s=[]},h=function(i,r){for(var a,u=0;u<i.length;++u){var c=e.Decompress.gamekey(i[u].gk);a=new cesGameLink(t,c,120,!0,n);var l=$('<div class="grid-item" />');l.append(a.GetDOM()),o.isotope("insert",l[0])}o.find("img").imagesLoaded().progress(function(t,e){$(e.img).parent().removeClass("close"),o.isotope("layout")}).done(function(){r&&r()}),s.push(a)};!function(){o=i.isotope({itemSelector:".grid-item"})}();return this},cesSync=function(t,e){var n={};this.Post=function(t,o,r){o=o||{},o._c=o._c||{};var s={};for(var a in n)n[a].ready&&(s[a]=n[a].Outgoing());o._c=s,compressedBody=e.Compress.json(o),i(t,"POST",compressedBody,r)},this.Delete=function(t,e){i(t,"DELETE",null,e)},this.Get=function(t,e){i(t,"GET",null,e)};var i=function(t,i,o,r){var s={url:t,processData:!1,contentType:"text/plain",type:i};o&&(s.data=compressedBody,s.headers={sync:1}),$.ajax(s).done(function(t){var i=e.Decompress.json(t);if(i._c){for(var o in n)i._c[o]&&n[o].Incoming(i._c[o]);delete i._c}r(i)})};this.RegisterComponent=function(t,e){n[t]=e},this.DeregisterComponent=function(t){delete n[t]}},cesTooltips=function(t,e,n){this.Any=function(){$(e+":not(.tooltipstered)").tooltipster({theme:"tooltipster-shadow",animation:"grow",delay:[1200,0]})},this.SingleHTML=function(t,e){t.hasClass("tooltipstered")||t.tooltipster({theme:"tooltipster-shadow",animation:"grow",delay:[1200,200],interactive:!0,contentAsHTML:!0}),t.tooltipster("content",e)},this.Destory=function(t){t.find(".tooltipstered").tooltipster("destroy")};return this};!function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},i=n[t]=n[t]||[];return-1==i.indexOf(e)&&i.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=n.indexOf(e);return-1!=i&&n.splice(i,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=0,o=n[i];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var s=r&&r[o];s&&(this.off(t,o),delete r[o]),o.apply(this,e),i+=s?0:1,o=n[i]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(n){return e(t,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}(window,function(t,e){function n(t,e){for(var n in e)t[n]=e[n];return t}function i(t){var e=[];if(Array.isArray(t))e=t;else if("number"==typeof t.length)for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t);return e}function o(t,e,r){return this instanceof o?("string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=i(t),this.options=n({},this.options),"function"==typeof e?r=e:n(this.options,e),r&&this.on("always",r),this.getImages(),a&&(this.jqDeferred=new a.Deferred),void setTimeout(function(){this.check()}.bind(this))):new o(t,e,r)}function r(t){this.img=t}function s(t,e){this.url=t,this.element=e,this.img=new Image}var a=t.jQuery,u=t.console;o.prototype=Object.create(e.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&c[e]){for(var n=t.querySelectorAll("img"),i=0;i<n.length;i++){var o=n[i];this.addImage(o)}if("string"==typeof this.options.background){var r=t.querySelectorAll(this.options.background);for(i=0;i<r.length;i++){var s=r[i];this.addElementBackgroundImages(s)}}}};var c={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(e.backgroundImage);null!==i;){var o=i&&i[2];o&&this.addBackground(o,t),i=n.exec(e.backgroundImage)}},o.prototype.addImage=function(t){var e=new r(t);this.images.push(e)},o.prototype.addBackground=function(t,e){var n=new s(t,e);this.images.push(n)},o.prototype.check=function(){function t(t,n,i){setTimeout(function(){e.progress(t,n,i)})}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},o.prototype.progress=function(t,e,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&u&&u.log("progress: "+n,t,e)},o.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},r.prototype=Object.create(e.prototype),r.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},r.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(r.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},o.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&(a=e,a.fn.imagesLoaded=function(t,e){return new o(this,t,e).jqDeferred.promise(a(this))})},o.makeJQueryPlugin(),o}),function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(n){return e(t,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function n(n,r,a){function u(t,e,i){var o,r="$()."+n+'("'+e+'")';return t.each(function(t,u){var c=a.data(u,n);if(!c)return void s(n+" not initialized. Cannot call methods, i.e. "+r);var l=c[e];if(!l||"_"==e.charAt(0))return void s(r+" is not a valid method");var h=l.apply(c,i);o=void 0===o?h:o}),void 0!==o?o:t}function c(t,e){t.each(function(t,i){var o=a.data(i,n);o?(o.option(e),o._init()):(o=new r(i,e),a.data(i,n,o))})}(a=a||e||t.jQuery)&&(r.prototype.option||(r.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[n]=function(t){if("string"==typeof t){return u(this,t,o.call(arguments,1))}return c(this,t),this},i(a))}function i(t){!t||t&&t.bridget||(t.bridget=n)}var o=Array.prototype.slice,r=t.console,s=void 0===r?function(){}:function(t){r.error(t)};return i(e||t.jQuery),n}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},i=n[t]=n[t]||[];return-1==i.indexOf(e)&&i.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=n.indexOf(e);return-1!=i&&n.splice(i,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=0,o=n[i];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var s=r&&r[o];s&&(this.off(t,o),delete r[o]),o.apply(this,e),i+=s?0:1,o=n[i]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}function e(){}function n(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<c;e++){t[u[e]]=0}return t}function i(t){var e=getComputedStyle(t);return e||a("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function o(){if(!l){l=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(e);var o=i(e);r.isBoxSizeOuter=s=200==t(o.width),n.removeChild(e)}}function r(e){if(o(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var r=i(e);if("none"==r.display)return n();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var l=a.isBorderBox="border-box"==r.boxSizing,h=0;h<c;h++){
var f=u[h],d=r[f],p=parseFloat(d);a[f]=isNaN(p)?0:p}var g=a.paddingLeft+a.paddingRight,m=a.paddingTop+a.paddingBottom,y=a.marginLeft+a.marginRight,_=a.marginTop+a.marginBottom,v=a.borderLeftWidth+a.borderRightWidth,w=a.borderTopWidth+a.borderBottomWidth,b=l&&s,S=t(r.width);!1!==S&&(a.width=S+(b?0:g+v));var E=t(r.height);return!1!==E&&(a.height=E+(b?0:m+w)),a.innerWidth=a.width-(g+v),a.innerHeight=a.height-(m+w),a.outerWidth=a.width+y,a.outerHeight=a.height+_,a}}var s,a="undefined"==typeof console?e:function(t){console.error(t)},u=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],c=u.length,l=!1;return r}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0;n<e.length;n++){var i=e[n],o=i+"MatchesSelector";if(t[o])return o}}();return function(e,n){return e[t](n)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(n){return e(t,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var n={};n.extend=function(t,e){for(var n in e)t[n]=e[n];return t},n.modulo=function(t,e){return(t%e+e)%e},n.makeArray=function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"object"==typeof t&&"number"==typeof t.length)for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t);return e},n.removeFrom=function(t,e){var n=t.indexOf(e);-1!=n&&t.splice(n,1)},n.getParent=function(t,n){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,n))return t},n.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},n.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.filterFindElements=function(t,i){t=n.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!i)return void o.push(t);e(t,i)&&o.push(t);for(var n=t.querySelectorAll(i),r=0;r<n.length;r++)o.push(n[r])}}),o},n.debounceMethod=function(t,e,n){var i=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout(function(){i.apply(r,e),delete r[o]},n||100)}},n.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},n.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,n){return e+"-"+n}).toLowerCase()};var i=t.console;return n.htmlInit=function(e,o){n.docReady(function(){var r=n.toDashed(o),s="data-"+r,a=document.querySelectorAll("["+s+"]"),u=document.querySelectorAll(".js-"+r),c=n.makeArray(a).concat(n.makeArray(u)),l=s+"-options",h=t.jQuery;c.forEach(function(t){var n,r=t.getAttribute(s)||t.getAttribute(l);try{n=r&&JSON.parse(r)}catch(e){return void(i&&i.error("Error parsing "+s+" on "+t.className+": "+e))}var a=new e(t,n);h&&h.data(t,o,a)})})},n}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";function n(t){for(var e in t)return!1;return null,!0}function i(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var o=document.documentElement.style,r="string"==typeof o.transition?"transition":"WebkitTransition",s="string"==typeof o.transform?"transform":"WebkitTransform",a={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[r],u={transform:s,transition:r,transitionDuration:r+"Duration",transitionProperty:r+"Property",transitionDelay:r+"Delay"},c=i.prototype=Object.create(t.prototype);c.constructor=i,c._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},c.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},c.getSize=function(){this.size=e(this.element)},c.css=function(t){var e=this.element.style;for(var n in t){e[u[n]||n]=t[n]}},c.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),i=t[e?"left":"right"],o=t[n?"top":"bottom"],r=this.layout.size,s=-1!=i.indexOf("%")?parseFloat(i)/100*r.width:parseInt(i,10),a=-1!=o.indexOf("%")?parseFloat(o)/100*r.height:parseInt(o,10);s=isNaN(s)?0:s,a=isNaN(a)?0:a,s-=e?r.paddingLeft:r.paddingRight,a-=n?r.paddingTop:r.paddingBottom,this.position.x=s,this.position.y=a},c.layoutPosition=function(){var t=this.layout.size,e={},n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),o=n?"paddingLeft":"paddingRight",r=n?"left":"right",s=n?"right":"left",a=this.position.x+t[o];e[r]=this.getXValue(a),e[s]="";var u=i?"paddingTop":"paddingBottom",c=i?"top":"bottom",l=i?"bottom":"top",h=this.position.y+t[u];e[c]=this.getYValue(h),e[l]="",this.css(e),this.emitEvent("layout",[this])},c.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},c.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},c._transitionTo=function(t,e){this.getPosition();var n=this.position.x,i=this.position.y,o=parseInt(t,10),r=parseInt(e,10),s=o===this.position.x&&r===this.position.y;if(this.setPosition(t,e),s&&!this.isTransitioning)return void this.layoutPosition();var a=t-n,u=e-i,c={};c.transform=this.getTranslate(a,u),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},c.getTranslate=function(t,e){var n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop");return t=n?t:-t,e=i?e:-e,"translate3d("+t+"px, "+e+"px, 0)"},c.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},c.moveTo=c._transitionTo,c.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},c._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},c.transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var n in t.onTransitionEnd)e.onEnd[n]=t.onTransitionEnd[n];for(n in t.to)e.ingProperties[n]=!0,t.isCleaning&&(e.clean[n]=!0);if(t.from){this.css(t.from);this.element.offsetHeight;null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var l="opacity,"+function(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}(s);c.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:l,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(a,this,!1)}},c.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},c.onotransitionend=function(t){this.ontransitionend(t)};var h={"-webkit-transform":"transform"};c.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=h[t.propertyName]||t.propertyName;if(delete e.ingProperties[i],n(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd){e.onEnd[i].call(this),delete e.onEnd[i]}this.emitEvent("transitionEnd",[this])}},c.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(a,this,!1),this.isTransitioning=!1},c._removeStyles=function(t){var e={};for(var n in t)e[n]="";this.css(e)};var f={transitionProperty:"",transitionDuration:"",transitionDelay:""};return c.removeTransitionStyles=function(){this.css(f)},c.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},c.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},c.remove=function(){return r&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},c.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},c.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},c.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var n in e)return n},c.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},c.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},c.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},i}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(n,i,o,r){return e(t,n,i,o,r)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,n,i,o){"use strict";function r(t,e){var n=i.getQueryElement(t);if(!n)return void(u&&u.error("Bad element for "+this.constructor.namespace+": "+(n||t)));this.element=n,c&&(this.$element=c(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(e);var o=++h;this.element.outlayerGUID=o,f[o]=this,this._create(),this._getOption("initLayout")&&this.layout()}function s(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}function a(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),n=e&&e[1],i=e&&e[2];return n.length?(n=parseFloat(n))*(p[i]||1):0}var u=t.console,c=t.jQuery,l=function(){},h=0,f={};r.namespace="outlayer",r.Item=o,r.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var d=r.prototype;i.extend(d,e.prototype),d.option=function(t){i.extend(this.options,t)},d._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},r.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},d._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),i.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},d.reloadItems=function(){this.items=this._itemize(this.element.children)},d._itemize=function(t){for(var e=this._filterFindItemElements(t),n=this.constructor.Item,i=[],o=0;o<e.length;o++){var r=e[o],s=new n(r,this);i.push(s)}return i},d._filterFindItemElements=function(t){return i.filterFindElements(t,this.options.itemSelector)},d.getItemElements=function(){return this.items.map(function(t){return t.element})},d.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},d._init=d.layout,d._resetLayout=function(){this.getSize()},d.getSize=function(){this.size=n(this.element)},d._getMeasurement=function(t,e){var i,o=this.options[t];o?("string"==typeof o?i=this.element.querySelector(o):o instanceof HTMLElement&&(i=o),this[t]=i?n(i)[e]:o):this[t]=0},d.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},d._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},d._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var n=[];t.forEach(function(t){var i=this._getItemLayoutPosition(t);i.item=t,i.isInstant=e||t.isLayoutInstant,n.push(i)},this),this._processLayoutQueue(n)}},d._getItemLayoutPosition=function(){return{x:0,y:0}},d._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},d.updateStagger=function(){var t=this.options.stagger;return null===t||void 0===t?void(this.stagger=0):(this.stagger=a(t),this.stagger)},d._positionItem=function(t,e,n,i,o){i?t.goTo(e,n):(t.stagger(o*this.stagger),t.moveTo(e,n))},d._postLayout=function(){this.resizeContainer()},d.resizeContainer=function(){if(this._getOption("resizeContainer")){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},d._getContainerSize=l,d._setContainerMeasure=function(t,e){if(void 0!==t){var n=this.size;n.isBorderBox&&(t+=e?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},d._emitCompleteOnItems=function(t,e){function n(){o.dispatchEvent(t+"Complete",null,[e])}function i(){++s==r&&n()}var o=this,r=e.length;if(!e||!r)return void n();var s=0;e.forEach(function(e){e.once(t,i)})},d.dispatchEvent=function(t,e,n){var i=e?[e].concat(n):n;if(this.emitEvent(t,i),c)if(this.$element=this.$element||c(this.element),e){var o=c.Event(e);o.type=t,this.$element.trigger(o,n)}else this.$element.trigger(t,n)},d.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},d.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},d.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},d.unstamp=function(t){(t=this._find(t))&&t.forEach(function(t){i.removeFrom(this.stamps,t),this.unignore(t)},this)},d._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),t=i.makeArray(t)},d._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},d._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},d._manageStamp=l,d._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,o=n(t);return{left:e.left-i.left-o.marginLeft,top:e.top-i.top-o.marginTop,right:i.right-e.right-o.marginRight,bottom:i.bottom-e.bottom-o.marginBottom}},d.handleEvent=i.handleEvent,d.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},d.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},d.onresize=function(){this.resize()},i.debounceMethod(r,"onresize",100),d.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},d.needsResizeLayout=function(){var t=n(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},d.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},d.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},d.prepended=function(t){var e=this._itemize(t);if(e.length){var n=this.items.slice(0);this.items=e.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(n)}},d.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,n){t.stagger(n*e),t.reveal()})}},d.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,n){t.stagger(n*e),t.hide()})}},d.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},d.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},d.getItem=function(t){for(var e=0;e<this.items.length;e++){var n=this.items[e];if(n.element==t)return n}},d.getItems=function(t){t=i.makeArray(t);var e=[];return t.forEach(function(t){var n=this.getItem(t);n&&e.push(n)},this),e},d.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),i.removeFrom(this.items,t)},this)},d.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete f[e],delete this.element.outlayerGUID,c&&c.removeData(this.element,this.constructor.namespace)},r.data=function(t){t=i.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&f[e]},r.create=function(t,e){var n=s(r);return n.defaults=i.extend({},r.defaults),i.extend(n.defaults,e),n.compatOptions=i.extend({},r.compatOptions),n.namespace=t,n.data=r.data,n.Item=s(o),i.htmlInit(n,t),c&&c.bridget&&c.bridget(t,n),n};var p={ms:1,s:1e3};return r.Item=o,r}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window,function(t){"use strict";function e(){t.Item.apply(this,arguments)}var n=e.prototype=Object.create(t.Item.prototype),i=n._create;n._create=function(){this.id=this.layout.itemGUID++,i.call(this),this.sortData={}},n.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var n in t){var i=e[n];this.sortData[n]=i(this.element,this)}}};var o=n.destroy;return n.destroy=function(){o.apply(this,arguments),this.css({display:""})},e}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e):"object"==typeof module&&module.exports?module.exports=e(require("get-size"),require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window,function(t,e){"use strict";function n(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}var i=n.prototype;return["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"].forEach(function(t){i[t]=function(){return e.prototype[t].apply(this.isotope,arguments)}}),i.needsVerticalResizeLayout=function(){var e=t(this.isotope.element);return this.isotope.size&&e&&e.innerHeight!=this.isotope.size.innerHeight},i._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},i.getColumnWidth=function(){this.getSegmentSize("column","Width")},i.getRowHeight=function(){this.getSegmentSize("row","Height")},i.getSegmentSize=function(t,e){var n=t+e,i="outer"+e;if(this._getMeasurement(n,i),!this[n]){var o=this.getFirstItemSize();this[n]=o&&o[i]||this.isotope.size["inner"+e]}},i.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},i.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},i.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},n.modes={},n.create=function(t,e){function o(){n.apply(this,arguments)}return o.prototype=Object.create(i),o.prototype.constructor=o,e&&(o.options=e),o.prototype.namespace=t,n.modes[t]=o,o},n}),function(t,e){"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,e){var n=t.create("masonry");n.compatOptions.fitWidth="isFitWidth";var i=n.prototype;return i._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},i.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],n=t&&t.element;this.columnWidth=n&&e(n).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/i,s=i-o%i,a=s&&s<1?"round":"floor";r=Math[a](r),this.cols=Math.max(r,1)},i.getContainerWidth=function(){var t=this._getOption("fitWidth"),n=t?this.element.parentNode:this.element,i=e(n);this.containerWidth=i&&i.innerWidth},i._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,n=e&&e<1?"round":"ceil",i=Math[n](t.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var o=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",r=this[o](i,t),s={x:this.columnWidth*r.col,y:r.y},a=r.y+t.size.outerHeight,u=i+r.col,c=r.col;c<u;c++)this.colYs[c]=a;return s},i._getTopColPosition=function(t){var e=this._getTopColGroup(t),n=Math.min.apply(Math,e);return{col:e.indexOf(n),y:n}},i._getTopColGroup=function(t){if(t<2)return this.colYs;for(var e=[],n=this.cols+1-t,i=0;i<n;i++)e[i]=this._getColGroupY(i,t);return e},i._getColGroupY=function(t,e){if(e<2)return this.colYs[t];var n=this.colYs.slice(t,t+e);return Math.max.apply(Math,n)},i._getHorizontalColPosition=function(t,e){var n=this.horizontalColIndex%this.cols;n=t>1&&n+t>this.cols?0:n;var i=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=i?n+t:this.horizontalColIndex,{col:n,y:this._getColGroupY(n,t)}},i._manageStamp=function(t){var n=e(t),i=this._getElementOffset(t),o=this._getOption("originLeft"),r=o?i.left:i.right,s=r+n.outerWidth,a=Math.floor(r/this.columnWidth);a=Math.max(0,a);var u=Math.floor(s/this.columnWidth);u-=s%this.columnWidth?0:1,u=Math.min(this.cols-1,u);for(var c=this._getOption("originTop"),l=(c?i.top:i.bottom)+n.outerHeight,h=a;h<=u;h++)this.colYs[h]=Math.max(l,this.colYs[h])},i._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},i._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},n}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],e):"object"==typeof module&&module.exports?module.exports=e(require("../layout-mode"),require("masonry-layout")):e(t.Isotope.LayoutMode,t.Masonry)}(window,function(t,e){"use strict";var n=t.create("masonry"),i=n.prototype,o={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var r in e.prototype)o[r]||(i[r]=e.prototype[r]);var s=i.measureColumns;i.measureColumns=function(){this.items=this.isotope.filteredItems,s.call(this)};var a=i._getOption;return i._getOption=function(t){return"fitWidth"==t?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:a.apply(this.isotope,arguments)},n}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("fitRows"),n=e.prototype;return n._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},n._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,n=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>n&&(this.x=0,this.y=this.maxY);var i={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,i},n._getContainerSize=function(){return{height:this.maxY}},e}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],e):"object"==typeof module&&module.exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("vertical",{horizontalAlignment:0}),n=e.prototype;return n._resetLayout=function(){this.y=0},n._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,n=this.y;return this.y+=t.size.outerHeight,{x:e,y:n}},n._getContainerSize=function(){return{height:this.y}},e}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","desandro-matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],function(n,i,o,r,s,a){return e(t,n,i,o,r,s,a)}):"object"==typeof module&&module.exports?module.exports=e(t,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("isotope/js/item"),require("isotope/js/layout-mode"),require("isotope/js/layout-modes/masonry"),require("isotope/js/layout-modes/fit-rows"),require("isotope/js/layout-modes/vertical")):t.Isotope=e(t,t.Outlayer,t.getSize,t.matchesSelector,t.fizzyUIUtils,t.Isotope.Item,t.Isotope.LayoutMode)}(window,function(t,e,n,i,o,r,s){function a(t,e){return function(n,i){for(var o=0;o<t.length;o++){var r=t[o],s=n.sortData[r],a=i.sortData[r];if(s>a||s<a){var u=void 0!==e[r]?e[r]:e,c=u?1:-1;return(s>a?1:-1)*c}}return 0}}var u=t.jQuery,c=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},l=e.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});l.Item=r,l.LayoutMode=s;var h=l.prototype;h._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),e.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var t in s.modes)this._initLayoutMode(t)},h.reloadItems=function(){this.itemGUID=0,e.prototype.reloadItems.call(this)},h._itemize=function(){for(var t=e.prototype._itemize.apply(this,arguments),n=0;n<t.length;n++){t[n].id=this.itemGUID++}return this._updateItemsSortData(t),t},h._initLayoutMode=function(t){var e=s.modes[t],n=this.options[t]||{};this.options[t]=e.options?o.extend(e.options,n):n,this.modes[t]=new e(this)},h.layout=function(){return!this._isLayoutInited&&this._getOption("initLayout")?void this.arrange():void this._layout()},h._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},h.arrange=function(t){this.option(t),this._getIsInstant();var e=this._filter(this.items);this.filteredItems=e.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[e]):this._hideReveal(e),this._sort(),this._layout()},h._init=h.arrange,h._hideReveal=function(t){this.reveal(t.needReveal),this.hide(t.needHide)},h._getIsInstant=function(){var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;return this._isInstant=e,e},h._bindArrangeComplete=function(){function t(){e&&n&&i&&o.dispatchEvent("arrangeComplete",null,[o.filteredItems])}var e,n,i,o=this;this.once("layoutComplete",function(){e=!0,t()}),this.once("hideComplete",function(){n=!0,t()}),this.once("revealComplete",function(){i=!0,t()})},h._filter=function(t){var e=this.options.filter;e=e||"*";for(var n=[],i=[],o=[],r=this._getFilterTest(e),s=0;s<t.length;s++){var a=t[s];if(!a.isIgnored){var u=r(a);u&&n.push(a),u&&a.isHidden?i.push(a):u||a.isHidden||o.push(a)}}return{matches:n,needReveal:i,needHide:o}},h._getFilterTest=function(t){return u&&this.options.isJQueryFiltering?function(e){return u(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return i(e.element,t)}},h.updateSortData=function(t){var e;t?(t=o.makeArray(t),e=this.getItems(t)):e=this.items,this._getSorters(),this._updateItemsSortData(e)},h._getSorters=function(){var t=this.options.getSortData;for(var e in t){var n=t[e];this._sorters[e]=f(n)}},h._updateItemsSortData=function(t){for(var e=t&&t.length,n=0;e&&n<e;n++){t[n].updateSortData()}};var f=function(){function t(t){if("string"!=typeof t)return t;var n=c(t).split(" "),i=n[0],o=i.match(/^\[(.+)\]$/),r=o&&o[1],s=e(r,i),a=l.sortDataParsers[n[1]];return t=a?function(t){return t&&a(s(t))}:function(t){return t&&s(t)}}function e(t,e){return t?function(e){return e.getAttribute(t)}:function(t){var n=t.querySelector(e);return n&&n.textContent}}return t}();l.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},h._sort=function(){if(this.options.sortBy){var t=o.makeArray(this.options.sortBy);this._getIsSameSortBy(t)||(this.sortHistory=t.concat(this.sortHistory));var e=a(this.sortHistory,this.options.sortAscending);this.filteredItems.sort(e)}},h._getIsSameSortBy=function(t){for(var e=0;e<t.length;e++)if(t[e]!=this.sortHistory[e])return!1;return!0},h._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw new Error("No layout mode: "+t);return e.options=this.options[t],e},h._resetLayout=function(){e.prototype._resetLayout.call(this),this._mode()._resetLayout()},h._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},h._manageStamp=function(t){this._mode()._manageStamp(t)},h._getContainerSize=function(){return this._mode()._getContainerSize()},h.needsResizeLayout=function(){return this._mode().needsResizeLayout()},h.appended=function(t){var e=this.addItems(t);if(e.length){var n=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(n)}},h.prepended=function(t){var e=this._itemize(t);if(e.length){this._resetLayout(),this._manageStamps();var n=this._filterRevealAdded(e);this.layoutItems(this.filteredItems),this.filteredItems=n.concat(this.filteredItems),this.items=e.concat(this.items)}},h._filterRevealAdded=function(t){var e=this._filter(t);return this.hide(e.needHide),this.reveal(e.matches),this.layoutItems(e.matches,!0),e.matches},h.insert=function(t){var e=this.addItems(t);if(e.length){var n,i,o=e.length;for(n=0;n<o;n++)i=e[n],this.element.appendChild(i.element);var r=this._filter(e).matches;for(n=0;n<o;n++)e[n].isLayoutInstant=!0;for(this.arrange(),n=0;n<o;n++)delete e[n].isLayoutInstant;this.reveal(r)}};var d=h.remove;return h.remove=function(t){t=o.makeArray(t);var e=this.getItems(t);d.call(this,t);for(var n=e&&e.length,i=0;n&&i<n;i++){var r=e[i];o.removeFrom(this.filteredItems,r)}},h.shuffle=function(){for(var t=0;t<this.items.length;t++){this.items[t].sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},h._noTransition=function(t,e){var n=this.options.transitionDuration;this.options.transitionDuration=0;var i=t.apply(this,e);return this.options.transitionDuration=n,i},h.getFilteredItemElements=function(){return this.filteredItems.map(function(t){return t.element})},l}),function(t){t.fn.autoComplete=function(e){var n=t.extend({},t.fn.autoComplete.defaults,e);return"string"==typeof e?(this.each(function(){var n=t(this);"destroy"==e&&(t(window).off("resize.autocomplete",n.updateSC),
n.off("blur.autocomplete focus.autocomplete keydown.autocomplete keyup.autocomplete"),n.data("autocomplete")?n.attr("autocomplete",n.data("autocomplete")):n.removeAttr("autocomplete"),t(n.data("sc")).remove(),n.removeData("sc").removeData("autocomplete"))}),this):this.each(function(){function e(t){var e=i.val();if(i.cache[e]=t,t.length&&e.length>=n.minChars){for(var o="",r=0;r<t.length;r++)o+=n.renderItem(t[r],e);i.sc.html(o),i.updateSC(0)}else i.sc.hide()}var i=t(this);i.sc=t('<div class="autocomplete-suggestions '+n.menuClass+'"></div>'),i.data("sc",i.sc).data("autocomplete",i.attr("autocomplete")),i.attr("autocomplete","off"),i.cache={},i.last_val="",i.updateSC=function(e,n){if(i.sc.css({top:i.offset().top+i.outerHeight(),left:i.offset().left,width:i.outerWidth()}),!e&&(i.sc.show(),i.sc.maxHeight||(i.sc.maxHeight=parseInt(i.sc.css("max-height"))),i.sc.suggestionHeight||(i.sc.suggestionHeight=t(".autocomplete-suggestion",i.sc).first().outerHeight()),i.sc.suggestionHeight))if(n){var o=i.sc.scrollTop(),r=n.offset().top-i.sc.offset().top;r+i.sc.suggestionHeight-i.sc.maxHeight>0?i.sc.scrollTop(r+i.sc.suggestionHeight+o-i.sc.maxHeight):0>r&&i.sc.scrollTop(r+o)}else i.sc.scrollTop(0)},t(window).on("resize.autocomplete",i.updateSC),i.sc.appendTo("body"),i.sc.on("mouseleave",".autocomplete-suggestion",function(){t(".autocomplete-suggestion.selected").removeClass("selected")}),i.sc.on("mouseenter",".autocomplete-suggestion",function(){t(".autocomplete-suggestion.selected").removeClass("selected"),t(this).addClass("selected")}),i.sc.on("mousedown",".autocomplete-suggestion",function(e){var o=t(this),r=o.data("val");(r||o.hasClass("autocomplete-suggestion"))&&(i.val(r),n.onSelect(e,r,o),i.sc.hide())}),i.on("blur.autocomplete",function(){try{over_sb=t(".autocomplete-suggestions:hover").length}catch(t){over_sb=0}over_sb?i.is(":focus")||setTimeout(function(){i.focus()},20):(i.last_val=i.val(),i.sc.hide(),setTimeout(function(){i.sc.hide()},350))}),n.minChars||i.on("focus.autocomplete",function(){i.last_val="\n",i.trigger("keyup.autocomplete")}),i.on("keydown.autocomplete",function(e){if((40==e.which||38==e.which)&&i.sc.html()){var o,r=t(".autocomplete-suggestion.selected",i.sc);return r.length?(o=40==e.which?r.next(".autocomplete-suggestion"):r.prev(".autocomplete-suggestion"),o.length?(r.removeClass("selected"),i.val(o.addClass("selected").data("val"))):(r.removeClass("selected"),i.val(i.last_val),o=0)):(o=40==e.which?t(".autocomplete-suggestion",i.sc).first():t(".autocomplete-suggestion",i.sc).last(),i.val(o.addClass("selected").data("val"))),i.updateSC(0,o),!1}if(27==e.which)i.val(i.last_val).sc.hide();else if(13==e.which||9==e.which){var r=t(".autocomplete-suggestion.selected",i.sc);r.length&&i.sc.is(":visible")&&(n.onSelect(e,r.data("val"),r),setTimeout(function(){i.sc.hide()},20))}}),i.on("keyup.autocomplete",function(o){if(!~t.inArray(o.which,[13,27,35,36,37,38,39,40])){var r=i.val();if(r.length>=n.minChars){if(r!=i.last_val){if(i.last_val=r,clearTimeout(i.timer),n.cache){if(r in i.cache)return void e(i.cache[r]);for(var s=1;s<r.length-n.minChars;s++){var a=r.slice(0,r.length-s);if(a in i.cache&&!i.cache[a].length)return void e([])}}i.timer=setTimeout(function(){n.source(r,e)},n.delay)}}else i.last_val=r,i.sc.hide()}})})},t.fn.autoComplete.defaults={source:0,minChars:3,delay:150,cache:1,menuClass:"",renderItem:function(t,e){var n=new RegExp("("+e.split(" ").join("|")+")","gi");return'<div class="autocomplete-suggestion" data-val="'+t+'">'+t.replace(n,"<b>$1</b>")+"</div>"},onSelect:function(t,e,n){}}}(jQuery),function(t){"use strict";var e={rotateText:null,fontSizeFactor:.8,maximumFontSize:null,limitingDimension:"both",horizontalAlign:"center",verticalAlign:"center",textAlign:"center",whiteSpace:"nowrap"};t.fn.bigText=function(n){return this.each(function(){n=t.extend({},e,n);var i=t(this),o=i.parent();i.css("visibility","hidden"),i.css({display:"inline-block",clear:"both",float:"left","font-size":1e3*n.fontSizeFactor+"px","line-height":"1000px","white-space":n.whiteSpace,"text-align":n.textAlign,position:"relative",padding:0,margin:0,left:"50%",top:"50%"});var r={left:parseInt(o.css("padding-left")),top:parseInt(o.css("padding-top")),right:parseInt(o.css("padding-right")),bottom:parseInt(o.css("padding-bottom"))},s={width:i.outerWidth(),height:i.outerHeight()},a={};if(null!==n.rotateText){if("number"!=typeof n.rotateText)throw"bigText error: rotateText value must be a number";var u="rotate("+n.rotateText+"deg)";a={"-webkit-transform":u,"-ms-transform":u,"-moz-transform":u,"-o-transform":u,transform:u},i.css(a);var c=Math.abs(Math.sin(n.rotateText*Math.PI/180)),l=Math.abs(Math.cos(n.rotateText*Math.PI/180));s.width=i.outerWidth()*l+i.outerHeight()*c,s.height=i.outerWidth()*c+i.outerHeight()*l}var h,f=(o.innerWidth()-r.left-r.right)/s.width,d=(o.innerHeight()-r.top-r.bottom)/s.height;"width"===n.limitingDimension.toLowerCase()?(h=Math.floor(1e3*f),o.height(h)):"height"===n.limitingDimension.toLowerCase()?h=Math.floor(1e3*d):f<d?h=Math.floor(1e3*f):f>=d&&(h=Math.floor(1e3*d));var p=h*n.fontSizeFactor;null!==n.maximumFontSize&&p>n.maximumFontSize&&(p=n.maximumFontSize,h=p/n.fontSizeFactor),i.css({"font-size":Math.floor(p)+"px","line-height":Math.ceil(h)+"px","margin-bottom":"0px","margin-right":"0px"}),"height"===n.limitingDimension.toLowerCase()&&o.width(i.width()+4+"px");var g={};switch(n.verticalAlign.toLowerCase()){case"top":g.top="0%";break;case"bottom":g.top="100%",g["margin-top"]=Math.floor(-i.innerHeight())+"px";break;default:g["margin-top"]=Math.floor(-i.innerHeight()/2)+"px"}switch(n.horizontalAlign.toLowerCase()){case"left":g.left="0%";break;case"right":g.left="100%",g["margin-left"]=Math.floor(-i.innerWidth())+"px";break;default:g["margin-left"]=Math.floor(-i.innerWidth()/2)+"px"}i.css(g),i.css("visibility","visible")})}}(jQuery);var DateFormat={};!function(t){var e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=["January","February","March","April","May","June","July","August","September","October","November","December"],r={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},s=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d{0,3}[Z\-+]?(\d{2}:?\d{2})?/;t.format=function(){function t(t){return e[parseInt(t,10)]||t}function a(t){return n[parseInt(t,10)]||t}function u(t){var e=parseInt(t,10)-1;return i[e]||t}function c(t){var e=parseInt(t,10)-1;return o[e]||t}function l(t){return r[t]||t}function h(t){var e,n,i,o,r,s=t,a="";return-1!==s.indexOf(".")&&(o=s.split("."),s=o[0],a=o[o.length-1]),r=s.split(":"),3===r.length?(e=r[0],n=r[1],i=r[2].replace(/\s.+/,"").replace(/[a-z]/gi,""),s=s.replace(/\s.+/,"").replace(/[a-z]/gi,""),{time:s,hour:e,minute:n,second:i,millis:a}):{time:"",hour:"",minute:"",second:"",millis:""}}function f(t,e){for(var n=e-String(t).length,i=0;n>i;i++)t="0"+t;return t}return{parseDate:function(t){var e,n,i={date:null,year:null,month:null,dayOfMonth:null,dayOfWeek:null,time:null};if("number"==typeof t)return this.parseDate(new Date(t));if("function"==typeof t.getFullYear)i.year=String(t.getFullYear()),i.month=String(t.getMonth()+1),i.dayOfMonth=String(t.getDate()),i.time=h(t.toTimeString()+"."+t.getMilliseconds());else if(-1!=t.search(s))e=t.split(/[T\+-]/),i.year=e[0],i.month=e[1],i.dayOfMonth=e[2],i.time=h(e[3].split(".")[0]);else switch(e=t.split(" "),6===e.length&&isNaN(e[5])&&(e[e.length]="()"),e.length){case 6:i.year=e[5],i.month=l(e[1]),i.dayOfMonth=e[2],i.time=h(e[3]);break;case 2:n=e[0].split("-"),i.year=n[0],i.month=n[1],i.dayOfMonth=n[2],i.time=h(e[1]);break;case 7:case 9:case 10:i.year=e[3],i.month=l(e[1]),i.dayOfMonth=e[2],i.time=h(e[4]);break;case 1:n=e[0].split(""),i.year=n[0]+n[1]+n[2]+n[3],i.month=n[5]+n[6],i.dayOfMonth=n[8]+n[9],i.time=h(n[13]+n[14]+n[15]+n[16]+n[17]+n[18]+n[19]+n[20]);break;default:return null}return i.date=i.time?new Date(i.year,i.month-1,i.dayOfMonth,i.time.hour,i.time.minute,i.time.second,i.time.millis):new Date(i.year,i.month-1,i.dayOfMonth),i.dayOfWeek=String(i.date.getDay()),i},date:function(e,n){try{var i=this.parseDate(e);if(null===i)return e;for(var o,r=i.year,s=i.month,l=i.dayOfMonth,h=i.dayOfWeek,d=i.time,p="",g="",m="",y=!1,_=0;_<n.length;_++){var v=n.charAt(_),w=n.charAt(_+1);if(y)"'"==v?(g+=""===p?"'":p,p="",y=!1):p+=v;else switch(p+=v,m="",p){case"ddd":g+=t(h),p="";break;case"dd":if("d"===w)break;g+=f(l,2),p="";break;case"d":if("d"===w)break;g+=parseInt(l,10),p="";break;case"D":l=1==l||21==l||31==l?parseInt(l,10)+"st":2==l||22==l?parseInt(l,10)+"nd":3==l||23==l?parseInt(l,10)+"rd":parseInt(l,10)+"th",g+=l,p="";break;case"MMMM":g+=c(s),p="";break;case"MMM":if("M"===w)break;g+=u(s),p="";break;case"MM":if("M"===w)break;g+=f(s,2),p="";break;case"M":if("M"===w)break;g+=parseInt(s,10),p="";break;case"y":case"yyy":if("y"===w)break;g+=p,p="";break;case"yy":if("y"===w)break;g+=String(r).slice(-2),p="";break;case"yyyy":g+=r,p="";break;case"HH":g+=f(d.hour,2),p="";break;case"H":if("H"===w)break;g+=parseInt(d.hour,10),p="";break;case"hh":o=0===parseInt(d.hour,10)?12:d.hour<13?d.hour:d.hour-12,g+=f(o,2),p="";break;case"h":if("h"===w)break;o=0===parseInt(d.hour,10)?12:d.hour<13?d.hour:d.hour-12,g+=parseInt(o,10),p="";break;case"mm":g+=f(d.minute,2),p="";break;case"m":if("m"===w)break;g+=d.minute,p="";break;case"ss":g+=f(d.second.substring(0,2),2),p="";break;case"s":if("s"===w)break;g+=d.second,p="";break;case"S":case"SS":if("S"===w)break;g+=p,p="";break;case"SSS":var b="000"+d.millis.substring(0,3);g+=b.substring(b.length-3),p="";break;case"a":g+=d.hour>=12?"PM":"AM",p="";break;case"p":g+=d.hour>=12?"p.m.":"a.m.",p="";break;case"E":g+=a(h),p="";break;case"'":p="",y=!0;break;default:g+=v,p=""}}return g+=m}catch(t){return console&&console.log&&console.log(t),e}},prettyDate:function(t){var e,n,i;return("string"==typeof t||"number"==typeof t)&&(e=new Date(t)),"object"==typeof t&&(e=new Date(t.toString())),n=((new Date).getTime()-e.getTime())/1e3,i=Math.floor(n/86400),isNaN(i)||0>i?void 0:60>n?"just now":120>n?"1 minute ago":3600>n?Math.floor(n/60)+" minutes ago":7200>n?"1 hour ago":86400>n?Math.floor(n/3600)+" hours ago":1===i?"Yesterday":7>i?i+" days ago":31>i?Math.ceil(i/7)+" weeks ago":i>=31?"more than 5 weeks ago":void 0},toBrowserTimeZone:function(t,e){return this.date(new Date(t),e||"MM/dd/yyyy HH:mm:ss")}}}()}(DateFormat),function(t){t.format=DateFormat.format}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,n,i,o){return jQuery.easing[jQuery.easing.def](t,e,n,i,o)},easeInQuad:function(t,e,n,i,o){return i*(e/=o)*e+n},easeOutQuad:function(t,e,n,i,o){return-i*(e/=o)*(e-2)+n},easeInOutQuad:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,i,o){return i*(e/=o)*e*e+n},easeOutCubic:function(t,e,n,i,o){return i*((e=e/o-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e*e+n:i/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,i,o){return i*(e/=o)*e*e*e+n},easeOutQuart:function(t,e,n,i,o){return-i*((e=e/o-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e*e*e+n:-i/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,i,o){return i*(e/=o)*e*e*e*e+n},easeOutQuint:function(t,e,n,i,o){return i*((e=e/o-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e*e*e*e+n:i/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,i,o){return-i*Math.cos(e/o*(Math.PI/2))+i+n},easeOutSine:function(t,e,n,i,o){return i*Math.sin(e/o*(Math.PI/2))+n},easeInOutSine:function(t,e,n,i,o){return-i/2*(Math.cos(Math.PI*e/o)-1)+n},easeInExpo:function(t,e,n,i,o){return 0==e?n:i*Math.pow(2,10*(e/o-1))+n},easeOutExpo:function(t,e,n,i,o){return e==o?n+i:i*(1-Math.pow(2,-10*e/o))+n},easeInOutExpo:function(t,e,n,i,o){return 0==e?n:e==o?n+i:(e/=o/2)<1?i/2*Math.pow(2,10*(e-1))+n:i/2*(2-Math.pow(2,-10*--e))+n},easeInCirc:function(t,e,n,i,o){return-i*(Math.sqrt(1-(e/=o)*e)-1)+n},easeOutCirc:function(t,e,n,i,o){return i*Math.sqrt(1-(e=e/o-1)*e)+n},easeInOutCirc:function(t,e,n,i,o){return(e/=o/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+n:i/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(t,e,n,i,o){var r=1.70158,s=0,a=i;if(0==e)return n;if(1==(e/=o))return n+i;if(s||(s=.3*o),a<Math.abs(i)){a=i;var r=s/4}else var r=s/(2*Math.PI)*Math.asin(i/a);return-a*Math.pow(2,10*(e-=1))*Math.sin((e*o-r)*(2*Math.PI)/s)+n},easeOutElastic:function(t,e,n,i,o){var r=1.70158,s=0,a=i;if(0==e)return n;if(1==(e/=o))return n+i;if(s||(s=.3*o),a<Math.abs(i)){a=i;var r=s/4}else var r=s/(2*Math.PI)*Math.asin(i/a);return a*Math.pow(2,-10*e)*Math.sin((e*o-r)*(2*Math.PI)/s)+i+n},easeInOutElastic:function(t,e,n,i,o){var r=1.70158,s=0,a=i;if(0==e)return n;if(2==(e/=o/2))return n+i;if(s||(s=o*(.3*1.5)),a<Math.abs(i)){a=i;var r=s/4}else var r=s/(2*Math.PI)*Math.asin(i/a);return e<1?a*Math.pow(2,10*(e-=1))*Math.sin((e*o-r)*(2*Math.PI)/s)*-.5+n:a*Math.pow(2,-10*(e-=1))*Math.sin((e*o-r)*(2*Math.PI)/s)*.5+i+n},easeInBack:function(t,e,n,i,o,r){return void 0==r&&(r=1.70158),i*(e/=o)*e*((r+1)*e-r)+n},easeOutBack:function(t,e,n,i,o,r){return void 0==r&&(r=1.70158),i*((e=e/o-1)*e*((r+1)*e+r)+1)+n},easeInOutBack:function(t,e,n,i,o,r){return void 0==r&&(r=1.70158),(e/=o/2)<1?i/2*(e*e*((1+(r*=1.525))*e-r))+n:i/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+n},easeInBounce:function(t,e,n,i,o){return i-jQuery.easing.easeOutBounce(t,o-e,0,i,o)+n},easeOutBounce:function(t,e,n,i,o){return(e/=o)<1/2.75?i*(7.5625*e*e)+n:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+n:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+n:i*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(t,e,n,i,o){return e<o/2?.5*jQuery.easing.easeInBounce(t,2*e,0,i,o)+n:.5*jQuery.easing.easeOutBounce(t,2*e-o,0,i,o)+.5*i+n}}),function(t){var e=!1;if("function"==typeof define&&define.amd&&(define(t),e=!0),"object"==typeof exports&&(module.exports=t(),e=!0),!e){var n=window.Cookies,i=window.Cookies=t();i.noConflict=function(){return window.Cookies=n,i}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function e(n){function i(e,o,r){var s;if("undefined"!=typeof document){if(arguments.length>1){if(r=t({path:"/"},i.defaults,r),"number"==typeof r.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*r.expires),r.expires=a}r.expires=r.expires?r.expires.toUTCString():"";try{s=JSON.stringify(o),/^[\{\[]/.test(s)&&(o=s)}catch(t){}o=n.write?n.write(o,e):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape);var u="";for(var c in r)r[c]&&(u+="; "+c,!0!==r[c]&&(u+="="+r[c]));return document.cookie=e+"="+o+u}e||(s={});for(var l=document.cookie?document.cookie.split("; "):[],h=/(%[0-9A-Z]{2})+/g,f=0;f<l.length;f++){var d=l[f].split("="),p=d.slice(1).join("=");'"'===p.charAt(0)&&(p=p.slice(1,-1));try{var g=d[0].replace(h,decodeURIComponent);if(p=n.read?n.read(p,g):n(p,g)||p.replace(h,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(t){}if(e===g){s=p;break}e||(s[g]=p)}catch(t){}}return s}}return i.set=i,i.get=function(t){return i.call(i,t)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(e,n){i(e,"",t(n,{expires:-1}))},i.withConverter=e,i}return e(function(){})}),function(t){"object"==typeof exports?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){"use strict";var e={},n=Math.max,i=Math.min;e.c={},e.c.d=t(document),e.c.t=function(t){return t.originalEvent.touches.length-1},e.o=function(){var n=this;this.o=null,this.$=null,this.i=null,this.g=null,this.v=null,this.cv=null,this.x=0,this.y=0,this.w=0,this.h=0,this.$c=null,this.c=null,this.t=0,this.isInit=!1,this.fgColor=null,this.pColor=null,this.dH=null,this.cH=null,this.eH=null,this.rH=null,this.scale=1,this.relative=!1,this.relativeWidth=!1,this.relativeHeight=!1,this.$div=null,this.run=function(){var e=function(t,e){var i;for(i in e)n.o[i]=e[i];n._carve().init(),n._configure()._draw()};if(!this.$.data("kontroled")){if(this.$.data("kontroled",!0),this.extend(),this.o=t.extend({min:void 0!==this.$.data("min")?this.$.data("min"):0,max:void 0!==this.$.data("max")?this.$.data("max"):100,stopper:!0,readOnly:this.$.data("readonly")||"readonly"===this.$.attr("readonly"),cursor:!0===this.$.data("cursor")&&30||this.$.data("cursor")||0,thickness:this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),.01)||.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:null==this.$.data("displayinput")||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:!1,step:this.$.data("step")||1,rotation:this.$.data("rotation"),draw:null,change:null,cancel:null,release:null,format:function(t){return t},parse:function(t){return parseFloat(t)}},this.o),this.o.flip="anticlockwise"===this.o.rotation||"acw"===this.o.rotation,this.o.inputColor||(this.o.inputColor=this.o.fgColor),this.$.is("fieldset")?(this.v={},this.i=this.$.find("input"),this.i.each(function(e){var i=t(this);n.i[e]=i,n.v[e]=n.o.parse(i.val()),i.bind("change blur",function(){var t={};t[e]=i.val(),n.val(n._validate(t))})}),this.$.find("legend").remove()):(this.i=this.$,this.v=this.o.parse(this.$.val()),""===this.v&&(this.v=this.o.min),this.$.bind("change blur",function(){n.val(n._validate(n.o.parse(n.$.val())))})),!this.o.displayInput&&this.$.hide(),this.$c=t(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height}),this.$div=t('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>'),this.$.wrap(this.$div).before(this.$c),this.$div=this.$.parent(),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.$c[0]),this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null,!this.c)throw{name:"CanvasNotSupportedException",message:"Canvas not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+": "+this.message}};return this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1),this.relativeWidth=this.o.width%1!=0&&this.o.width.indexOf("%"),this.relativeHeight=this.o.height%1!=0&&this.o.height.indexOf("%"),this.relative=this.relativeWidth||this.relativeHeight,this._carve(),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.$.bind("configure",e).parent().bind("configure",e),this._listen()._configure()._xy().init(),this.isInit=!0,this.$.val(this.o.format(this.v)),this._draw(),this}},this._carve=function(){if(this.relative){var t=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),e=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(t,e)}else this.w=this.o.width,this.h=this.o.height;return this.$div.css({width:this.w+"px",height:this.h+"px"}),this.$c.attr({width:this.w,height:this.h}),1!==this.scale&&(this.$c[0].width=this.$c[0].width*this.scale,this.$c[0].height=this.$c[0].height*this.scale,this.$c.width(this.w),this.$c.height(this.h)),this},this._draw=function(){var t=!0;n.g=n.c,n.clear(),n.dH&&(t=n.dH()),!1!==t&&n.draw()},this._touch=function(t){var i=function(t){var e=n.xy2val(t.originalEvent.touches[n.t].pageX,t.originalEvent.touches[n.t].pageY);e!=n.cv&&(n.cH&&!1===n.cH(e)||(n.change(n._validate(e)),n._draw()))};return this.t=e.c.t(t),i(t),e.c.d.bind("touchmove.k",i).bind("touchend.k",function(){e.c.d.unbind("touchmove.k touchend.k"),n.val(n.cv)}),this},this._mouse=function(t){var i=function(t){var e=n.xy2val(t.pageX,t.pageY);e!=n.cv&&(n.cH&&!1===n.cH(e)||(n.change(n._validate(e)),n._draw()))};return i(t),e.c.d.bind("mousemove.k",i).bind("keyup.k",function(t){if(27===t.keyCode){if(e.c.d.unbind("mouseup.k mousemove.k keyup.k"),n.eH&&!1===n.eH())return;n.cancel()}}).bind("mouseup.k",function(t){e.c.d.unbind("mousemove.k mouseup.k keyup.k"),n.val(n.cv)}),this},this._xy=function(){var t=this.$c.offset();return this.x=t.left,this.y=t.top,this},this._listen=function(){return this.o.readOnly?this.$.attr("readonly","readonly"):(this.$c.bind("mousedown",function(t){t.preventDefault(),n._xy()._mouse(t)}).bind("touchstart",function(t){t.preventDefault(),n._xy()._touch(t)}),this.listen()),this.relative&&t(window).resize(function(){n._carve().init(),n._draw()}),this},this._configure=function(){return this.o.draw&&(this.dH=this.o.draw),this.o.change&&(this.cH=this.o.change),this.o.cancel&&(this.eH=this.o.cancel),this.o.release&&(this.rH=this.o.release),this.o.displayPrevious?(this.pColor=this.h2rgba(this.o.fgColor,"0.4"),this.fgColor=this.h2rgba(this.o.fgColor,"0.6")):this.fgColor=this.o.fgColor,this},this._clear=function(){this.$c[0].width=this.$c[0].width},this._validate=function(t){var e=~~((t<0?-.5:.5)+t/this.o.step)*this.o.step;return Math.round(100*e)/100},this.listen=function(){},this.extend=function(){},this.init=function(){},this.change=function(t){},this.val=function(t){},this.xy2val=function(t,e){},this.draw=function(){},this.clear=function(){this._clear()},this.h2rgba=function(t,e){var n;return t=t.substring(1,7),n=[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)],"rgba("+n[0]+","+n[1]+","+n[2]+","+e+")"},this.copy=function(t,e){for(var n in t)e[n]=t[n]}},e.Dial=function(){e.o.call(this),this.startAngle=null,this.xy=null,this.radius=null,this.lineWidth=null,this.cursorExt=null,this.w2=null,this.PI2=2*Math.PI,this.extend=function(){this.o=t.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:!0},this.o)},this.val=function(t,e){if(null==t)return this.v;t=this.o.parse(t),!1!==e&&t!=this.v&&this.rH&&!1===this.rH(t)||(this.cv=this.o.stopper?n(i(t,this.o.max),this.o.min):t,this.v=this.cv,this.$.val(this.o.format(this.v)),this._draw())},this.xy2val=function(t,e){var o,r;return o=Math.atan2(t-(this.x+this.w2),-(e-this.y-this.w2))-this.angleOffset,this.o.flip&&(o=this.angleArc-o-this.PI2),this.angleArc!=this.PI2&&o<0&&o>-.5?o=0:o<0&&(o+=this.PI2),r=o*(this.o.max-this.o.min)/this.angleArc+this.o.min,this.o.stopper&&(r=n(i(r,this.o.max),this.o.min)),r},this.listen=function(){var e,o,r,s,a=this,u=function(t){t.preventDefault();var r=t.originalEvent,s=r.detail||r.wheelDeltaX,u=r.detail||r.wheelDeltaY,c=a._validate(a.o.parse(a.$.val()))+(s>0||u>0?a.o.step:s<0||u<0?-a.o.step:0);c=n(i(c,a.o.max),a.o.min),a.val(c,!1),a.rH&&(clearTimeout(e),e=setTimeout(function(){a.rH(c),e=null},100),o||(o=setTimeout(function(){e&&a.rH(c),o=null},200)))},c=1,l={37:-a.o.step,38:a.o.step,39:a.o.step,40:-a.o.step};this.$.bind("keydown",function(e){var o=e.keyCode;if(o>=96&&o<=105&&(o=e.keyCode=o-48),r=parseInt(String.fromCharCode(o)),isNaN(r)&&(13!==o&&8!==o&&9!==o&&189!==o&&(190!==o||a.$.val().match(/\./))&&e.preventDefault(),t.inArray(o,[37,38,39,40])>-1)){e.preventDefault();var u=a.o.parse(a.$.val())+l[o]*c;a.o.stopper&&(u=n(i(u,a.o.max),a.o.min)),a.change(a._validate(u)),a._draw(),s=window.setTimeout(function(){c*=2},30)}}).bind("keyup",function(t){isNaN(r)?s&&(window.clearTimeout(s),s=null,c=1,a.val(a.$.val())):a.$.val()>a.o.max&&a.$.val(a.o.max)||a.$.val()<a.o.min&&a.$.val(a.o.min)}),this.$c.bind("mousewheel DOMMouseScroll",u),this.$.bind("mousewheel DOMMouseScroll",u)},this.init=function(){(this.v<this.o.min||this.v>this.o.max)&&(this.v=this.o.min),this.$.val(this.v),this.w2=this.w/2,this.cursorExt=this.o.cursor/100,this.xy=this.w2*this.scale,this.lineWidth=this.xy*this.o.thickness,this.lineCap=this.o.lineCap,this.radius=this.xy-this.lineWidth/2,this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset),this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc),this.angleOffset=this.o.angleOffset*Math.PI/180,this.angleArc=this.o.angleArc*Math.PI/180,this.startAngle=1.5*Math.PI+this.angleOffset,this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var t=n(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:(this.w/2+4>>0)+"px",height:(this.w/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.w/3>>0)+"px","margin-left":"-"+(3*this.w/4+2>>0)+"px",border:0,background:"none",font:this.o.fontWeight+" "+(this.w/t>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})},this.change=function(t){this.cv=t,this.$.val(this.o.format(t))},this.angle=function(t){return(t-this.o.min)*this.angleArc/(this.o.max-this.o.min)},this.arc=function(t){var e,n;return t=this.angle(t),this.o.flip?(e=this.endAngle+1e-5,n=e-t-1e-5):(e=this.startAngle-1e-5,n=e+t+1e-5),this.o.cursor&&(e=n-this.cursorExt)&&(n+=this.cursorExt),{s:e,e:n,d:this.o.flip&&!this.o.cursor}},this.draw=function(){var t,e=this.g,n=this.arc(this.cv),i=1;e.lineWidth=this.lineWidth,e.lineCap=this.lineCap,"none"!==this.o.bgColor&&(e.beginPath(),e.strokeStyle=this.o.bgColor,e.arc(this.xy,this.xy,this.radius,this.endAngle-1e-5,this.startAngle+1e-5,!0),e.stroke()),this.o.displayPrevious&&(t=this.arc(this.v),e.beginPath(),e.strokeStyle=this.pColor,e.arc(this.xy,this.xy,this.radius,t.s,t.e,t.d),e.stroke(),i=this.cv==this.v),e.beginPath(),e.strokeStyle=i?this.o.fgColor:this.fgColor,e.arc(this.xy,this.xy,this.radius,n.s,n.e,n.d),e.stroke()},this.cancel=function(){this.val(this.v)}},t.fn.dial=t.fn.knob=function(n){return this.each(function(){var i=new e.Dial;i.o=n,i.$=t(this),i.run()}).parent()}}),function(t,e,n){function i(e,n){this.bodyOverflowX,this.callbacks={hide:[],show:[]},this.checkInterval=null,this.Content,this.$el=t(e),this.$elProxy,this.elProxyPosition,this.enabled=!0,this.options=t.extend({},a,n),this.mouseIsOverProxy=!1,this.namespace="tooltipster-"+Math.round(1e5*Math.random()),this.Status="hidden",this.timerHide=null,this.timerShow=null,this.$tooltip,this.options.iconTheme=this.options.iconTheme.replace(".",""),this.options.theme=this.options.theme.replace(".",""),this._init()}function o(e,n){var i=!0;return t.each(e,function(t,o){if(void 0===n[t]||e[t]!==n[t])return i=!1,!1}),i}function r(){return!c&&u}function s(){var t=n.body||n.documentElement,e=t.style,i="transition";if("string"==typeof e[i])return!0;v=["Moz","Webkit","Khtml","O","ms"],i=i.charAt(0).toUpperCase()+i.substr(1);for(var o=0;o<v.length;o++)if("string"==typeof e[v[o]+i])return!0;return!1}var a={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,debug:!0,delay:200,minWidth:0,maxWidth:null,functionInit:function(t,e){},functionBefore:function(t,e){e()},functionReady:function(t,e){},functionAfter:function(t){},hideOnClick:!1,icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,multiple:!1,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,positionTrackerCallback:function(t){"hover"==this.option("trigger")&&this.option("autoClose")&&this.hide()},restoration:"current",speed:350,timer:0,theme:"tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0};i.prototype={_init:function(){var e=this;if(n.querySelector){var i=null;void 0===e.$el.data("tooltipster-initialTitle")&&(i=e.$el.attr("title"),void 0===i&&(i=null),e.$el.data("tooltipster-initialTitle",i)),null!==e.options.content?e._content_set(e.options.content):e._content_set(i);var o=e.options.functionInit.call(e.$el,e.$el,e.Content);void 0!==o&&e._content_set(o),e.$el.removeAttr("title").addClass("tooltipstered"),!u&&e.options.iconDesktop||u&&e.options.iconTouch?("string"==typeof e.options.icon?(e.$elProxy=t('<span class="'+e.options.iconTheme+'"></span>'),e.$elProxy.text(e.options.icon)):e.options.iconCloning?e.$elProxy=e.options.icon.clone(!0):e.$elProxy=e.options.icon,e.$elProxy.insertAfter(e.$el)):e.$elProxy=e.$el,"hover"==e.options.trigger?(e.$elProxy.on("mouseenter."+e.namespace,function(){r()&&!e.options.touchDevices||(e.mouseIsOverProxy=!0,e._show())}).on("mouseleave."+e.namespace,function(){r()&&!e.options.touchDevices||(e.mouseIsOverProxy=!1)}),u&&e.options.touchDevices&&e.$elProxy.on("touchstart."+e.namespace,function(){e._showNow()})):"click"==e.options.trigger&&e.$elProxy.on("click."+e.namespace,function(){r()&&!e.options.touchDevices||e._show()})}},_show:function(){var t=this;"shown"!=t.Status&&"appearing"!=t.Status&&(t.options.delay?t.timerShow=setTimeout(function(){("click"==t.options.trigger||"hover"==t.options.trigger&&t.mouseIsOverProxy)&&t._showNow()},t.options.delay):t._showNow())},_showNow:function(n){var i=this;i.options.functionBefore.call(i.$el,i.$el,function(){if(i.enabled&&null!==i.Content){n&&i.callbacks.show.push(n),i.callbacks.hide=[],clearTimeout(i.timerShow),i.timerShow=null,clearTimeout(i.timerHide),i.timerHide=null,i.options.onlyOne&&t(".tooltipstered").not(i.$el).each(function(e,n){var i=t(n),o=i.data("tooltipster-ns");t.each(o,function(t,e){var n=i.data(e),o=n.status(),r=n.option("autoClose");"hidden"!==o&&"disappearing"!==o&&r&&n.hide()})});var o=function(){i.Status="shown",t.each(i.callbacks.show,function(t,e){e.call(i.$el)}),i.callbacks.show=[]};if("hidden"!==i.Status){var r=0;"disappearing"===i.Status?(i.Status="appearing",s()?(i.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+i.options.animation+"-show"),i.options.speed>0&&i.$tooltip.delay(i.options.speed),i.$tooltip.queue(o)):i.$tooltip.stop().fadeIn(o)):"shown"===i.Status&&o()}else{i.Status="appearing";var r=i.options.speed;i.bodyOverflowX=t("body").css("overflow-x"),t("body").css("overflow-x","hidden");var a="tooltipster-"+i.options.animation,c="-webkit-transition-duration: "+i.options.speed+"ms; -webkit-animation-duration: "+i.options.speed+"ms; -moz-transition-duration: "+i.options.speed+"ms; -moz-animation-duration: "+i.options.speed+"ms; -o-transition-duration: "+i.options.speed+"ms; -o-animation-duration: "+i.options.speed+"ms; -ms-transition-duration: "+i.options.speed+"ms; -ms-animation-duration: "+i.options.speed+"ms; transition-duration: "+i.options.speed+"ms; animation-duration: "+i.options.speed+"ms;",l=i.options.minWidth?"min-width:"+Math.round(i.options.minWidth)+"px;":"",h=i.options.maxWidth?"max-width:"+Math.round(i.options.maxWidth)+"px;":"",f=i.options.interactive?"pointer-events: auto;":"";if(i.$tooltip=t('<div class="tooltipster-base '+i.options.theme+'" style="'+l+" "+h+" "+f+" "+c+'"><div class="tooltipster-content"></div></div>'),s()&&i.$tooltip.addClass(a),i._content_insert(),i.$tooltip.appendTo("body"),i.reposition(),i.options.functionReady.call(i.$el,i.$el,i.$tooltip),s()?(i.$tooltip.addClass(a+"-show"),i.options.speed>0&&i.$tooltip.delay(i.options.speed),i.$tooltip.queue(o)):i.$tooltip.css("display","none").fadeIn(i.options.speed,o),i._interval_set(),t(e).on("scroll."+i.namespace+" resize."+i.namespace,function(){i.reposition()}),i.options.autoClose)if(t("body").off("."+i.namespace),"hover"==i.options.trigger){if(u&&setTimeout(function(){t("body").on("touchstart."+i.namespace,function(){i.hide()})},0),i.options.interactive){u&&i.$tooltip.on("touchstart."+i.namespace,function(t){t.stopPropagation()});var d=null;i.$elProxy.add(i.$tooltip).on("mouseleave."+i.namespace+"-autoClose",function(){clearTimeout(d),d=setTimeout(function(){i.hide()
},i.options.interactiveTolerance)}).on("mouseenter."+i.namespace+"-autoClose",function(){clearTimeout(d)})}else i.$elProxy.on("mouseleave."+i.namespace+"-autoClose",function(){i.hide()});i.options.hideOnClick&&i.$elProxy.on("click."+i.namespace+"-autoClose",function(){i.hide()})}else"click"==i.options.trigger&&(setTimeout(function(){t("body").on("click."+i.namespace+" touchstart."+i.namespace,function(){i.hide()})},0),i.options.interactive&&i.$tooltip.on("click."+i.namespace+" touchstart."+i.namespace,function(t){t.stopPropagation()}))}i.options.timer>0&&(i.timerHide=setTimeout(function(){i.timerHide=null,i.hide()},i.options.timer+r))}})},_interval_set:function(){var e=this;e.checkInterval=setInterval(function(){if(0===t("body").find(e.$el).length||0===t("body").find(e.$elProxy).length||"hidden"==e.Status||0===t("body").find(e.$tooltip).length)"shown"!=e.Status&&"appearing"!=e.Status||e.hide(),e._interval_cancel();else if(e.options.positionTracker){var n=e._repositionInfo(e.$elProxy),i=!1;o(n.dimension,e.elProxyPosition.dimension)&&("fixed"===e.$elProxy.css("position")?o(n.position,e.elProxyPosition.position)&&(i=!0):o(n.offset,e.elProxyPosition.offset)&&(i=!0)),i||(e.reposition(),e.options.positionTrackerCallback.call(e,e.$el))}},200)},_interval_cancel:function(){clearInterval(this.checkInterval),this.checkInterval=null},_content_set:function(t){"object"==typeof t&&null!==t&&this.options.contentCloning&&(t=t.clone(!0)),this.Content=t},_content_insert:function(){var t=this,e=this.$tooltip.find(".tooltipster-content");"string"!=typeof t.Content||t.options.contentAsHTML?e.empty().append(t.Content):e.text(t.Content)},_update:function(t){var e=this;e._content_set(t),null!==e.Content?"hidden"!==e.Status&&(e._content_insert(),e.reposition(),e.options.updateAnimation&&(s()?(e.$tooltip.css({width:"","-webkit-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!=e.Status&&(e.$tooltip.removeClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!==e.Status&&e.$tooltip.css({"-webkit-transition":e.options.speed+"ms","-moz-transition":e.options.speed+"ms","-o-transition":e.options.speed+"ms","-ms-transition":e.options.speed+"ms",transition:e.options.speed+"ms"})},e.options.speed))},e.options.speed)):e.$tooltip.fadeTo(e.options.speed,.5,function(){"hidden"!=e.Status&&e.$tooltip.fadeTo(e.options.speed,1)}))):e.hide()},_repositionInfo:function(t){return{dimension:{height:t.outerHeight(!1),width:t.outerWidth(!1)},offset:t.offset(),position:{left:parseInt(t.css("left")),top:parseInt(t.css("top"))}}},hide:function(n){var i=this;n&&i.callbacks.hide.push(n),i.callbacks.show=[],clearTimeout(i.timerShow),i.timerShow=null,clearTimeout(i.timerHide),i.timerHide=null;var o=function(){t.each(i.callbacks.hide,function(t,e){e.call(i.$el)}),i.callbacks.hide=[]};if("shown"==i.Status||"appearing"==i.Status){i.Status="disappearing";var r=function(){i.Status="hidden","object"==typeof i.Content&&null!==i.Content&&i.Content.detach(),i.$tooltip.remove(),i.$tooltip=null,t(e).off("."+i.namespace),t("body").off("."+i.namespace).css("overflow-x",i.bodyOverflowX),t("body").off("."+i.namespace),i.$elProxy.off("."+i.namespace+"-autoClose"),i.options.functionAfter.call(i.$el,i.$el),o()};s()?(i.$tooltip.clearQueue().removeClass("tooltipster-"+i.options.animation+"-show").addClass("tooltipster-dying"),i.options.speed>0&&i.$tooltip.delay(i.options.speed),i.$tooltip.queue(r)):i.$tooltip.stop().fadeOut(i.options.speed,r)}else"hidden"==i.Status&&o();return i},show:function(t){return this._showNow(t),this},update:function(t){return this.content(t)},content:function(t){return void 0===t?this.Content:(this._update(t),this)},reposition:function(){function n(){var n=t(e).scrollLeft();O-n<0&&(r=O-n,O=n),O+u-n>s&&(r=O-(s+n-u),O=s+n-u)}function i(n,i){a.offset.top-t(e).scrollTop()-c-A-12<0&&i.indexOf("top")>-1&&(P=n),a.offset.top+a.dimension.height+c+12+A>t(e).scrollTop()+t(e).height()&&i.indexOf("bottom")>-1&&(P=n,F=a.offset.top-c-A-12)}var o=this;if(0!==t("body").find(o.$tooltip).length){o.$tooltip.css("width",""),o.elProxyPosition=o._repositionInfo(o.$elProxy);var r=null,s=t(e).width(),a=o.elProxyPosition,u=o.$tooltip.outerWidth(!1),c=(o.$tooltip.innerWidth(),o.$tooltip.outerHeight(!1));if(o.$elProxy.is("area")){var l=o.$elProxy.attr("shape"),h=o.$elProxy.parent().attr("name"),f=t('img[usemap="#'+h+'"]'),d=f.offset().left,p=f.offset().top,g=void 0!==o.$elProxy.attr("coords")?o.$elProxy.attr("coords").split(","):void 0;if("circle"==l){var m=parseInt(g[0]),y=parseInt(g[1]),_=parseInt(g[2]);a.dimension.height=2*_,a.dimension.width=2*_,a.offset.top=p+y-_,a.offset.left=d+m-_}else if("rect"==l){var m=parseInt(g[0]),y=parseInt(g[1]),v=parseInt(g[2]),w=parseInt(g[3]);a.dimension.height=w-y,a.dimension.width=v-m,a.offset.top=p+y,a.offset.left=d+m}else if("poly"==l){for(var b=0,S=0,E=0,I=0,k="even",x=0;x<g.length;x++){var C=parseInt(g[x]);"even"==k?(C>E&&(E=C,0===x&&(b=E)),C<b&&(b=C),k="odd"):(C>I&&(I=C,1==x&&(S=I)),C<S&&(S=C),k="even")}a.dimension.height=I-S,a.dimension.width=E-b,a.offset.top=p+S,a.offset.left=d+b}else a.dimension.height=f.outerHeight(!1),a.dimension.width=f.outerWidth(!1),a.offset.top=p,a.offset.left=d}var O=0,T=0,F=0,A=parseInt(o.options.offsetY),D=parseInt(o.options.offsetX),P=o.options.position;if("top"==P){var L=a.offset.left+u-(a.offset.left+a.dimension.width);O=a.offset.left+D-L/2,F=a.offset.top-c-A-12,n(),i("bottom","top")}if("top-left"==P&&(O=a.offset.left+D,F=a.offset.top-c-A-12,n(),i("bottom-left","top-left")),"top-right"==P&&(O=a.offset.left+a.dimension.width+D-u,F=a.offset.top-c-A-12,n(),i("bottom-right","top-right")),"bottom"==P){var L=a.offset.left+u-(a.offset.left+a.dimension.width);O=a.offset.left-L/2+D,F=a.offset.top+a.dimension.height+A+12,n(),i("top","bottom")}if("bottom-left"==P&&(O=a.offset.left+D,F=a.offset.top+a.dimension.height+A+12,n(),i("top-left","bottom-left")),"bottom-right"==P&&(O=a.offset.left+a.dimension.width+D-u,F=a.offset.top+a.dimension.height+A+12,n(),i("top-right","bottom-right")),"left"==P){O=a.offset.left-D-u-12,T=a.offset.left+D+a.dimension.width+12;var N=a.offset.top+c-(a.offset.top+a.dimension.height);if(F=a.offset.top-N/2-A,O<0&&T+u>s){var z=2*parseFloat(o.$tooltip.css("border-width")),$=u+O-z;o.$tooltip.css("width",$+"px"),c=o.$tooltip.outerHeight(!1),O=a.offset.left-D-$-12-z,N=a.offset.top+c-(a.offset.top+a.dimension.height),F=a.offset.top-N/2-A}else O<0&&(O=a.offset.left+D+a.dimension.width+12,r="left")}if("right"==P){O=a.offset.left+D+a.dimension.width+12,T=a.offset.left-D-u-12;var N=a.offset.top+c-(a.offset.top+a.dimension.height);if(F=a.offset.top-N/2-A,O+u>s&&T<0){var z=2*parseFloat(o.$tooltip.css("border-width")),$=s-O-z;o.$tooltip.css("width",$+"px"),c=o.$tooltip.outerHeight(!1),N=a.offset.top+c-(a.offset.top+a.dimension.height),F=a.offset.top-N/2-A}else O+u>s&&(O=a.offset.left-D-u-12,r="right")}if(o.options.arrow){var R="tooltipster-arrow-"+P;if(o.options.arrowColor.length<1)var B=o.$tooltip.css("background-color");else var B=o.options.arrowColor;if(r?"left"==r?(R="tooltipster-arrow-right",r=""):"right"==r?(R="tooltipster-arrow-left",r=""):r="left:"+Math.round(r)+"px;":r="","top"==P||"top-left"==P||"top-right"==P)var M=parseFloat(o.$tooltip.css("border-bottom-width")),U=o.$tooltip.css("border-bottom-color");else if("bottom"==P||"bottom-left"==P||"bottom-right"==P)var M=parseFloat(o.$tooltip.css("border-top-width")),U=o.$tooltip.css("border-top-color");else if("left"==P)var M=parseFloat(o.$tooltip.css("border-right-width")),U=o.$tooltip.css("border-right-color");else if("right"==P)var M=parseFloat(o.$tooltip.css("border-left-width")),U=o.$tooltip.css("border-left-color");else var M=parseFloat(o.$tooltip.css("border-bottom-width")),U=o.$tooltip.css("border-bottom-color");M>1&&M++;var H="";if(0!==M){var j="",W="border-color: "+U+";";-1!==R.indexOf("bottom")?j="margin-top: -"+Math.round(M)+"px;":-1!==R.indexOf("top")?j="margin-bottom: -"+Math.round(M)+"px;":-1!==R.indexOf("left")?j="margin-right: -"+Math.round(M)+"px;":-1!==R.indexOf("right")&&(j="margin-left: -"+Math.round(M)+"px;"),H='<span class="tooltipster-arrow-border" style="'+j+" "+W+';"></span>'}o.$tooltip.find(".tooltipster-arrow").remove();var q='<div class="'+R+' tooltipster-arrow" style="'+r+'">'+H+'<span style="border-color:'+B+';"></span></div>';o.$tooltip.append(q)}o.$tooltip.css({top:Math.round(F)+"px",left:Math.round(O)+"px"})}return o},enable:function(){return this.enabled=!0,this},disable:function(){return this.hide(),this.enabled=!1,this},destroy:function(){var e=this;e.hide(),e.$el[0]!==e.$elProxy[0]&&e.$elProxy.remove(),e.$el.removeData(e.namespace).off("."+e.namespace);var n=e.$el.data("tooltipster-ns");if(1===n.length){var i=null;"previous"===e.options.restoration?i=e.$el.data("tooltipster-initialTitle"):"current"===e.options.restoration&&(i="string"==typeof e.Content?e.Content:t("<div></div>").append(e.Content).html()),i&&e.$el.attr("title",i),e.$el.removeClass("tooltipstered").removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else n=t.grep(n,function(t,n){return t!==e.namespace}),e.$el.data("tooltipster-ns",n);return e},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:void 0},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:void 0},option:function(t,e){return void 0===e?this.options[t]:(this.options[t]=e,this)},status:function(){return this.Status}},t.fn.tooltipster=function(){var e=arguments;if(0===this.length){if("string"==typeof e[0]){var n=!0;switch(e[0]){case"setDefaults":t.extend(a,e[1]);break;default:n=!1}return!!n||this}return this}if("string"==typeof e[0]){var o="#*$~&";return this.each(function(){var n=t(this).data("tooltipster-ns"),i=n?t(this).data(n[0]):null;if(!i)throw new Error("You called Tooltipster's \""+e[0]+'" method on an uninitialized element');if("function"!=typeof i[e[0]])throw new Error('Unknown method .tooltipster("'+e[0]+'")');var r=i[e[0]](e[1],e[2]);if(r!==i)return o=r,!1}),"#*$~&"!==o?o:this}var r=[],s=e[0]&&void 0!==e[0].multiple,u=s&&e[0].multiple||!s&&a.multiple,c=e[0]&&void 0!==e[0].debug,l=c&&e[0].debug||!c&&a.debug;return this.each(function(){var n=!1,o=t(this).data("tooltipster-ns"),s=null;o?u?n=!0:l&&console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.'):n=!0,n&&(s=new i(this,e[0]),o||(o=[]),o.push(s.namespace),t(this).data("tooltipster-ns",o),t(this).data(s.namespace,s)),r.push(s)}),u?r:this};var u=!!("ontouchstart"in e),c=!1;t("body").one("mousemove",function(){c=!0})}(jQuery,window,document),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.pako=t()}}(function(){return function t(e,n,i){function o(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return o(n||t)},l,l.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){"use strict";function i(t,e){var n=new f(e);if(n.push(t,!0),n.err)throw n.msg;return n.result}function o(t,e){return e=e||{},e.raw=!0,i(t,e)}function r(t,e){return e=e||{},e.gzip=!0,i(t,e)}var s=t("./zlib/deflate.js"),a=t("./utils/common"),u=t("./utils/strings"),c=t("./zlib/messages"),l=t("./zlib/zstream"),h=Object.prototype.toString,f=function(t){this.options=a.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==n)throw new Error(c[n]);e.header&&s.deflateSetHeader(this.strm,e.header)};f.prototype.push=function(t,e){var n,i,o=this.strm,r=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:!0===e?4:0,"string"==typeof t?o.input=u.string2buf(t):"[object ArrayBuffer]"===h.call(t)?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new a.Buf8(r),o.next_out=0,o.avail_out=r),1!==(n=s.deflate(o,i))&&0!==n)return this.onEnd(n),this.ended=!0,!1;(0===o.avail_out||0===o.avail_in&&(4===i||2===i))&&this.onData("string"===this.options.to?u.buf2binstring(a.shrinkBuf(o.output,o.next_out)):a.shrinkBuf(o.output,o.next_out))}while((o.avail_in>0||0===o.avail_out)&&1!==n);return 4===i?(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==i||(this.onEnd(0),o.avail_out=0,!0)},f.prototype.onData=function(t){this.chunks.push(t)},f.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=f,n.deflate=i,n.deflateRaw=o,n.gzip=r},{"./utils/common":3,"./utils/strings":4,"./zlib/deflate.js":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(t,e,n){"use strict";function i(t,e){var n=new d(e);if(n.push(t,!0),n.err)throw n.msg;return n.result}function o(t,e){return e=e||{},e.raw=!0,i(t,e)}var r=t("./zlib/inflate.js"),s=t("./utils/common"),a=t("./utils/strings"),u=t("./zlib/constants"),c=t("./zlib/messages"),l=t("./zlib/zstream"),h=t("./zlib/gzheader"),f=Object.prototype.toString,d=function(t){this.options=s.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==u.Z_OK)throw new Error(c[n]);this.header=new h,r.inflateGetHeader(this.strm,this.header)};d.prototype.push=function(t,e){var n,i,o,c,l,h=this.strm,d=this.options.chunkSize,p=!1;if(this.ended)return!1;i=e===~~e?e:!0===e?u.Z_FINISH:u.Z_NO_FLUSH,"string"==typeof t?h.input=a.binstring2buf(t):"[object ArrayBuffer]"===f.call(t)?h.input=new Uint8Array(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new s.Buf8(d),h.next_out=0,h.avail_out=d),n=r.inflate(h,u.Z_NO_FLUSH),n===u.Z_BUF_ERROR&&!0===p&&(n=u.Z_OK,p=!1),n!==u.Z_STREAM_END&&n!==u.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0===h.avail_out||n===u.Z_STREAM_END||0===h.avail_in&&(i===u.Z_FINISH||i===u.Z_SYNC_FLUSH))&&("string"===this.options.to?(o=a.utf8border(h.output,h.next_out),c=h.next_out-o,l=a.buf2string(h.output,o),h.next_out=c,h.avail_out=d-c,c&&s.arraySet(h.output,h.output,o,c,0),this.onData(l)):this.onData(s.shrinkBuf(h.output,h.next_out))),0===h.avail_in&&0===h.avail_out&&(p=!0)}while((h.avail_in>0||0===h.avail_out)&&n!==u.Z_STREAM_END);return n===u.Z_STREAM_END&&(i=u.Z_FINISH),i===u.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u.Z_OK):i!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),h.avail_out=0,!0)},d.prototype.onData=function(t){this.chunks.push(t)},d.prototype.onEnd=function(t){t===u.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=d,n.inflate=i,n.inflateRaw=o,n.ungzip=i},{"./utils/common":3,"./utils/strings":4,"./zlib/constants":6,"./zlib/gzheader":9,"./zlib/inflate.js":11,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,i,o){if(e.subarray&&t.subarray)return void t.set(e.subarray(n,n+i),o);for(var r=0;i>r;r++)t[o+r]=e[n+r]},flattenChunks:function(t){var e,n,i,o,r,s;for(i=0,e=0,n=t.length;n>e;e++)i+=t[e].length;for(s=new Uint8Array(i),o=0,e=0,n=t.length;n>e;e++)r=t[e],s.set(r,o),o+=r.length;return s}},r={arraySet:function(t,e,n,i,o){for(var r=0;i>r;r++)t[o+r]=e[n+r]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,r))},n.setTyped(i)},{}],4:[function(t,e,n){"use strict";function i(t,e){if(65537>e&&(t.subarray&&s||!t.subarray&&r))return String.fromCharCode.apply(null,o.shrinkBuf(t,e));for(var n="",i=0;e>i;i++)n+=String.fromCharCode(t[i]);return n}var o=t("./common"),r=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var a=new o.Buf8(256),u=0;256>u;u++)a[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;a[254]=a[254]=1,n.string2buf=function(t){var e,n,i,r,s,a=t.length,u=0;for(r=0;a>r;r++)n=t.charCodeAt(r),55296==(64512&n)&&a>r+1&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),u+=128>n?1:2048>n?2:65536>n?3:4;for(e=new o.Buf8(u),s=0,r=0;u>s;r++)n=t.charCodeAt(r),55296==(64512&n)&&a>r+1&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),128>n?e[s++]=n:2048>n?(e[s++]=192|n>>>6,e[s++]=128|63&n):65536>n?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|63&n):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|63&n);return e},n.buf2binstring=function(t){return i(t,t.length)},n.binstring2buf=function(t){for(var e=new o.Buf8(t.length),n=0,i=e.length;i>n;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,o,r,s,u=e||t.length,c=new Array(2*u);for(o=0,n=0;u>n;)if(128>(r=t[n++]))c[o++]=r;else if((s=a[r])>4)c[o++]=65533,n+=s-1;else{for(r&=2===s?31:3===s?15:7;s>1&&u>n;)r=r<<6|63&t[n++],s--;s>1?c[o++]=65533:65536>r?c[o++]=r:(r-=65536,c[o++]=55296|r>>10&1023,c[o++]=56320|1023&r)}return i(c,o)},n.utf8border=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return 0>n?e:0===n?e:n+a[t[n]]>e?n:e}},{"./common":3}],5:[function(t,e,n){"use strict";function i(t,e,n,i){for(var o=65535&t|0,r=t>>>16&65535|0,s=0;0!==n;){s=n>2e3?2e3:n,n-=s;do{o=o+e[i++]|0,r=r+o|0}while(--s);o%=65521,r%=65521}return o|r<<16|0}e.exports=i},{}],6:[function(t,e,n){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(t,e,n){"use strict";function i(t,e,n,i){var r=o,s=i+n;t^=-1;for(var a=i;s>a;a++)t=t>>>8^r[255&(t^e[a])];return-1^t}var o=function(){for(var t,e=[],n=0;256>n;n++){t=n;for(var i=0;8>i;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=i},{}],8:[function(t,e,n){"use strict";function i(t,e){return t.msg=D[e],e}function o(t){return(t<<1)-(t>4?9:0)}function r(t){for(var e=t.length;--e>=0;)t[e]=0}function s(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(O.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function a(t,e){T._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,s(t.strm)}function u(t,e){t.pending_buf[t.pending++]=e}function c(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function l(t,e,n,i){var o=t.avail_in;return o>i&&(o=i),0===o?0:(t.avail_in-=o,O.arraySet(e,t.input,t.next_in,o,n),1===t.state.wrap?t.adler=F(t.adler,e,o,n):2===t.state.wrap&&(t.adler=A(t.adler,e,o,n)),t.next_in+=o,t.total_in+=o,o)}function h(t,e){var n,i,o=t.max_chain_length,r=t.strstart,s=t.prev_length,a=t.nice_match,u=t.strstart>t.w_size-at?t.strstart-(t.w_size-at):0,c=t.window,l=t.w_mask,h=t.prev,f=t.strstart+st,d=c[r+s-1],p=c[r+s];t.prev_length>=t.good_match&&(o>>=2),a>t.lookahead&&(a=t.lookahead);do{if(n=e,c[n+s]===p&&c[n+s-1]===d&&c[n]===c[r]&&c[++n]===c[r+1]){r+=2,n++;do{}while(c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&f>r);if(i=st-(f-r),r=f-st,i>s){if(t.match_start=e,s=i,i>=a)break;d=c[r+s-1],p=c[r+s]}}}while((e=h[e&l])>u&&0!=--o);return s<=t.lookahead?s:t.lookahead}function f(t){var e,n,i,o,r,s=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-at)){O.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,n=t.hash_size,e=n;do{i=t.head[--e],t.head[e]=i>=s?i-s:0}while(--n);n=s,e=n;do{i=t.prev[--e],t.prev[e]=i>=s?i-s:0}while(--n);o+=s}if(0===t.strm.avail_in)break;if(n=l(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=n,t.lookahead+t.insert>=rt)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+rt-1])&t.hash_mask,t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<rt)););}while(t.lookahead<at&&0!==t.strm.avail_in)}function d(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(f(t),0===t.lookahead&&e===P)return mt;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,a(t,!1),0===t.strm.avail_out))return mt;if(t.strstart-t.block_start>=t.w_size-at&&(a(t,!1),0===t.strm.avail_out))return mt}return t.insert=0,e===z?(a(t,!0),0===t.strm.avail_out?_t:vt):(t.strstart>t.block_start&&(a(t,!1),t.strm.avail_out),mt)}function p(t,e){for(var n,i;;){if(t.lookahead<at){if(f(t),t.lookahead<at&&e===P)return mt;if(0===t.lookahead)break}if(n=0,t.lookahead>=rt&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+rt-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-at&&(t.match_length=h(t,n)),t.match_length>=rt)if(i=T._tr_tally(t,t.strstart-t.match_start,t.match_length-rt),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=rt){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+rt-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=T._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(a(t,!1),0===t.strm.avail_out))return mt}return t.insert=t.strstart<rt-1?t.strstart:rt-1,e===z?(a(t,!0),0===t.strm.avail_out?_t:vt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?mt:yt}function g(t,e){for(var n,i,o;;){if(t.lookahead<at){if(f(t),t.lookahead<at&&e===P)return mt;if(0===t.lookahead)break}if(n=0,t.lookahead>=rt&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+rt-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=rt-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-at&&(t.match_length=h(t,n),t.match_length<=5&&(t.strategy===W||t.match_length===rt&&t.strstart-t.match_start>4096)&&(t.match_length=rt-1)),t.prev_length>=rt&&t.match_length<=t.prev_length){o=t.strstart+t.lookahead-rt,i=T._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-rt),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=o&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+rt-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=rt-1,t.strstart++,i&&(a(t,!1),0===t.strm.avail_out))return mt}else if(t.match_available){if(i=T._tr_tally(t,0,t.window[t.strstart-1]),i&&a(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return mt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=T._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<rt-1?t.strstart:rt-1,e===z?(a(t,!0),0===t.strm.avail_out?_t:vt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?mt:yt}function m(t,e){for(var n,i,o,r,s=t.window;;){if(t.lookahead<=st){if(f(t),t.lookahead<=st&&e===P)return mt;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=rt&&t.strstart>0&&(o=t.strstart-1,(i=s[o])===s[++o]&&i===s[++o]&&i===s[++o])){r=t.strstart+st;do{}while(i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&r>o);t.match_length=st-(r-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=rt?(n=T._tr_tally(t,1,t.match_length-rt),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=T._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(a(t,!1),0===t.strm.avail_out))return mt}return t.insert=0,e===z?(a(t,!0),0===t.strm.avail_out?_t:vt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?mt:yt}function y(t,e){for(var n;;){if(0===t.lookahead&&(f(t),0===t.lookahead)){if(e===P)return mt;break}if(t.match_length=0,n=T._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(a(t,!1),0===t.strm.avail_out))return mt}return t.insert=0,e===z?(a(t,!0),0===t.strm.avail_out?_t:vt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?mt:yt}function _(t){t.window_size=2*t.w_size,r(t.head),t.max_lazy_match=C[t.level].max_lazy,t.good_match=C[t.level].good_length,t.nice_match=C[t.level].nice_length,t.max_chain_length=C[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=rt-1,t.match_available=0,t.ins_h=0}function v(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=X,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new O.Buf16(2*it),this.dyn_dtree=new O.Buf16(2*(2*et+1)),this.bl_tree=new O.Buf16(2*(2*nt+1)),r(this.dyn_ltree),r(this.dyn_dtree),r(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new O.Buf16(ot+1),this.heap=new O.Buf16(2*tt+1),r(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new O.Buf16(2*tt+1),r(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=Y,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?ct:pt,t.adler=2===e.wrap?0:1,e.last_flush=P,T._tr_init(e),R):i(t,M)}function b(t){var e=w(t);return e===R&&_(t.state),e}function S(t,e){return t&&t.state?2!==t.state.wrap?M:(t.state.gzhead=e,R):M}function E(t,e,n,o,r,s){if(!t)return M;var a=1;if(e===j&&(e=6),0>o?(a=0,o=-o):o>15&&(a=2,o-=16),1>r||r>K||n!==X||8>o||o>15||0>e||e>9||0>s||s>Z)return i(t,M);8===o&&(o=9);var u=new v;return t.state=u,u.strm=t,u.wrap=a,u.gzhead=null,u.w_bits=o,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=r+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+rt-1)/rt),u.window=new O.Buf8(2*u.w_size),u.head=new O.Buf16(u.hash_size),u.prev=new O.Buf16(u.w_size),u.lit_bufsize=1<<r+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new O.Buf8(u.pending_buf_size),u.d_buf=u.lit_bufsize>>1,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=s,u.method=n,b(t)}function I(t,e){return E(t,e,X,Q,J,G)}function k(t,e){var n,a,l,h;if(!t||!t.state||e>$||0>e)return t?i(t,M):M;if(a=t.state,!t.output||!t.input&&0!==t.avail_in||a.status===gt&&e!==z)return i(t,0===t.avail_out?H:M);if(a.strm=t,n=a.last_flush,a.last_flush=e,a.status===ct)if(2===a.wrap)t.adler=0,u(a,31),u(a,139),u(a,8),a.gzhead?(u(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),u(a,255&a.gzhead.time),u(a,a.gzhead.time>>8&255),u(a,a.gzhead.time>>16&255),u(a,a.gzhead.time>>24&255),u(a,9===a.level?2:a.strategy>=q||a.level<2?4:0),u(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(u(a,255&a.gzhead.extra.length),u(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=A(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=lt):(u(a,0),u(a,0),u(a,0),u(a,0),u(a,0),u(a,9===a.level?2:a.strategy>=q||a.level<2?4:0),u(a,wt),a.status=pt);else{var f=X+(a.w_bits-8<<4)<<8,d=-1;d=a.strategy>=q||a.level<2?0:a.level<6?1:6===a.level?2:3,f|=d<<6,0!==a.strstart&&(f|=ut),f+=31-f%31,a.status=pt,c(a,f),0!==a.strstart&&(c(a,t.adler>>>16),c(a,65535&t.adler)),t.adler=1}if(a.status===lt)if(a.gzhead.extra){for(l=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>l&&(t.adler=A(t.adler,a.pending_buf,a.pending-l,l)),s(t),l=a.pending,a.pending!==a.pending_buf_size));)u(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>l&&(t.adler=A(t.adler,a.pending_buf,a.pending-l,l)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=ht)}else a.status=ht;if(a.status===ht)if(a.gzhead.name){l=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>l&&(t.adler=A(t.adler,a.pending_buf,a.pending-l,l)),s(t),l=a.pending,a.pending===a.pending_buf_size)){h=1;break}h=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,u(a,h)}while(0!==h);a.gzhead.hcrc&&a.pending>l&&(t.adler=A(t.adler,a.pending_buf,a.pending-l,l)),0===h&&(a.gzindex=0,a.status=ft)}else a.status=ft;if(a.status===ft)if(a.gzhead.comment){l=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>l&&(t.adler=A(t.adler,a.pending_buf,a.pending-l,l)),s(t),l=a.pending,a.pending===a.pending_buf_size)){h=1;break}h=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,u(a,h)}while(0!==h);a.gzhead.hcrc&&a.pending>l&&(t.adler=A(t.adler,a.pending_buf,a.pending-l,l)),0===h&&(a.status=dt)}else a.status=dt;if(a.status===dt&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&s(t),a.pending+2<=a.pending_buf_size&&(u(a,255&t.adler),u(a,t.adler>>8&255),t.adler=0,a.status=pt)):a.status=pt),0!==a.pending){if(s(t),0===t.avail_out)return a.last_flush=-1,R}else if(0===t.avail_in&&o(e)<=o(n)&&e!==z)return i(t,H);if(a.status===gt&&0!==t.avail_in)return i(t,H);if(0!==t.avail_in||0!==a.lookahead||e!==P&&a.status!==gt){var p=a.strategy===q?y(a,e):a.strategy===V?m(a,e):C[a.level].func(a,e)
;if((p===_t||p===vt)&&(a.status=gt),p===mt||p===_t)return 0===t.avail_out&&(a.last_flush=-1),R;if(p===yt&&(e===L?T._tr_align(a):e!==$&&(T._tr_stored_block(a,0,0,!1),e===N&&(r(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),s(t),0===t.avail_out))return a.last_flush=-1,R}return e!==z?R:a.wrap<=0?B:(2===a.wrap?(u(a,255&t.adler),u(a,t.adler>>8&255),u(a,t.adler>>16&255),u(a,t.adler>>24&255),u(a,255&t.total_in),u(a,t.total_in>>8&255),u(a,t.total_in>>16&255),u(a,t.total_in>>24&255)):(c(a,t.adler>>>16),c(a,65535&t.adler)),s(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?R:B)}function x(t){var e;return t&&t.state?(e=t.state.status,e!==ct&&e!==lt&&e!==ht&&e!==ft&&e!==dt&&e!==pt&&e!==gt?i(t,M):(t.state=null,e===pt?i(t,U):R)):M}var C,O=t("../utils/common"),T=t("./trees"),F=t("./adler32"),A=t("./crc32"),D=t("./messages"),P=0,L=1,N=3,z=4,$=5,R=0,B=1,M=-2,U=-3,H=-5,j=-1,W=1,q=2,V=3,Z=4,G=0,Y=2,X=8,K=9,Q=15,J=8,tt=286,et=30,nt=19,it=2*tt+1,ot=15,rt=3,st=258,at=st+rt+1,ut=32,ct=42,lt=69,ht=73,ft=91,dt=103,pt=113,gt=666,mt=1,yt=2,_t=3,vt=4,wt=3,bt=function(t,e,n,i,o){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=o};C=[new bt(0,0,0,0,d),new bt(4,4,8,4,p),new bt(4,5,16,8,p),new bt(4,6,32,32,p),new bt(4,4,16,16,g),new bt(8,16,32,32,g),new bt(8,16,128,128,g),new bt(8,32,128,256,g),new bt(32,128,258,1024,g),new bt(32,258,258,4096,g)],n.deflateInit=I,n.deflateInit2=E,n.deflateReset=b,n.deflateResetKeep=w,n.deflateSetHeader=S,n.deflate=k,n.deflateEnd=x,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(t,e,n){"use strict";function i(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=i},{}],10:[function(t,e,n){"use strict";e.exports=function(t,e){var n,i,o,r,s,a,u,c,l,h,f,d,p,g,m,y,_,v,w,b,S,E,I,k,x;n=t.state,i=t.next_in,k=t.input,o=i+(t.avail_in-5),r=t.next_out,x=t.output,s=r-(e-t.avail_out),a=r+(t.avail_out-257),u=n.dmax,c=n.wsize,l=n.whave,h=n.wnext,f=n.window,d=n.hold,p=n.bits,g=n.lencode,m=n.distcode,y=(1<<n.lenbits)-1,_=(1<<n.distbits)-1;t:do{15>p&&(d+=k[i++]<<p,p+=8,d+=k[i++]<<p,p+=8),v=g[d&y];e:for(;;){if(w=v>>>24,d>>>=w,p-=w,0===(w=v>>>16&255))x[r++]=65535&v;else{if(!(16&w)){if(0==(64&w)){v=g[(65535&v)+(d&(1<<w)-1)];continue e}if(32&w){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}b=65535&v,w&=15,w&&(w>p&&(d+=k[i++]<<p,p+=8),b+=d&(1<<w)-1,d>>>=w,p-=w),15>p&&(d+=k[i++]<<p,p+=8,d+=k[i++]<<p,p+=8),v=m[d&_];n:for(;;){if(w=v>>>24,d>>>=w,p-=w,!(16&(w=v>>>16&255))){if(0==(64&w)){v=m[(65535&v)+(d&(1<<w)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(S=65535&v,w&=15,w>p&&(d+=k[i++]<<p,p+=8,w>p&&(d+=k[i++]<<p,p+=8)),(S+=d&(1<<w)-1)>u){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=w,p-=w,w=r-s,S>w){if((w=S-w)>l&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(E=0,I=f,0===h){if(E+=c-w,b>w){b-=w;do{x[r++]=f[E++]}while(--w);E=r-S,I=x}}else if(w>h){if(E+=c+h-w,w-=h,b>w){b-=w;do{x[r++]=f[E++]}while(--w);if(E=0,b>h){w=h,b-=w;do{x[r++]=f[E++]}while(--w);E=r-S,I=x}}}else if(E+=h-w,b>w){b-=w;do{x[r++]=f[E++]}while(--w);E=r-S,I=x}for(;b>2;)x[r++]=I[E++],x[r++]=I[E++],x[r++]=I[E++],b-=3;b&&(x[r++]=I[E++],b>1&&(x[r++]=I[E++]))}else{E=r-S;do{x[r++]=x[E++],x[r++]=x[E++],x[r++]=x[E++],b-=3}while(b>2);b&&(x[r++]=x[E++],b>1&&(x[r++]=x[E++]))}break}}break}}while(o>i&&a>r);b=p>>3,i-=b,p-=b<<3,d&=(1<<p)-1,t.next_in=i,t.next_out=r,t.avail_in=o>i?o-i+5:5-(i-o),t.avail_out=a>r?a-r+257:257-(r-a),n.hold=d,n.bits=p}},{}],11:[function(t,e,n){"use strict";function i(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function o(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new y.Buf16(320),this.work=new y.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function r(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=z,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new y.Buf32(pt),e.distcode=e.distdyn=new y.Buf32(gt),e.sane=1,e.back=-1,O):A}function s(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,r(t)):A}function a(t,e){var n,i;return t&&t.state?(i=t.state,0>e?(n=0,e=-e):(n=1+(e>>4),48>e&&(e&=15)),e&&(8>e||e>15)?A:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,s(t))):A}function u(t,e){var n,i;return t?(i=new o,t.state=i,i.window=null,n=a(t,e),n!==O&&(t.state=null),n):A}function c(t){return u(t,mt)}function l(t){if(yt){var e;for(g=new y.Buf32(512),m=new y.Buf32(32),e=0;144>e;)t.lens[e++]=8;for(;256>e;)t.lens[e++]=9;for(;280>e;)t.lens[e++]=7;for(;288>e;)t.lens[e++]=8;for(b(E,t.lens,0,288,g,0,t.work,{bits:9}),e=0;32>e;)t.lens[e++]=5;b(I,t.lens,0,32,m,0,t.work,{bits:5}),yt=!1}t.lencode=g,t.lenbits=9,t.distcode=m,t.distbits=5}function h(t,e,n,i){var o,r=t.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new y.Buf8(r.wsize)),i>=r.wsize?(y.arraySet(r.window,e,n-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):(o=r.wsize-r.wnext,o>i&&(o=i),y.arraySet(r.window,e,n-i,o,r.wnext),i-=o,i?(y.arraySet(r.window,e,n-i,i,0),r.wnext=i,r.whave=r.wsize):(r.wnext+=o,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=o))),0}function f(t,e){var n,o,r,s,a,u,c,f,d,p,g,m,pt,gt,mt,yt,_t,vt,wt,bt,St,Et,It,kt,xt=0,Ct=new y.Buf8(4),Ot=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return A;n=t.state,n.mode===Z&&(n.mode=G),a=t.next_out,r=t.output,c=t.avail_out,s=t.next_in,o=t.input,u=t.avail_in,f=n.hold,d=n.bits,p=u,g=c,Et=O;t:for(;;)switch(n.mode){case z:if(0===n.wrap){n.mode=G;break}for(;16>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}if(2&n.wrap&&35615===f){n.check=0,Ct[0]=255&f,Ct[1]=f>>>8&255,n.check=v(n.check,Ct,2,0),f=0,d=0,n.mode=$;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&f)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=ht;break}if((15&f)!==N){t.msg="unknown compression method",n.mode=ht;break}if(f>>>=4,d-=4,St=8+(15&f),0===n.wbits)n.wbits=St;else if(St>n.wbits){t.msg="invalid window size",n.mode=ht;break}n.dmax=1<<St,t.adler=n.check=1,n.mode=512&f?q:Z,f=0,d=0;break;case $:for(;16>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}if(n.flags=f,(255&n.flags)!==N){t.msg="unknown compression method",n.mode=ht;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=ht;break}n.head&&(n.head.text=f>>8&1),512&n.flags&&(Ct[0]=255&f,Ct[1]=f>>>8&255,n.check=v(n.check,Ct,2,0)),f=0,d=0,n.mode=R;case R:for(;32>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}n.head&&(n.head.time=f),512&n.flags&&(Ct[0]=255&f,Ct[1]=f>>>8&255,Ct[2]=f>>>16&255,Ct[3]=f>>>24&255,n.check=v(n.check,Ct,4,0)),f=0,d=0,n.mode=B;case B:for(;16>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}n.head&&(n.head.xflags=255&f,n.head.os=f>>8),512&n.flags&&(Ct[0]=255&f,Ct[1]=f>>>8&255,n.check=v(n.check,Ct,2,0)),f=0,d=0,n.mode=M;case M:if(1024&n.flags){for(;16>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}n.length=f,n.head&&(n.head.extra_len=f),512&n.flags&&(Ct[0]=255&f,Ct[1]=f>>>8&255,n.check=v(n.check,Ct,2,0)),f=0,d=0}else n.head&&(n.head.extra=null);n.mode=U;case U:if(1024&n.flags&&(m=n.length,m>u&&(m=u),m&&(n.head&&(St=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),y.arraySet(n.head.extra,o,s,m,St)),512&n.flags&&(n.check=v(n.check,o,m,s)),u-=m,s+=m,n.length-=m),n.length))break t;n.length=0,n.mode=H;case H:if(2048&n.flags){if(0===u)break t;m=0;do{St=o[s+m++],n.head&&St&&n.length<65536&&(n.head.name+=String.fromCharCode(St))}while(St&&u>m);if(512&n.flags&&(n.check=v(n.check,o,m,s)),u-=m,s+=m,St)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=j;case j:if(4096&n.flags){if(0===u)break t;m=0;do{St=o[s+m++],n.head&&St&&n.length<65536&&(n.head.comment+=String.fromCharCode(St))}while(St&&u>m);if(512&n.flags&&(n.check=v(n.check,o,m,s)),u-=m,s+=m,St)break t}else n.head&&(n.head.comment=null);n.mode=W;case W:if(512&n.flags){for(;16>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}if(f!==(65535&n.check)){t.msg="header crc mismatch",n.mode=ht;break}f=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Z;break;case q:for(;32>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}t.adler=n.check=i(f),f=0,d=0,n.mode=V;case V:if(0===n.havedict)return t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=u,n.hold=f,n.bits=d,F;t.adler=n.check=1,n.mode=Z;case Z:if(e===x||e===C)break t;case G:if(n.last){f>>>=7&d,d-=7&d,n.mode=ut;break}for(;3>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}switch(n.last=1&f,f>>>=1,d-=1,3&f){case 0:n.mode=Y;break;case 1:if(l(n),n.mode=et,e===C){f>>>=2,d-=2;break t}break;case 2:n.mode=Q;break;case 3:t.msg="invalid block type",n.mode=ht}f>>>=2,d-=2;break;case Y:for(f>>>=7&d,d-=7&d;32>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}if((65535&f)!=(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=ht;break}if(n.length=65535&f,f=0,d=0,n.mode=X,e===C)break t;case X:n.mode=K;case K:if(m=n.length){if(m>u&&(m=u),m>c&&(m=c),0===m)break t;y.arraySet(r,o,s,m,a),u-=m,s+=m,c-=m,a+=m,n.length-=m;break}n.mode=Z;break;case Q:for(;14>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}if(n.nlen=257+(31&f),f>>>=5,d-=5,n.ndist=1+(31&f),f>>>=5,d-=5,n.ncode=4+(15&f),f>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=ht;break}n.have=0,n.mode=J;case J:for(;n.have<n.ncode;){for(;3>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}n.lens[Ot[n.have++]]=7&f,f>>>=3,d-=3}for(;n.have<19;)n.lens[Ot[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,It={bits:n.lenbits},Et=b(S,n.lens,0,19,n.lencode,0,n.work,It),n.lenbits=It.bits,Et){t.msg="invalid code lengths set",n.mode=ht;break}n.have=0,n.mode=tt;case tt:for(;n.have<n.nlen+n.ndist;){for(;xt=n.lencode[f&(1<<n.lenbits)-1],mt=xt>>>24,yt=xt>>>16&255,_t=65535&xt,!(d>=mt);){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}if(16>_t)f>>>=mt,d-=mt,n.lens[n.have++]=_t;else{if(16===_t){for(kt=mt+2;kt>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}if(f>>>=mt,d-=mt,0===n.have){t.msg="invalid bit length repeat",n.mode=ht;break}St=n.lens[n.have-1],m=3+(3&f),f>>>=2,d-=2}else if(17===_t){for(kt=mt+3;kt>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}f>>>=mt,d-=mt,St=0,m=3+(7&f),f>>>=3,d-=3}else{for(kt=mt+7;kt>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}f>>>=mt,d-=mt,St=0,m=11+(127&f),f>>>=7,d-=7}if(n.have+m>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=ht;break}for(;m--;)n.lens[n.have++]=St}}if(n.mode===ht)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=ht;break}if(n.lenbits=9,It={bits:n.lenbits},Et=b(E,n.lens,0,n.nlen,n.lencode,0,n.work,It),n.lenbits=It.bits,Et){t.msg="invalid literal/lengths set",n.mode=ht;break}if(n.distbits=6,n.distcode=n.distdyn,It={bits:n.distbits},Et=b(I,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,It),n.distbits=It.bits,Et){t.msg="invalid distances set",n.mode=ht;break}if(n.mode=et,e===C)break t;case et:n.mode=nt;case nt:if(u>=6&&c>=258){t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=u,n.hold=f,n.bits=d,w(t,g),a=t.next_out,r=t.output,c=t.avail_out,s=t.next_in,o=t.input,u=t.avail_in,f=n.hold,d=n.bits,n.mode===Z&&(n.back=-1);break}for(n.back=0;xt=n.lencode[f&(1<<n.lenbits)-1],mt=xt>>>24,yt=xt>>>16&255,_t=65535&xt,!(d>=mt);){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}if(yt&&0==(240&yt)){for(vt=mt,wt=yt,bt=_t;xt=n.lencode[bt+((f&(1<<vt+wt)-1)>>vt)],mt=xt>>>24,yt=xt>>>16&255,_t=65535&xt,!(d>=vt+mt);){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}f>>>=vt,d-=vt,n.back+=vt}if(f>>>=mt,d-=mt,n.back+=mt,n.length=_t,0===yt){n.mode=at;break}if(32&yt){n.back=-1,n.mode=Z;break}if(64&yt){t.msg="invalid literal/length code",n.mode=ht;break}n.extra=15&yt,n.mode=it;case it:if(n.extra){for(kt=n.extra;kt>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=ot;case ot:for(;xt=n.distcode[f&(1<<n.distbits)-1],mt=xt>>>24,yt=xt>>>16&255,_t=65535&xt,!(d>=mt);){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}if(0==(240&yt)){for(vt=mt,wt=yt,bt=_t;xt=n.distcode[bt+((f&(1<<vt+wt)-1)>>vt)],mt=xt>>>24,yt=xt>>>16&255,_t=65535&xt,!(d>=vt+mt);){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}f>>>=vt,d-=vt,n.back+=vt}if(f>>>=mt,d-=mt,n.back+=mt,64&yt){t.msg="invalid distance code",n.mode=ht;break}n.offset=_t,n.extra=15&yt,n.mode=rt;case rt:if(n.extra){for(kt=n.extra;kt>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ht;break}n.mode=st;case st:if(0===c)break t;if(m=g-c,n.offset>m){if((m=n.offset-m)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=ht;break}m>n.wnext?(m-=n.wnext,pt=n.wsize-m):pt=n.wnext-m,m>n.length&&(m=n.length),gt=n.window}else gt=r,pt=a-n.offset,m=n.length;m>c&&(m=c),c-=m,n.length-=m;do{r[a++]=gt[pt++]}while(--m);0===n.length&&(n.mode=nt);break;case at:if(0===c)break t;r[a++]=n.length,c--,n.mode=nt;break;case ut:if(n.wrap){for(;32>d;){if(0===u)break t;u--,f|=o[s++]<<d,d+=8}if(g-=c,t.total_out+=g,n.total+=g,g&&(t.adler=n.check=n.flags?v(n.check,r,g,a-g):_(n.check,r,g,a-g)),g=c,(n.flags?f:i(f))!==n.check){t.msg="incorrect data check",n.mode=ht;break}f=0,d=0}n.mode=ct;case ct:if(n.wrap&&n.flags){for(;32>d;){if(0===u)break t;u--,f+=o[s++]<<d,d+=8}if(f!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=ht;break}f=0,d=0}n.mode=lt;case lt:Et=T;break t;case ht:Et=D;break t;case ft:return P;case dt:default:return A}return t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=u,n.hold=f,n.bits=d,(n.wsize||g!==t.avail_out&&n.mode<ht&&(n.mode<ut||e!==k))&&h(t,t.output,t.next_out,g-t.avail_out)?(n.mode=ft,P):(p-=t.avail_in,g-=t.avail_out,t.total_in+=p,t.total_out+=g,n.total+=g,n.wrap&&g&&(t.adler=n.check=n.flags?v(n.check,r,g,t.next_out-g):_(n.check,r,g,t.next_out-g)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Z?128:0)+(n.mode===et||n.mode===X?256:0),(0===p&&0===g||e===k)&&Et===O&&(Et=L),Et)}function d(t){if(!t||!t.state)return A;var e=t.state;return e.window&&(e.window=null),t.state=null,O}function p(t,e){var n;return t&&t.state?(n=t.state,0==(2&n.wrap)?A:(n.head=e,e.done=!1,O)):A}var g,m,y=t("../utils/common"),_=t("./adler32"),v=t("./crc32"),w=t("./inffast"),b=t("./inftrees"),S=0,E=1,I=2,k=4,x=5,C=6,O=0,T=1,F=2,A=-2,D=-3,P=-4,L=-5,N=8,z=1,$=2,R=3,B=4,M=5,U=6,H=7,j=8,W=9,q=10,V=11,Z=12,G=13,Y=14,X=15,K=16,Q=17,J=18,tt=19,et=20,nt=21,it=22,ot=23,rt=24,st=25,at=26,ut=27,ct=28,lt=29,ht=30,ft=31,dt=32,pt=852,gt=592,mt=15,yt=!0;n.inflateReset=s,n.inflateReset2=a,n.inflateResetKeep=r,n.inflateInit=c,n.inflateInit2=u,n.inflate=f,n.inflateEnd=d,n.inflateGetHeader=p,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(t,e,n){"use strict";var i=t("../utils/common"),o=15,r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,c,l,h,f,d){var p,g,m,y,_,v,w,b,S,E=d.bits,I=0,k=0,x=0,C=0,O=0,T=0,F=0,A=0,D=0,P=0,L=null,N=0,z=new i.Buf16(16),$=new i.Buf16(16),R=null,B=0;for(I=0;o>=I;I++)z[I]=0;for(k=0;c>k;k++)z[e[n+k]]++;for(O=E,C=o;C>=1&&0===z[C];C--);if(O>C&&(O=C),0===C)return l[h++]=20971520,l[h++]=20971520,d.bits=1,0;for(x=1;C>x&&0===z[x];x++);for(x>O&&(O=x),A=1,I=1;o>=I;I++)if(A<<=1,0>(A-=z[I]))return-1;if(A>0&&(0===t||1!==C))return-1;for($[1]=0,I=1;o>I;I++)$[I+1]=$[I]+z[I];for(k=0;c>k;k++)0!==e[n+k]&&(f[$[e[n+k]]++]=k);if(0===t?(L=R=f,v=19):1===t?(L=r,N-=257,R=s,B-=257,v=256):(L=a,R=u,v=-1),P=0,k=0,I=x,_=h,T=O,F=0,m=-1,D=1<<O,y=D-1,1===t&&D>852||2===t&&D>592)return 1;for(var M=0;;){M++,w=I-F,f[k]<v?(b=0,S=f[k]):f[k]>v?(b=R[B+f[k]],S=L[N+f[k]]):(b=96,S=0),p=1<<I-F,g=1<<T,x=g;do{g-=p,l[_+(P>>F)+g]=w<<24|b<<16|S|0}while(0!==g);for(p=1<<I-1;P&p;)p>>=1;if(0!==p?(P&=p-1,P+=p):P=0,k++,0==--z[I]){if(I===C)break;I=e[n+f[k]]}if(I>O&&(P&y)!==m){for(0===F&&(F=O),_+=x,T=I-F,A=1<<T;C>T+F&&!(0>=(A-=z[T+F]));)T++,A<<=1;if(D+=1<<T,1===t&&D>852||2===t&&D>592)return 1;m=P&y,l[m]=O<<24|T<<16|_-h|0}}return 0!==P&&(l[_+P]=I-F<<24|64<<16|0),d.bits=O,0}},{"../utils/common":3}],13:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(t,e,n){"use strict";function i(t){for(var e=t.length;--e>=0;)t[e]=0}function o(t){return 256>t?it[t]:it[256+(t>>>7)]}function r(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function s(t,e,n){t.bi_valid>q-n?(t.bi_buf|=e<<t.bi_valid&65535,r(t,t.bi_buf),t.bi_buf=e>>q-t.bi_valid,t.bi_valid+=n-q):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function a(t,e,n){s(t,n[2*e],n[2*e+1])}function u(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function c(t){16===t.bi_valid?(r(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function l(t,e){var n,i,o,r,s,a,u=e.dyn_tree,c=e.max_code,l=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(r=0;W>=r;r++)t.bl_count[r]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;j>n;n++)i=t.heap[n],r=u[2*u[2*i+1]+1]+1,r>p&&(r=p,g++),u[2*i+1]=r,i>c||(t.bl_count[r]++,s=0,i>=d&&(s=f[i-d]),a=u[2*i],t.opt_len+=a*(r+s),h&&(t.static_len+=a*(l[2*i+1]+s)));if(0!==g){do{for(r=p-1;0===t.bl_count[r];)r--;t.bl_count[r]--,t.bl_count[r+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(r=p;0!==r;r--)for(i=t.bl_count[r];0!==i;)(o=t.heap[--n])>c||(u[2*o+1]!==r&&(t.opt_len+=(r-u[2*o+1])*u[2*o],u[2*o+1]=r),i--)}}function h(t,e,n){var i,o,r=new Array(W+1),s=0;for(i=1;W>=i;i++)r[i]=s=s+n[i-1]<<1;for(o=0;e>=o;o++){var a=t[2*o+1];0!==a&&(t[2*o]=u(r[a]++,a))}}function f(){var t,e,n,i,o,r=new Array(W+1);for(n=0,i=0;R-1>i;i++)for(rt[i]=n,t=0;t<1<<K[i];t++)ot[n++]=i;for(ot[n-1]=i,o=0,i=0;16>i;i++)for(st[i]=o,t=0;t<1<<Q[i];t++)it[o++]=i;for(o>>=7;U>i;i++)for(st[i]=o<<7,t=0;t<1<<Q[i]-7;t++)it[256+o++]=i;for(e=0;W>=e;e++)r[e]=0;for(t=0;143>=t;)et[2*t+1]=8,t++,r[8]++;for(;255>=t;)et[2*t+1]=9,t++,r[9]++;for(;279>=t;)et[2*t+1]=7,t++,r[7]++;for(;287>=t;)et[2*t+1]=8,t++,r[8]++;for(h(et,M+1,r),t=0;U>t;t++)nt[2*t+1]=5,nt[2*t]=u(t,5);at=new lt(et,K,B+1,M,W),ut=new lt(nt,Q,0,U,W),ct=new lt(new Array(0),J,0,H,V)}function d(t){var e;for(e=0;M>e;e++)t.dyn_ltree[2*e]=0;for(e=0;U>e;e++)t.dyn_dtree[2*e]=0;for(e=0;H>e;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*Z]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function p(t){t.bi_valid>8?r(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function g(t,e,n,i){p(t),i&&(r(t,n),r(t,~n)),F.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function m(t,e,n,i){var o=2*e,r=2*n;return t[o]<t[r]||t[o]===t[r]&&i[e]<=i[n]}function y(t,e,n){for(var i=t.heap[n],o=n<<1;o<=t.heap_len&&(o<t.heap_len&&m(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!m(e,i,t.heap[o],t.depth));)t.heap[n]=t.heap[o],n=o,o<<=1;t.heap[n]=i}function _(t,e,n){var i,r,u,c,l=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*l]<<8|t.pending_buf[t.d_buf+2*l+1],r=t.pending_buf[t.l_buf+l],l++,0===i?a(t,r,e):(u=ot[r],a(t,u+B+1,e),c=K[u],0!==c&&(r-=rt[u],s(t,r,c)),i--,u=o(i),a(t,u,n),0!==(c=Q[u])&&(i-=st[u],s(t,i,c)))}while(l<t.last_lit);a(t,Z,e)}function v(t,e){var n,i,o,r=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,u=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=j,n=0;u>n;n++)0!==r[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):r[2*n+1]=0;for(;t.heap_len<2;)o=t.heap[++t.heap_len]=2>c?++c:0,r[2*o]=1,t.depth[o]=0,t.opt_len--,a&&(t.static_len-=s[2*o+1]);for(e.max_code=c,n=t.heap_len>>1;n>=1;n--)y(t,r,n);o=u;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],y(t,r,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,r[2*o]=r[2*n]+r[2*i],t.depth[o]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,r[2*n+1]=r[2*i+1]=o,t.heap[1]=o++,y(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],l(t,e),h(r,c,t.bl_count)}function w(t,e,n){var i,o,r=-1,s=e[1],a=0,u=7,c=4;for(0===s&&(u=138,c=3),e[2*(n+1)+1]=65535,i=0;n>=i;i++)o=s,s=e[2*(i+1)+1],++a<u&&o===s||(c>a?t.bl_tree[2*o]+=a:0!==o?(o!==r&&t.bl_tree[2*o]++,t.bl_tree[2*G]++):10>=a?t.bl_tree[2*Y]++:t.bl_tree[2*X]++,a=0,r=o,0===s?(u=138,c=3):o===s?(u=6,c=3):(u=7,c=4))}function b(t,e,n){var i,o,r=-1,u=e[1],c=0,l=7,h=4;for(0===u&&(l=138,h=3),i=0;n>=i;i++)if(o=u,u=e[2*(i+1)+1],!(++c<l&&o===u)){if(h>c)do{a(t,o,t.bl_tree)}while(0!=--c);else 0!==o?(o!==r&&(a(t,o,t.bl_tree),c--),a(t,G,t.bl_tree),s(t,c-3,2)):10>=c?(a(t,Y,t.bl_tree),s(t,c-3,3)):(a(t,X,t.bl_tree),s(t,c-11,7));c=0,r=o,0===u?(l=138,h=3):o===u?(l=6,h=3):(l=7,h=4)}}function S(t){var e;for(w(t,t.dyn_ltree,t.l_desc.max_code),w(t,t.dyn_dtree,t.d_desc.max_code),v(t,t.bl_desc),e=H-1;e>=3&&0===t.bl_tree[2*tt[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function E(t,e,n,i){var o;for(s(t,e-257,5),s(t,n-1,5),s(t,i-4,4),o=0;i>o;o++)s(t,t.bl_tree[2*tt[o]+1],3);b(t,t.dyn_ltree,e-1),b(t,t.dyn_dtree,n-1)}function I(t){var e,n=4093624447;for(e=0;31>=e;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return D;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return P;for(e=32;B>e;e++)if(0!==t.dyn_ltree[2*e])return P;return D}function k(t){ft||(f(),ft=!0),t.l_desc=new ht(t.dyn_ltree,at),t.d_desc=new ht(t.dyn_dtree,ut),t.bl_desc=new ht(t.bl_tree,ct),t.bi_buf=0,t.bi_valid=0,d(t)}function x(t,e,n,i){s(t,(N<<1)+(i?1:0),3),g(t,e,n,!0)}function C(t){s(t,z<<1,3),a(t,Z,et),c(t)}function O(t,e,n,i){var o,r,a=0;t.level>0?(t.strm.data_type===L&&(t.strm.data_type=I(t)),v(t,t.l_desc),v(t,t.d_desc),a=S(t),o=t.opt_len+3+7>>>3,r=t.static_len+3+7>>>3,o>=r&&(o=r)):o=r=n+5,o>=n+4&&-1!==e?x(t,e,n,i):t.strategy===A||r===o?(s(t,(z<<1)+(i?1:0),3),_(t,et,nt)):(s(t,($<<1)+(i?1:0),3),E(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),_(t,t.dyn_ltree,t.dyn_dtree)),d(t),i&&p(t)}function T(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(ot[n]+B+1)]++,t.dyn_dtree[2*o(e)]++),t.last_lit===t.lit_bufsize-1}var F=t("../utils/common"),A=4,D=0,P=1,L=2,N=0,z=1,$=2,R=29,B=256,M=B+1+R,U=30,H=19,j=2*M+1,W=15,q=16,V=7,Z=256,G=16,Y=17,X=18,K=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],J=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],tt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],et=new Array(2*(M+2));i(et);var nt=new Array(2*U);i(nt);var it=new Array(512);i(it);var ot=new Array(256);i(ot);var rt=new Array(R);i(rt);var st=new Array(U);i(st);var at,ut,ct,lt=function(t,e,n,i,o){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=o,this.has_stree=t&&t.length},ht=function(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e},ft=!1;n._tr_init=k,n._tr_stored_block=x,n._tr_flush_block=O,n._tr_tally=T,n._tr_align=C},{"../utils/common":3}],15:[function(t,e,n){"use strict";function i(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=i},{}],"/":[function(t,e,n){"use strict";var i=t("./lib/utils/common").assign,o=t("./lib/deflate"),r=t("./lib/inflate"),s=t("./lib/zlib/constants"),a={};i(a,o,r,s),e.exports=a},{"./lib/deflate":1,"./lib/inflate":2,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/")}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.ProgressBar=t()}}(function(){var t;return function t(e,n,i){function o(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return o(n||t)},l,l.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,n,i){(function(){var e=this||Function("return this")(),o=function(){"use strict";function o(){}function r(t,e){var n;for(n in t)Object.hasOwnProperty.call(t,n)&&e(n)}function s(t,e){return r(e,function(n){t[n]=e[n]}),t}function a(t,e){r(e,function(n){void 0===t[n]&&(t[n]=e[n])})}function u(t,e,n,i,o,r,s){var a,u,l,h=r>t?0:(t-r)/o;for(a in e)e.hasOwnProperty(a)&&(u=s[a],l="function"==typeof u?u:p[u],e[a]=c(n[a],i[a],l,h));return e}function c(t,e,n,i){return t+(e-t)*n(i)}function l(t,e){var n=d.prototype.filter,i=t._filterArgs;r(n,function(o){void 0!==n[o][e]&&n[o][e].apply(t,i)})}function h(t,e,n,i,o,r,s,a,c,h,f){w=e+n+i,b=Math.min(f||v(),w),S=b>=w,E=i-(w-b),t.isPlaying()&&(S?(c(s,t._attachment,E),t.stop(!0)):(t._scheduleId=h(t._timeoutHandler,y),l(t,"beforeTween"),e+n>b?u(1,o,r,s,1,1,a):u(b,o,r,s,i,e+n,a),l(t,"afterTween"),c(o,t._attachment,E)))}function f(t,e){var n={},i=typeof e;return"string"===i||"function"===i?r(t,function(t){n[t]=e}):r(t,function(t){n[t]||(n[t]=e[t]||m)}),n}function d(t,e){this._currentState=t||{},this._configured=!1,this._scheduleFunction=g,void 0!==e&&this.setConfig(e)}var p,g,m="linear",y=1e3/60,_=Date.now?Date.now:function(){return+new Date},v="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:_;g="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout:setTimeout;var w,b,S,E;return d.prototype.tween=function(t){return this._isTweening?this:(void 0===t&&this._configured||this.setConfig(t),this._timestamp=v(),this._start(this.get(),this._attachment),this.resume())},d.prototype.setConfig=function(t){t=t||{},this._configured=!0,this._attachment=t.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=t.delay||0,this._start=t.start||o,this._step=t.step||o,this._finish=t.finish||o,this._duration=t.duration||500,this._currentState=s({},t.from)||this.get(),this._originalState=this.get(),this._targetState=s({},t.to)||this.get();var e=this;this._timeoutHandler=function(){h(e,e._timestamp,e._delay,e._duration,e._currentState,e._originalState,e._targetState,e._easing,e._step,e._scheduleFunction)};var n=this._currentState,i=this._targetState;return a(i,n),this._easing=f(n,t.easing||m),this._filterArgs=[n,this._originalState,i,this._easing],l(this,"tweenCreated"),this},d.prototype.get=function(){return s({},this._currentState)},d.prototype.set=function(t){this._currentState=t},d.prototype.pause=function(){return this._pausedAtTime=v(),this._isPaused=!0,this},d.prototype.resume=function(){return this._isPaused&&(this._timestamp+=v()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},d.prototype.seek=function(t){t=Math.max(t,0);var e=v();return this._timestamp+t===0?this:(this._timestamp=e-t,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,h(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,e),this.pause()),this)},d.prototype.stop=function(t){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=o,(e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.oCancelAnimationFrame||e.msCancelAnimationFrame||e.mozCancelRequestAnimationFrame||e.clearTimeout)(this._scheduleId),t&&(l(this,"beforeTween"),u(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),l(this,"afterTween"),l(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},d.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},d.prototype.setScheduleFunction=function(t){this._scheduleFunction=t},d.prototype.dispose=function(){var t;for(t in this)this.hasOwnProperty(t)&&delete this[t]},d.prototype.filter={},d.prototype.formula={linear:function(t){return t}},p=d.prototype.formula,s(d,{now:v,each:r,tweenProps:u,tweenProp:c,applyFilter:l,shallowCopy:s,defaults:a,composeEasingObject:f}),"function"==typeof SHIFTY_DEBUG_NOW&&(e.timeoutHandler=h),"object"==typeof i?n.exports=d:"function"==typeof t&&t.amd?t(function(){return d}):void 0===e.Tweenable&&(e.Tweenable=d),d}();!function(){o.shallowCopy(o.prototype.formula,{easeInQuad:function(t){return Math.pow(t,2)},easeOutQuad:function(t){return-(Math.pow(t-1,2)-1)},easeInOutQuad:function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},easeInCubic:function(t){return Math.pow(t,3)},easeOutCubic:function(t){return Math.pow(t-1,3)+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},easeInQuart:function(t){return Math.pow(t,4)},easeOutQuart:function(t){return-(Math.pow(t-1,4)-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeInQuint:function(t){return Math.pow(t,5)},easeOutQuint:function(t){return Math.pow(t-1,5)+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-Math.pow(t-1,2))},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeOutBounce:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},elastic:function(t){return-1*Math.pow(4,-8*t)*Math.sin((6*t-1)*(2*Math.PI)/2)+1},swingFromTo:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},swingFrom:function(t){var e=1.70158;return t*t*((e+1)*t-e)},swingTo:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},bounce:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bouncePast:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?2-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},easeFromTo:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeFrom:function(t){return Math.pow(t,4)},easeTo:function(t){return Math.pow(t,.25)}})}(),function(){function t(t,e,n,i,o,r){function s(t){return((h*t+f)*t+d)*t}function a(t){return((p*t+g)*t+m)*t
}function u(t){return(3*h*t+2*f)*t+d}function c(t){return t>=0?t:0-t}function l(t,e){var n,i,o,r,a,l;for(o=t,l=0;8>l;l++){if(r=s(o)-t,c(r)<e)return o;if(a=u(o),c(a)<1e-6)break;o-=r/a}if(n=0,i=1,o=t,n>o)return n;if(o>i)return i;for(;i>n;){if(r=s(o),c(r-t)<e)return o;t>r?n=o:i=o,o=.5*(i-n)+n}return o}var h=0,f=0,d=0,p=0,g=0,m=0;return d=3*e,f=3*(i-e)-d,h=1-d-f,m=3*n,g=3*(o-n)-m,p=1-m-g,function(t,e){return a(l(t,e))}(t,function(t){return 1/(200*t)}(r))}function e(e,n,i,o){return function(r){return t(r,e,n,i,o,1)}}o.setBezierFunction=function(t,n,i,r,s){var a=e(n,i,r,s);return a.displayName=t,a.x1=n,a.y1=i,a.x2=r,a.y2=s,o.prototype.formula[t]=a},o.unsetBezierFunction=function(t){delete o.prototype.formula[t]}}(),function(){function t(t,e,n,i,r,s){return o.tweenProps(i,e,t,n,1,s,r)}var e=new o;e._filterArgs=[],o.interpolate=function(n,i,r,s,a){var u=o.shallowCopy({},n),c=a||0,l=o.composeEasingObject(n,s||"linear");e.set({});var h=e._filterArgs;h.length=0,h[0]=u,h[1]=n,h[2]=i,h[3]=l,o.applyFilter(e,"tweenCreated"),o.applyFilter(e,"beforeTween");var f=t(n,u,i,r,l,c);return o.applyFilter(e,"afterTween"),f}}(),function(t){function e(t,e){var n,i=[],o=t.length;for(n=0;o>n;n++)i.push("_"+e+"_"+n);return i}function n(t){var e=t.match(b);return e?(1===e.length||t[0].match(w))&&e.unshift(""):e=["",""],e.join(x)}function i(e){t.each(e,function(t){var n=e[t];"string"==typeof n&&n.match(k)&&(e[t]=o(n))})}function o(t){return u(k,t,r)}function r(t){var e=s(t);return"rgb("+e[0]+","+e[1]+","+e[2]+")"}function s(t){return t=t.replace(/#/,""),3===t.length&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),C[0]=a(t.substr(0,2)),C[1]=a(t.substr(2,2)),C[2]=a(t.substr(4,2)),C}function a(t){return parseInt(t,16)}function u(t,e,n){var i=e.match(t),o=e.replace(t,x);if(i)for(var r,s=i.length,a=0;s>a;a++)r=i.shift(),o=o.replace(x,n(r));return o}function c(t){return u(E,t,l)}function l(t){for(var e=t.match(S),n=e.length,i=t.match(I)[0],o=0;n>o;o++)i+=parseInt(e[o],10)+",";return i=i.slice(0,-1)+")"}function h(i){var o={};return t.each(i,function(t){var r=i[t];if("string"==typeof r){var s=y(r);o[t]={formatString:n(r),chunkNames:e(s,t)}}}),o}function f(e,n){t.each(n,function(t){for(var i=e[t],o=y(i),r=o.length,s=0;r>s;s++)e[n[t].chunkNames[s]]=+o[s];delete e[t]})}function d(e,n){t.each(n,function(t){var i=e[t],o=p(e,n[t].chunkNames),r=g(o,n[t].chunkNames);i=m(n[t].formatString,r),e[t]=c(i)})}function p(t,e){for(var n,i={},o=e.length,r=0;o>r;r++)n=e[r],i[n]=t[n],delete t[n];return i}function g(t,e){O.length=0;for(var n=e.length,i=0;n>i;i++)O.push(t[e[i]]);return O}function m(t,e){for(var n=t,i=e.length,o=0;i>o;o++)n=n.replace(x,+e[o].toFixed(4));return n}function y(t){return t.match(S)}function _(e,n){t.each(n,function(t){var i,o=n[t],r=o.chunkNames,s=r.length,a=e[t];if("string"==typeof a){var u=a.split(" "),c=u[u.length-1];for(i=0;s>i;i++)e[r[i]]=u[i]||c}else for(i=0;s>i;i++)e[r[i]]=a;delete e[t]})}function v(e,n){t.each(n,function(t){var i=n[t],o=i.chunkNames,r=o.length,s=e[o[0]];if("string"==typeof s){for(var a="",u=0;r>u;u++)a+=" "+e[o[u]],delete e[o[u]];e[t]=a.substr(1)}else e[t]=s})}var w=/(\d|\-|\.)/,b=/([^\-0-9\.]+)/g,S=/[0-9.\-]+/g,E=new RegExp("rgb\\("+S.source+/,\s*/.source+S.source+/,\s*/.source+S.source+"\\)","g"),I=/^.*\(/,k=/#([0-9]|[a-f]){3,6}/gi,x="VAL",C=[],O=[];t.prototype.filter.token={tweenCreated:function(t,e,n,o){i(t),i(e),i(n),this._tokenData=h(t)},beforeTween:function(t,e,n,i){_(i,this._tokenData),f(t,this._tokenData),f(e,this._tokenData),f(n,this._tokenData)},afterTween:function(t,e,n,i){d(t,this._tokenData),d(e,this._tokenData),d(n,this._tokenData),v(i,this._tokenData)}}}(o)}).call(null)},{}],2:[function(t,e,n){var i=t("./shape"),o=t("./utils"),r=function(t,e){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",this.containerAspectRatio=1,i.apply(this,arguments)};r.prototype=new i,r.prototype.constructor=r,r.prototype._pathString=function(t){var e=t.strokeWidth;t.trailWidth&&t.trailWidth>t.strokeWidth&&(e=t.trailWidth);var n=50-e/2;return o.render(this._pathTemplate,{radius:n,"2radius":2*n})},r.prototype._trailString=function(t){return this._pathString(t)},e.exports=r},{"./shape":7,"./utils":8}],3:[function(t,e,n){var i=t("./shape"),o=t("./utils"),r=function(t,e){this._pathTemplate="M 0,{center} L 100,{center}",i.apply(this,arguments)};r.prototype=new i,r.prototype.constructor=r,r.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 "+e.strokeWidth),t.setAttribute("preserveAspectRatio","none")},r.prototype._pathString=function(t){return o.render(this._pathTemplate,{center:t.strokeWidth/2})},r.prototype._trailString=function(t){return this._pathString(t)},e.exports=r},{"./shape":7,"./utils":8}],4:[function(t,e,n){e.exports={Line:t("./line"),Circle:t("./circle"),SemiCircle:t("./semicircle"),Path:t("./path"),Shape:t("./shape"),utils:t("./utils")}},{"./circle":2,"./line":3,"./path":5,"./semicircle":6,"./shape":7,"./utils":8}],5:[function(t,e,n){var i=t("shifty"),o=t("./utils"),r={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},s=function t(e,n){if(!(this instanceof t))throw new Error("Constructor was called without new keyword");n=o.extend({duration:800,easing:"linear",from:{},to:{},step:function(){}},n);var i;i=o.isString(e)?document.querySelector(e):e,this.path=i,this._opts=n,this._tweenable=null;var r=this.path.getTotalLength();this.path.style.strokeDasharray=r+" "+r,this.set(0)};s.prototype.value=function(){var t=this._getComputedDashOffset(),e=this.path.getTotalLength(),n=1-t/e;return parseFloat(n.toFixed(6),10)},s.prototype.set=function(t){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(t);var e=this._opts.step;if(o.isFunction(e)){var n=this._easing(this._opts.easing);e(this._calculateTo(t,n),this._opts.shape||this,this._opts.attachment)}},s.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},s.prototype.animate=function(t,e,n){e=e||{},o.isFunction(e)&&(n=e,e={});var r=o.extend({},e),s=o.extend({},this._opts);e=o.extend(s,e);var a=this._easing(e.easing),u=this._resolveFromAndTo(t,a,r);this.stop(),this.path.getBoundingClientRect();var c=this._getComputedDashOffset(),l=this._progressToOffset(t),h=this;this._tweenable=new i,this._tweenable.tween({from:o.extend({offset:c},u.from),to:o.extend({offset:l},u.to),duration:e.duration,easing:a,step:function(t){h.path.style.strokeDashoffset=t.offset;var n=e.shape||h;e.step(t,n,e.attachment)},finish:function(t){o.isFunction(n)&&n()}})},s.prototype._getComputedDashOffset=function(){var t=window.getComputedStyle(this.path,null);return parseFloat(t.getPropertyValue("stroke-dashoffset"),10)},s.prototype._progressToOffset=function(t){var e=this.path.getTotalLength();return e-t*e},s.prototype._resolveFromAndTo=function(t,e,n){return n.from&&n.to?{from:n.from,to:n.to}:{from:this._calculateFrom(e),to:this._calculateTo(t,e)}},s.prototype._calculateFrom=function(t){return i.interpolate(this._opts.from,this._opts.to,this.value(),t)},s.prototype._calculateTo=function(t,e){return i.interpolate(this._opts.from,this._opts.to,t,e)},s.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable=null)},s.prototype._easing=function(t){return r.hasOwnProperty(t)?r[t]:t},e.exports=s},{"./utils":8,shifty:1}],6:[function(t,e,n){var i=t("./shape"),o=t("./circle"),r=t("./utils"),s=function(t,e){this._pathTemplate="M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0",this.containerAspectRatio=2,i.apply(this,arguments)};s.prototype=new i,s.prototype.constructor=s,s.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 50")},s.prototype._initializeTextContainer=function(t,e,n){t.text.style&&(n.style.top="auto",n.style.bottom="0",t.text.alignToBottom?r.setStyle(n,"transform","translate(-50%, 0)"):r.setStyle(n,"transform","translate(-50%, 50%)"))},s.prototype._pathString=o.prototype._pathString,s.prototype._trailString=o.prototype._trailString,e.exports=s},{"./circle":2,"./shape":7,"./utils":8}],7:[function(t,e,n){var i=t("./path"),o=t("./utils"),r="Object is destroyed",s=function t(e,n){if(!(this instanceof t))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=o.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},autoStyleContainer:!0,alignToBottom:!0,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%"},warnings:!1},n,!0),o.isObject(n)&&void 0!==n.svgStyle&&(this._opts.svgStyle=n.svgStyle),o.isObject(n)&&o.isObject(n.text)&&void 0!==n.text.style&&(this._opts.text.style=n.text.style);var r,s=this._createSvgView(this._opts);if(!(r=o.isString(e)?document.querySelector(e):e))throw new Error("Container does not exist: "+e);this._container=r,this._container.appendChild(s.svg),this._opts.warnings&&this._warnContainerAspectRatio(this._container),this._opts.svgStyle&&o.setStyles(s.svg,this._opts.svgStyle),this.svg=s.svg,this.path=s.path,this.trail=s.trail,this.text=null;var a=o.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new i(s.path,a),o.isObject(this._opts.text)&&null!==this._opts.text.value&&this.setText(this._opts.text.value)}};s.prototype.animate=function(t,e,n){if(null===this._progressPath)throw new Error(r);this._progressPath.animate(t,e,n)},s.prototype.stop=function(){if(null===this._progressPath)throw new Error(r);void 0!==this._progressPath&&this._progressPath.stop()},s.prototype.destroy=function(){if(null===this._progressPath)throw new Error(r);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,this._progressPath=null,null!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},s.prototype.set=function(t){if(null===this._progressPath)throw new Error(r);this._progressPath.set(t)},s.prototype.value=function(){if(null===this._progressPath)throw new Error(r);return void 0===this._progressPath?0:this._progressPath.value()},s.prototype.setText=function(t){if(null===this._progressPath)throw new Error(r);null===this.text&&(this.text=this._createTextContainer(this._opts,this._container),this._container.appendChild(this.text)),o.isObject(t)?(o.removeChildren(this.text),this.text.appendChild(t)):this.text.innerHTML=t},s.prototype._createSvgView=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(e,t);var n=null;(t.trailColor||t.trailWidth)&&(n=this._createTrail(t),e.appendChild(n));var i=this._createPath(t);return e.appendChild(i),{svg:e,path:i,trail:n}},s.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 100")},s.prototype._createPath=function(t){var e=this._pathString(t);return this._createPathElement(e,t)},s.prototype._createTrail=function(t){var e=this._trailString(t),n=o.extend({},t);return n.trailColor||(n.trailColor="#eee"),n.trailWidth||(n.trailWidth=n.strokeWidth),n.color=n.trailColor,n.strokeWidth=n.trailWidth,n.fill=null,this._createPathElement(e,n)},s.prototype._createPathElement=function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",t),n.setAttribute("stroke",e.color),n.setAttribute("stroke-width",e.strokeWidth),e.fill?n.setAttribute("fill",e.fill):n.setAttribute("fill-opacity","0"),n},s.prototype._createTextContainer=function(t,e){var n=document.createElement("div");n.className=t.text.className;var i=t.text.style;return i&&(t.text.autoStyleContainer&&(e.style.position="relative"),o.setStyles(n,i),i.color||(n.style.color=t.color)),this._initializeTextContainer(t,e,n),n},s.prototype._initializeTextContainer=function(t,e,n){},s.prototype._pathString=function(t){throw new Error("Override this function for each progress bar")},s.prototype._trailString=function(t){throw new Error("Override this function for each progress bar")},s.prototype._warnContainerAspectRatio=function(t){if(this.containerAspectRatio){var e=window.getComputedStyle(t,null),n=parseFloat(e.getPropertyValue("width"),10),i=parseFloat(e.getPropertyValue("height"),10);o.floatEquals(this.containerAspectRatio,n/i)||(console.warn("Incorrect aspect ratio of container","#"+t.id,"detected:",e.getPropertyValue("width")+"(width)","/",e.getPropertyValue("height")+"(height)","=",n/i),console.warn("Aspect ratio of should be",this.containerAspectRatio))}},e.exports=s},{"./path":5,"./utils":8}],8:[function(t,e,n){function i(t,e,n){t=t||{},e=e||{},n=n||!1;for(var o in e)if(e.hasOwnProperty(o)){var r=t[o],s=e[o];n&&h(r)&&h(s)?t[o]=i(r,s,n):t[o]=s}return t}function o(t,e){var n=t;for(var i in e)if(e.hasOwnProperty(i)){var o=e[i],r="\\{"+i+"\\}",s=new RegExp(r,"g");n=n.replace(s,o)}return n}function r(t,e,n){for(var i=t.style,o=0;o<g.length;++o){i[g[o]+a(e)]=n}i[e]=n}function s(t,e){f(e,function(e,n){null!==e&&void 0!==e&&(h(e)&&!0===e.prefix?r(t,n,e.value):t.style[n]=e)})}function a(t){return t.charAt(0).toUpperCase()+t.slice(1)}function u(t){return"string"==typeof t||t instanceof String}function c(t){return"function"==typeof t}function l(t){return"[object Array]"===Object.prototype.toString.call(t)}function h(t){return!l(t)&&("object"==typeof t&&!!t)}function f(t,e){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];e(i,n)}}function d(t,e){return Math.abs(t-e)<m}function p(t){for(;t.firstChild;)t.removeChild(t.firstChild)}var g="Webkit Moz O ms".split(" "),m=.001;e.exports={extend:i,render:o,setStyle:r,setStyles:s,capitalize:a,isString:u,isFunction:c,isObject:h,forEachObject:f,floatEquals:d,removeChildren:p}},{}]},{},[4])(4)}),function(t){"use strict";t.fn.selectOrDie=function(e){var n,i,o={customID:null,customClass:"",placeholder:null,placeholderOption:!1,prefix:null,cycle:!1,stripEmpty:!1,links:!1,linksExternal:!1,size:0,tabIndex:0,onChange:t.noop},r={},s=!1,a={initSoD:function(e){return r=t.extend({},o,e),this.each(function(){if(t(this).parent().hasClass("sod_select"))console.log("Select or Die: It looks like the SoD already exists");else{var e,n,i,o=t(this),s=o.data("custom-id")?o.data("custom-id"):r.customID,u=o.data("custom-class")?o.data("custom-class"):r.customClass,c=o.data("prefix")?o.data("prefix"):r.prefix,l=o.data("placeholder")?o.data("placeholder"):r.placeholder,h=o.data("placeholder-option")?o.data("placeholder-option"):r.placeholderOption,f=o.data("cycle")?o.data("cycle"):r.cycle,d=o.data("links")?o.data("links"):r.links,p=o.data("links-external")?o.data("links-external"):r.linksExternal,g=parseInt(o.data("size"))?o.data("size"):r.size,m=parseInt(o.data("tabindex"))?o.data("tabindex"):r.tabIndex?r.tabIndex:o.attr("tabindex")?o.attr("tabindex"):r.tabIndex,y=o.data("strip-empty")?o.data("strip-empty"):r.stripEmpty,_=o.prop("title")?o.prop("title"):null,v=o.is(":disabled")?" disabled":"",w="",b="",S=0;c&&(w='<span class="sod_prefix">'+c+"</span> "),b+=l&&!c?'<span class="sod_label sod_placeholder">'+l+"</span>":'<span class="sod_label">'+w+"</span>",e=t("<span/>",{id:s,class:"sod_select "+u+v,title:_,tabindex:m,html:b,"data-cycle":f,"data-links":d,"data-links-external":p,"data-placeholder":l,"data-placeholder-option":h,"data-prefix":c,"data-filter":""}).insertAfter(this),a.isTouch()&&e.addClass("touch"),n=t("<span/>",{class:"sod_list_wrapper"}).appendTo(e),i=t("<span/>",{class:"sod_list"}).appendTo(n),t("option, optgroup",o).each(function(n){var o=t(this);y&&!t.trim(o.text())?o.remove():0===n&&h&&!w?a.populateSoD(o,i,e,!0):a.populateSoD(o,i,e,!1)}),g&&(n.show(),t(".sod_option:lt("+g+")",i).each(function(){S+=t(this).outerHeight()}),n.removeAttr("style"),i.css({"max-height":S})),o.appendTo(e),e.on("focusin",a.focusSod).on("click",a.triggerSod).on("click",".sod_option",a.optionClick).on("mousemove",".sod_option",a.optionHover).on("keydown",a.keyboardUse),o.on("change",a.selectChange),t(document).on("click","label[for='"+o.attr("id")+"']",function(t){t.preventDefault(),e.focus()})}})},populateSoD:function(e,n,i,o){var r=i.data("placeholder"),s=i.data("placeholder-option"),a=i.data("prefix"),u=i.find(".sod_label"),c=e.parent(),l=e.text(),h=e.val(),f=e.data("custom-id")?e.data("custom-id"):null,d=e.data("custom-class")?e.data("custom-class"):"",p=e.is(":disabled")?" disabled ":"",g=e.is(":selected")?" selected active ":"",m=e.data("link")?" link ":"",y=e.data("link-external")?" linkexternal":"",_=e.prop("label");e.is("option")?(t("<span/>",{class:"sod_option "+d+p+g+m+y,id:f,title:l,html:l,"data-value":h}).appendTo(n),o&&!a?(i.data("label",l),i.data("placeholder",l),e.prop("disabled",!0),n.find(".sod_option:last").addClass("is-placeholder disabled"),g&&u.addClass("sod_placeholder")):g&&r&&!s&&!a?i.data("label",r):g&&i.data("label",l),(g&&!r||g&&s||g&&a)&&u.append(l),c.is("optgroup")&&(n.find(".sod_option:last").addClass("groupchild"),c.is(":disabled")&&n.find(".sod_option:last").addClass("disabled"))):t("<span/>",{class:"sod_option optgroup "+p,title:_,html:_,"data-label":_}).appendTo(n)},focusSod:function(){var e=t(this);e.hasClass("disabled")?a.blurSod(e):(a.blurSod(t(".sod_select.focus").not(e)),e.addClass("focus"),t("html").on("click.sodBlur",function(){a.blurSod(e)}))},triggerSod:function(e){e.stopPropagation();var n=t(this),o=n.find(".sod_list"),r=n.data("placeholder"),s=n.find(".active"),u=n.find(".selected");n.hasClass("disabled")||n.hasClass("open")||n.hasClass("touch")?(clearTimeout(i),n.removeClass("open"),r&&(n.find(".sod_label").get(0).lastChild.nodeValue=s.text())):(n.addClass("open"),r&&!n.data("prefix")&&n.find(".sod_label").addClass("sod_placeholder").html(r),a.listScroll(o,u),a.checkViewport(n,o))},keyboardUse:function(e){var i,o,r,u=t(this),c=u.find(".sod_list"),l=u.find(".sod_option"),h=u.find(".sod_label"),f=u.data("cycle"),d=l.filter(".active");return e.which>36&&e.which<41?(37===e.which||38===e.which?(o=d.prevAll(":not('.disabled, .optgroup')").first(),r=l.not(".disabled, .optgroup").last()):(39===e.which||40===e.which)&&(o=d.nextAll(":not('.disabled, .optgroup')").first(),r=l.not(".disabled, .optgroup").first()),!o.hasClass("sod_option")&&f&&(o=r),(o.hasClass("sod_option")||f)&&(d.removeClass("active"),o.addClass("active"),h.get(0).lastChild.nodeValue=o.text(),a.listScroll(c,o),u.hasClass("open")||(s=!0)),!1):(13===e.which||32===e.which&&u.hasClass("open")&&(" "===u.data("filter")[0]||""===u.data("filter"))?(e.preventDefault(),d.click()):32!==e.which||u.hasClass("open")||" "!==u.data("filter")[0]&&""!==u.data("filter")?27===e.which&&a.blurSod(u):(e.preventDefault(),s=!1,u.click()),void(0!==e.which&&(clearTimeout(n),u.data("filter",u.data("filter")+String.fromCharCode(e.which)),i=l.filter(function(){return 0===t(this).text().toLowerCase().indexOf(u.data("filter").toLowerCase())}).not(".disabled, .optgroup").first(),i.length&&(d.removeClass("active"),i.addClass("active"),a.listScroll(c,i),h.get(0).lastChild.nodeValue=i.text(),u.hasClass("open")||(s=!0)),n=setTimeout(function(){u.data("filter","")},500))))},optionHover:function(){var e=t(this);e.hasClass("disabled")||e.hasClass("optgroup")||e.siblings().removeClass("active").end().addClass("active")},optionClick:function(e){e.stopPropagation();var n=t(this),o=n.closest(".sod_select"),r=n.hasClass("disabled"),s=n.hasClass("optgroup"),a=o.find(".sod_option:not('.optgroup')").index(this);o.hasClass("touch")||(r||s||(o.find(".selected, .sod_placeholder").removeClass("selected sod_placeholder"),n.addClass("selected"),o.find("select option")[a].selected=!0,o.find("select").change()),clearTimeout(i),o.removeClass("open"))},selectChange:function(){var e=t(this),n=e.find(":selected"),i=n.text(),o=e.closest(".sod_select");o.find(".sod_label").get(0).lastChild.nodeValue=i,o.data("label",i),r.onChange.call(this),!o.data("links")&&!n.data("link")||n.data("link-external")?(o.data("links-external")||n.data("link-external"))&&window.open(n.val(),"_blank"):window.location.href=n.val()},blurSod:function(e){if(t("body").find(e).length){var n=e.data("label"),o=e.data("placeholder"),r=e.find(".active"),a=e.find(".selected"),u=!1;clearTimeout(i),s&&!r.hasClass("selected")?(r.click(),u=!0):r.hasClass("selected")||(r.removeClass("active"),a.addClass("active")),!u&&o?e.find(".sod_label").get(0).lastChild.nodeValue=a.text():u||(e.find(".sod_label").get(0).lastChild.nodeValue=n),s=!1,e.removeClass("open focus"),e.blur(),t("html").off(".sodBlur")}},checkViewport:function(e,n){var o=e[0].getBoundingClientRect(),r=n.outerHeight();o.bottom+r+10>t(window).height()&&o.top-r>10?e.addClass("above"):e.removeClass("above"),i=setTimeout(function(){a.checkViewport(e,n)},200)},listScroll:function(t,e){var n=t[0].getBoundingClientRect(),i=e[0].getBoundingClientRect();n.top>i.top?t.scrollTop(t.scrollTop()-n.top+i.top):n.bottom<i.bottom&&t.scrollTop(t.scrollTop()-n.bottom+i.bottom)},isTouch:function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}},u={destroy:function(){return this.each(function(){var e=t(this),n=e.parent();n.hasClass("sod_select")?(e.off("change"),n.find("span").remove(),e.unwrap()):console.log("Select or Die: There's no SoD to destroy")})},update:function(){return this.each(function(){var e=t(this),n=e.parent(),i=n.find(".sod_list:first");n.hasClass("sod_select")?(i.empty(),n.find(".sod_label").get(0).lastChild.nodeValue="",e.is(":disabled")&&n.addClass("disabled"),t("option, optgroup",e).each(function(){a.populateSoD(t(this),i,n)})):console.log("Select or Die: There's no SoD to update")})},disable:function(e){return this.each(function(){var n=t(this),i=n.parent();i.hasClass("sod_select")?void 0!==e?(i.find(".sod_list:first .sod_option[data-value='"+e+"']").addClass("disabled"),i.find(".sod_list:first .sod_option[data-label='"+e+"']").nextUntil(":not(.groupchild)").addClass("disabled"),t("option[value='"+e+"'], optgroup[label='"+e+"']",this).prop("disabled",!0)):i.hasClass("sod_select")&&(i.addClass("disabled"),n.prop("disabled",!0)):console.log("Select or Die: There's no SoD to disable")})},enable:function(e){return this.each(function(){var n=t(this),i=n.parent();i.hasClass("sod_select")?void 0!==e?(i.find(".sod_list:first .sod_option[data-value='"+e+"']").removeClass("disabled"),i.find(".sod_list:first .sod_option[data-label='"+e+"']").nextUntil(":not(.groupchild)").removeClass("disabled"),t("option[value='"+e+"'], optgroup[label='"+e+"']",this).prop("disabled",!1)):i.hasClass("sod_select")&&(i.removeClass("disabled"),n.prop("disabled",!1)):console.log("Select or Die: There's no SoD to enable")})}};return u[e]?u[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error('Select or Die: Oh no! No such method "'+e+'" for the SoD instance'):a.initSoD.apply(this,arguments)}}(jQuery),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(t){function e(t){this.$container,this.constraints=null,this.__$tooltip,this.__init(t)}function n(e,n){var i=!0;return t.each(e,function(t,o){return void 0===n[t]||e[t]!==n[t]?(i=!1,!1):void 0}),i}function i(e){var n=e.attr("id"),i=n?s.window.document.getElementById(n):null;return i?i===e[0]:t.contains(s.window.document.body,e[0])}var o={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:null,plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},r="undefined"!=typeof window?window:null,s={hasTouchCapability:!(!r||!("ontouchstart"in r||r.DocumentTouch&&r.document instanceof r.DocumentTouch||r.navigator.maxTouchPoints)),hasTransitions:function(){if(!r)return!1;var t=r.document.body||r.document.documentElement,e=t.style,n="transition",i=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof e[n])return!0;n=n.charAt(0).toUpperCase()+n.substr(1);for(var o=0;o<i.length;o++)if("string"==typeof e[i[o]+n])return!0;return!1}(),IE:!1,semVer:"4.2.5",window:r},a=function(){this.__$emitterPrivate=t({}),this.__$emitterPublic=t({}),this.__instancesLatestArr=[],this.__plugins={},this._env=s};a.prototype={__bridge:function(e,n,i){if(!n[i]){var r=function(){};r.prototype=e;var s=new r;s.__init&&s.__init(n),t.each(e,function(t,e){0!=t.indexOf("__")&&(n[t]?o.debug&&console.log("The "+t+" method of the "+i+" plugin conflicts with another plugin or native methods"):(n[t]=function(){return s[t].apply(s,Array.prototype.slice.apply(arguments))},n[t].bridged=s))}),n[i]=s}return this},__setWindow:function(t){return s.window=t,this},_getRuler:function(t){return new e(t)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(e){var n=this;if("string"==typeof e){var i=e,o=null;return i.indexOf(".")>0?o=n.__plugins[i]:t.each(n.__plugins,function(t,e){return e.name.substring(e.name.length-i.length-1)=="."+i?(o=e,!1):void 0}),o}if(e.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return n.__plugins[e.name]=e,e.core&&n.__bridge(e.core,n,e.name),this},_trigger:function(){var t=Array.prototype.slice.apply(arguments);return"string"==typeof t[0]&&(t[0]={type:t[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,t),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,t),this},instances:function(e){var n=[];return t(e||".tooltipstered").each(function(){var e=t(this),i=e.data("tooltipster-ns");i&&t.each(i,function(t,i){n.push(e.data(i))})}),n},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(e){return t((e?e+" ":"")+".tooltipstered").toArray()},setDefaults:function(e){return t.extend(o,e),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},t.tooltipster=new a,t.Tooltipster=function(e,n){this.__callbacks={close:[],open:[]},this.__closingTime,this.__Content,this.__contentBcr,this.__destroyed=!1,this.__$emitterPrivate=t({}),this.__$emitterPublic=t({}),this.__enabled=!0,this.__garbageCollector,this.__Geometry,this.__lastPosition,this.__namespace="tooltipster-"+Math.round(1e6*Math.random()),this.__options,this.__$originParents,this.__pointerIsOverOrigin=!1,this.__previousThemes=[],this.__state="closed",this.__timeouts={close:[],open:null},this.__touchEvents=[],this.__tracker=null,this._$origin,this._$tooltip,this.__init(e,n)},t.Tooltipster.prototype={__init:function(e,n){var i=this;if(i._$origin=t(e),i.__options=t.extend(!0,{},o,n),i.__optionsFormat(),!s.IE||s.IE>=i.__options.IEmin){var r=null;if(void 0===i._$origin.data("tooltipster-initialTitle")&&(r=i._$origin.attr("title"),void 0===r&&(r=null),i._$origin.data("tooltipster-initialTitle",r)),null!==i.__options.content)i.__contentSet(i.__options.content);else{var a,u=i._$origin.attr("data-tooltip-content");u&&(a=t(u)),a&&a[0]?i.__contentSet(a.first()):i.__contentSet(r)}i._$origin.removeAttr("title").addClass("tooltipstered"),i.__prepareOrigin(),i.__prepareGC(),t.each(i.__options.plugins,function(t,e){i._plug(e)}),s.hasTouchCapability&&t(s.window.document.body).on("touchmove."+i.__namespace+"-triggerOpen",function(t){i._touchRecordEvent(t)}),i._on("created",function(){i.__prepareTooltip()})._on("repositioned",function(t){i.__lastPosition=t.position})}else i.__options.disabled=!0},__contentInsert:function(){var t=this,e=t._$tooltip.find(".tooltipster-content"),n=t.__Content,i=function(t){n=t};return t._trigger({type:"format",content:t.__Content,format:i}),t.__options.functionFormat&&(n=t.__options.functionFormat.call(t,t,{origin:t._$origin[0]},t.__Content)),"string"!=typeof n||t.__options.contentAsHTML?e.empty().append(n):e.text(n),t},__contentSet:function(e){return e instanceof t&&this.__options.contentCloning&&(e=e.clone(!0)),this.__Content=e,this._trigger({type:"updated",content:e}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.")},__geometry:function(){var e=this,n=e._$origin,i=e._$origin.is("area");if(i){var o=e._$origin.parent().attr("name");n=t('img[usemap="#'+o+'"]')}var r=n[0].getBoundingClientRect(),a=t(s.window.document),u=t(s.window),c=n,l={available:{document:null,window:null},document:{size:{height:a.height(),width:a.width()}},window:{scroll:{left:s.window.scrollX||s.window.document.documentElement.scrollLeft,top:s.window.scrollY||s.window.document.documentElement.scrollTop},size:{height:u.height(),width:u.width()}},origin:{fixedLineage:!1,offset:{},size:{height:r.bottom-r.top,width:r.right-r.left},usemapImage:i?n[0]:null,windowOffset:{bottom:r.bottom,left:r.left,right:r.right,top:r.top}}};if(i){var h=e._$origin.attr("shape"),f=e._$origin.attr("coords");if(f&&(f=f.split(","),t.map(f,function(t,e){f[e]=parseInt(t)})),"default"!=h)switch(h){case"circle":var d=f[0],p=f[1],g=f[2],m=p-g,y=d-g;l.origin.size.height=2*g,l.origin.size.width=l.origin.size.height,l.origin.windowOffset.left+=y,l.origin.windowOffset.top+=m;break;case"rect":var _=f[0],v=f[1],w=f[2],b=f[3];l.origin.size.height=b-v,l.origin.size.width=w-_,l.origin.windowOffset.left+=_,l.origin.windowOffset.top+=v;break;case"poly":for(var S=0,E=0,I=0,k=0,x="even",C=0;C<f.length;C++){var O=f[C];"even"==x?(O>I&&(I=O,0===C&&(S=I)),S>O&&(S=O),x="odd"):(O>k&&(k=O,1==C&&(E=k)),E>O&&(E=O),x="even")}l.origin.size.height=k-E,l.origin.size.width=I-S,l.origin.windowOffset.left+=S,l.origin.windowOffset.top+=E}}var T=function(t){l.origin.size.height=t.height,l.origin.windowOffset.left=t.left,l.origin.windowOffset.top=t.top,l.origin.size.width=t.width};for(e._trigger({type:"geometry",edit:T,geometry:{height:l.origin.size.height,left:l.origin.windowOffset.left,top:l.origin.windowOffset.top,width:l.origin.size.width}}),l.origin.windowOffset.right=l.origin.windowOffset.left+l.origin.size.width,l.origin.windowOffset.bottom=l.origin.windowOffset.top+l.origin.size.height,l.origin.offset.left=l.origin.windowOffset.left+l.window.scroll.left,l.origin.offset.top=l.origin.windowOffset.top+l.window.scroll.top,l.origin.offset.bottom=l.origin.offset.top+l.origin.size.height,l.origin.offset.right=l.origin.offset.left+l.origin.size.width,l.available.document={bottom:{height:l.document.size.height-l.origin.offset.bottom,width:l.document.size.width},left:{height:l.document.size.height,width:l.origin.offset.left},right:{height:l.document.size.height,width:l.document.size.width-l.origin.offset.right},top:{height:l.origin.offset.top,width:l.document.size.width}},l.available.window={bottom:{height:Math.max(l.window.size.height-Math.max(l.origin.windowOffset.bottom,0),0),width:l.window.size.width},left:{height:l.window.size.height,width:Math.max(l.origin.windowOffset.left,0)},right:{height:l.window.size.height,width:Math.max(l.window.size.width-Math.max(l.origin.windowOffset.right,0),0)},top:{height:Math.max(l.origin.windowOffset.top,0),width:l.window.size.width}};"html"!=c[0].tagName.toLowerCase();){
if("fixed"==c.css("position")){l.origin.fixedLineage=!0;break}c=c.parent()}return l},__optionsFormat:function(){return"number"==typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),null===this.__options.parent?this.__options.parent=t(s.window.document.body):"string"==typeof this.__options.parent&&(this.__options.parent=t(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var e=this;return e.__options.selfDestruction?e.__garbageCollector=setInterval(function(){var n=(new Date).getTime();e.__touchEvents=t.grep(e.__touchEvents,function(t,e){return n-t.time>6e4}),i(e._$origin)||e.close(function(){e.destroy()})},2e4):clearInterval(e.__garbageCollector),e},__prepareOrigin:function(){var t=this;if(t._$origin.off("."+t.__namespace+"-triggerOpen"),s.hasTouchCapability&&t._$origin.on("touchstart."+t.__namespace+"-triggerOpen touchend."+t.__namespace+"-triggerOpen touchcancel."+t.__namespace+"-triggerOpen",function(e){t._touchRecordEvent(e)}),t.__options.triggerOpen.click||t.__options.triggerOpen.tap&&s.hasTouchCapability){var e="";t.__options.triggerOpen.click&&(e+="click."+t.__namespace+"-triggerOpen "),t.__options.triggerOpen.tap&&s.hasTouchCapability&&(e+="touchend."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){t._touchIsMeaningfulEvent(e)&&t._open(e)})}if(t.__options.triggerOpen.mouseenter||t.__options.triggerOpen.touchstart&&s.hasTouchCapability){var e="";t.__options.triggerOpen.mouseenter&&(e+="mouseenter."+t.__namespace+"-triggerOpen "),t.__options.triggerOpen.touchstart&&s.hasTouchCapability&&(e+="touchstart."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){!t._touchIsTouchEvent(e)&&t._touchIsEmulatedEvent(e)||(t.__pointerIsOverOrigin=!0,t._openShortly(e))})}if(t.__options.triggerClose.mouseleave||t.__options.triggerClose.touchleave&&s.hasTouchCapability){var e="";t.__options.triggerClose.mouseleave&&(e+="mouseleave."+t.__namespace+"-triggerOpen "),t.__options.triggerClose.touchleave&&s.hasTouchCapability&&(e+="touchend."+t.__namespace+"-triggerOpen touchcancel."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){t._touchIsMeaningfulEvent(e)&&(t.__pointerIsOverOrigin=!1)})}return t},__prepareTooltip:function(){var e=this,n=e.__options.interactive?"auto":"";return e._$tooltip.attr("id",e.__namespace).css({"pointer-events":n,zIndex:e.__options.zIndex}),t.each(e.__previousThemes,function(t,n){e._$tooltip.removeClass(n)}),t.each(e.__options.theme,function(t,n){e._$tooltip.addClass(n)}),e.__previousThemes=t.merge([],e.__options.theme),e},__scrollHandler:function(e){var n=this;if(n.__options.triggerClose.scroll)n._close(e);else if(i(n._$origin)&&i(n._$tooltip)){var o=null;if(e.target===s.window.document)n.__Geometry.origin.fixedLineage||n.__options.repositionOnScroll&&n.reposition(e);else{o=n.__geometry();var r=!1;if("fixed"!=n._$origin.css("position")&&n.__$originParents.each(function(e,n){var i=t(n),s=i.css("overflow-x"),a=i.css("overflow-y");if("visible"!=s||"visible"!=a){var u=n.getBoundingClientRect();if("visible"!=s&&(o.origin.windowOffset.left<u.left||o.origin.windowOffset.right>u.right))return r=!0,!1;if("visible"!=a&&(o.origin.windowOffset.top<u.top||o.origin.windowOffset.bottom>u.bottom))return r=!0,!1}return"fixed"!=i.css("position")&&void 0}),r)n._$tooltip.css("visibility","hidden");else if(n._$tooltip.css("visibility","visible"),n.__options.repositionOnScroll)n.reposition(e);else{var a=o.origin.offset.left-n.__Geometry.origin.offset.left,u=o.origin.offset.top-n.__Geometry.origin.offset.top;n._$tooltip.css({left:n.__lastPosition.coord.left+a,top:n.__lastPosition.coord.top+u})}}n._trigger({type:"scroll",event:e,geo:o})}return n},__stateSet:function(t){return this.__state=t,this._trigger({type:"state",state:t}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,t.each(this.__timeouts.close,function(t,e){clearTimeout(e)}),this.__timeouts.close=[],this},__trackerStart:function(){var t=this,e=t._$tooltip.find(".tooltipster-content");return t.__options.trackTooltip&&(t.__contentBcr=e[0].getBoundingClientRect()),t.__tracker=setInterval(function(){if(i(t._$origin)&&i(t._$tooltip)){if(t.__options.trackOrigin){var o=t.__geometry(),r=!1;n(o.origin.size,t.__Geometry.origin.size)&&(t.__Geometry.origin.fixedLineage?n(o.origin.windowOffset,t.__Geometry.origin.windowOffset)&&(r=!0):n(o.origin.offset,t.__Geometry.origin.offset)&&(r=!0)),r||(t.__options.triggerClose.mouseleave?t._close():t.reposition())}if(t.__options.trackTooltip){var s=e[0].getBoundingClientRect();s.height===t.__contentBcr.height&&s.width===t.__contentBcr.width||(t.reposition(),t.__contentBcr=s)}}else t._close()},t.__options.trackerInterval),t},_close:function(e,n,i){var o=this,r=!0;if(o._trigger({type:"close",event:e,stop:function(){r=!1}}),r||i){n&&o.__callbacks.close.push(n),o.__callbacks.open=[],o.__timeoutsClear();var a=function(){t.each(o.__callbacks.close,function(t,n){n.call(o,o,{event:e,origin:o._$origin[0]})}),o.__callbacks.close=[]};if("closed"!=o.__state){var u=!0,c=new Date,l=c.getTime(),h=l+o.__options.animationDuration[1];if("disappearing"==o.__state&&h>o.__closingTime&&o.__options.animationDuration[1]>0&&(u=!1),u){o.__closingTime=h,"disappearing"!=o.__state&&o.__stateSet("disappearing");var f=function(){clearInterval(o.__tracker),o._trigger({type:"closing",event:e}),o._$tooltip.off("."+o.__namespace+"-triggerClose").removeClass("tooltipster-dying"),t(s.window).off("."+o.__namespace+"-triggerClose"),o.__$originParents.each(function(e,n){t(n).off("scroll."+o.__namespace+"-triggerClose")}),o.__$originParents=null,t(s.window.document.body).off("."+o.__namespace+"-triggerClose"),o._$origin.off("."+o.__namespace+"-triggerClose"),o._off("dismissable"),o.__stateSet("closed"),o._trigger({type:"after",event:e}),o.__options.functionAfter&&o.__options.functionAfter.call(o,o,{event:e,origin:o._$origin[0]}),a()};s.hasTransitions?(o._$tooltip.css({"-moz-animation-duration":o.__options.animationDuration[1]+"ms","-ms-animation-duration":o.__options.animationDuration[1]+"ms","-o-animation-duration":o.__options.animationDuration[1]+"ms","-webkit-animation-duration":o.__options.animationDuration[1]+"ms","animation-duration":o.__options.animationDuration[1]+"ms","transition-duration":o.__options.animationDuration[1]+"ms"}),o._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),o.__options.animationDuration[1]>0&&o._$tooltip.delay(o.__options.animationDuration[1]),o._$tooltip.queue(f)):o._$tooltip.stop().fadeOut(o.__options.animationDuration[1],f)}}else a()}return o},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(e,n){var o=this;if(!o.__destroying&&i(o._$origin)&&o.__enabled){var r=!0;if("closed"==o.__state&&(o._trigger({type:"before",event:e,stop:function(){r=!1}}),r&&o.__options.functionBefore&&(r=o.__options.functionBefore.call(o,o,{event:e,origin:o._$origin[0]}))),!1!==r&&null!==o.__Content){n&&o.__callbacks.open.push(n),o.__callbacks.close=[],o.__timeoutsClear();var a,u=function(){"stable"!=o.__state&&o.__stateSet("stable"),t.each(o.__callbacks.open,function(t,e){e.call(o,o,{origin:o._$origin[0],tooltip:o._$tooltip[0]})}),o.__callbacks.open=[]};if("closed"!==o.__state)a=0,"disappearing"===o.__state?(o.__stateSet("appearing"),s.hasTransitions?(o._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),o.__options.animationDuration[0]>0&&o._$tooltip.delay(o.__options.animationDuration[0]),o._$tooltip.queue(u)):o._$tooltip.stop().fadeIn(u)):"stable"==o.__state&&u();else{if(o.__stateSet("appearing"),a=o.__options.animationDuration[0],o.__contentInsert(),o.reposition(e,!0),s.hasTransitions?(o._$tooltip.addClass("tooltipster-"+o.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":o.__options.animationDuration[0]+"ms","-ms-animation-duration":o.__options.animationDuration[0]+"ms","-o-animation-duration":o.__options.animationDuration[0]+"ms","-webkit-animation-duration":o.__options.animationDuration[0]+"ms","animation-duration":o.__options.animationDuration[0]+"ms","transition-duration":o.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=o.__state&&(o._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),o.__options.animationDuration[0]>0&&o._$tooltip.delay(o.__options.animationDuration[0]),o._$tooltip.queue(u))},0)):o._$tooltip.css("display","none").fadeIn(o.__options.animationDuration[0],u),o.__trackerStart(),t(s.window).on("resize."+o.__namespace+"-triggerClose",function(e){var n=t(document.activeElement);(n.is("input")||n.is("textarea"))&&t.contains(o._$tooltip[0],n[0])||o.reposition(e)}).on("scroll."+o.__namespace+"-triggerClose",function(t){o.__scrollHandler(t)}),o.__$originParents=o._$origin.parents(),o.__$originParents.each(function(e,n){t(n).on("scroll."+o.__namespace+"-triggerClose",function(t){o.__scrollHandler(t)})}),o.__options.triggerClose.mouseleave||o.__options.triggerClose.touchleave&&s.hasTouchCapability){o._on("dismissable",function(t){t.dismissable?t.delay?(f=setTimeout(function(){o._close(t.event)},t.delay),o.__timeouts.close.push(f)):o._close(t):clearTimeout(f)});var c=o._$origin,l="",h="",f=null;o.__options.interactive&&(c=c.add(o._$tooltip)),o.__options.triggerClose.mouseleave&&(l+="mouseenter."+o.__namespace+"-triggerClose ",h+="mouseleave."+o.__namespace+"-triggerClose "),o.__options.triggerClose.touchleave&&s.hasTouchCapability&&(l+="touchstart."+o.__namespace+"-triggerClose",h+="touchend."+o.__namespace+"-triggerClose touchcancel."+o.__namespace+"-triggerClose"),c.on(h,function(t){if(o._touchIsTouchEvent(t)||!o._touchIsEmulatedEvent(t)){var e="mouseleave"==t.type?o.__options.delay:o.__options.delayTouch;o._trigger({delay:e[1],dismissable:!0,event:t,type:"dismissable"})}}).on(l,function(t){!o._touchIsTouchEvent(t)&&o._touchIsEmulatedEvent(t)||o._trigger({dismissable:!1,event:t,type:"dismissable"})})}o.__options.triggerClose.originClick&&o._$origin.on("click."+o.__namespace+"-triggerClose",function(t){o._touchIsTouchEvent(t)||o._touchIsEmulatedEvent(t)||o._close(t)}),(o.__options.triggerClose.click||o.__options.triggerClose.tap&&s.hasTouchCapability)&&setTimeout(function(){if("closed"!=o.__state){var e="",n=t(s.window.document.body);o.__options.triggerClose.click&&(e+="click."+o.__namespace+"-triggerClose "),o.__options.triggerClose.tap&&s.hasTouchCapability&&(e+="touchend."+o.__namespace+"-triggerClose"),n.on(e,function(e){o._touchIsMeaningfulEvent(e)&&(o._touchRecordEvent(e),o.__options.interactive&&t.contains(o._$tooltip[0],e.target)||o._close(e))}),o.__options.triggerClose.tap&&s.hasTouchCapability&&n.on("touchstart."+o.__namespace+"-triggerClose",function(t){o._touchRecordEvent(t)})}},0),o._trigger("ready"),o.__options.functionReady&&o.__options.functionReady.call(o,o,{origin:o._$origin[0],tooltip:o._$tooltip[0]})}if(o.__options.timer>0){var f=setTimeout(function(){o._close()},o.__options.timer+a);o.__timeouts.close.push(f)}}}return o},_openShortly:function(t){var e=this,n=!0;if("stable"!=e.__state&&"appearing"!=e.__state&&!e.__timeouts.open&&(e._trigger({type:"start",event:t,stop:function(){n=!1}}),n)){var i=0==t.type.indexOf("touch")?e.__options.delayTouch:e.__options.delay;i[0]?e.__timeouts.open=setTimeout(function(){e.__timeouts.open=null,e.__pointerIsOverOrigin&&e._touchIsMeaningfulEvent(t)?(e._trigger("startend"),e._open(t)):e._trigger("startcancel")},i[0]):(e._trigger("startend"),e._open(t))}return e},_optionsExtract:function(e,n){var i=this,o=t.extend(!0,{},n),r=i.__options[e];return r||(r={},t.each(n,function(t,e){var n=i.__options[t];void 0!==n&&(r[t]=n)})),t.each(o,function(e,n){void 0!==r[e]&&("object"!=typeof n||n instanceof Array||null==n||"object"!=typeof r[e]||r[e]instanceof Array||null==r[e]?o[e]=r[e]:t.extend(o[e],r[e]))}),o},_plug:function(e){var n=t.tooltipster._plugin(e);if(!n)throw new Error('The "'+e+'" plugin is not defined');return n.instance&&t.tooltipster.__bridge(n.instance,this,n.name),this},_touchIsEmulatedEvent:function(t){for(var e=!1,n=(new Date).getTime(),i=this.__touchEvents.length-1;i>=0;i--){var o=this.__touchEvents[i];if(!(n-o.time<500))break;o.target===t.target&&(e=!0)}return e},_touchIsMeaningfulEvent:function(t){return this._touchIsTouchEvent(t)&&!this._touchSwiped(t.target)||!this._touchIsTouchEvent(t)&&!this._touchIsEmulatedEvent(t)},_touchIsTouchEvent:function(t){return 0==t.type.indexOf("touch")},_touchRecordEvent:function(t){return this._touchIsTouchEvent(t)&&(t.time=(new Date).getTime(),this.__touchEvents.push(t)),this},_touchSwiped:function(t){for(var e=!1,n=this.__touchEvents.length-1;n>=0;n--){var i=this.__touchEvents[n];if("touchmove"==i.type){e=!0;break}if("touchstart"==i.type&&t===i.target)break}return e},_trigger:function(){var e=Array.prototype.slice.apply(arguments);return"string"==typeof e[0]&&(e[0]={type:e[0]}),e[0].instance=this,e[0].origin=this._$origin?this._$origin[0]:null,e[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,e),t.tooltipster._trigger.apply(t.tooltipster,e),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,e),this},_unplug:function(e){var n=this;if(n[e]){var i=t.tooltipster._plugin(e);i.instance&&t.each(i.instance,function(t,i){n[t]&&n[t].bridged===n[e]&&delete n[t]}),n[e].__destroy&&n[e].__destroy(),delete n[e]}return n},close:function(t){return this.__destroyed?this.__destroyError():this._close(null,t),this},content:function(t){var e=this;if(void 0===t)return e.__Content;if(e.__destroyed)e.__destroyError();else if(e.__contentSet(t),null!==e.__Content){if("closed"!==e.__state&&(e.__contentInsert(),e.reposition(),e.__options.updateAnimation))if(s.hasTransitions){var n=e.__options.updateAnimation;e._$tooltip.addClass("tooltipster-update-"+n),setTimeout(function(){"closed"!=e.__state&&e._$tooltip.removeClass("tooltipster-update-"+n)},1e3)}else e._$tooltip.fadeTo(200,.5,function(){"closed"!=e.__state&&e._$tooltip.fadeTo(200,1)})}else e._close();return e},destroy:function(){var e=this;if(e.__destroyed)e.__destroyError();else{"closed"!=e.__state?e.option("animationDuration",0)._close(null,null,!0):e.__timeoutsClear(),e._trigger("destroy"),e.__destroyed=!0,e._$origin.removeData(e.__namespace).off("."+e.__namespace+"-triggerOpen"),t(s.window.document.body).off("."+e.__namespace+"-triggerOpen");var n=e._$origin.data("tooltipster-ns");if(n)if(1===n.length){var i=null;"previous"==e.__options.restoration?i=e._$origin.data("tooltipster-initialTitle"):"current"==e.__options.restoration&&(i="string"==typeof e.__Content?e.__Content:t("<div></div>").append(e.__Content).html()),i&&e._$origin.attr("title",i),e._$origin.removeClass("tooltipstered"),e._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else n=t.grep(n,function(t,n){return t!==e.__namespace}),e._$origin.data("tooltipster-ns",n);e._trigger("destroyed"),e._off(),e.off(),e.__Content=null,e.__$emitterPrivate=null,e.__$emitterPublic=null,e.__options.parent=null,e._$origin=null,e._$tooltip=null,t.tooltipster.__instancesLatestArr=t.grep(t.tooltipster.__instancesLatestArr,function(t,n){return e!==t}),clearInterval(e.__garbageCollector)}return e},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=!1,this)},elementOrigin:function(){return this.__destroyed?void this.__destroyError():this._$origin[0]},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(t){return this.close(t)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(t){return this.__destroyed?this.__destroyError():this._open(null,t),this},option:function(e,n){return void 0===n?this.__options[e]:(this.__destroyed?this.__destroyError():(this.__options[e]=n,this.__optionsFormat(),t.inArray(e,["trigger","triggerClose","triggerOpen"])>=0&&this.__prepareOrigin(),"selfDestruction"===e&&this.__prepareGC()),this)},reposition:function(t,e){var n=this;return n.__destroyed?n.__destroyError():"closed"!=n.__state&&i(n._$origin)&&(e||i(n._$tooltip))&&(e||n._$tooltip.detach(),n.__Geometry=n.__geometry(),n._trigger({type:"reposition",event:t,helper:{geo:n.__Geometry}})),n},show:function(t){return this.open(t)},status:function(){return{destroyed:this.__destroyed,enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},t.fn.tooltipster=function(){var e=Array.prototype.slice.apply(arguments),n="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";if(0===this.length)return this;if("string"==typeof e[0]){var i="#*$~&";return this.each(function(){var o=t(this).data("tooltipster-ns"),r=o?t(this).data(o[0]):null;if(!r)throw new Error("You called Tooltipster's \""+e[0]+'" method on an uninitialized element');if("function"!=typeof r[e[0]])throw new Error('Unknown method "'+e[0]+'"');this.length>1&&"content"==e[0]&&(e[1]instanceof t||"object"==typeof e[1]&&null!=e[1]&&e[1].tagName)&&!r.__options.contentCloning&&r.__options.debug&&console.log(n);var s=r[e[0]](e[1],e[2]);return s!==r||"instance"===e[0]?(i=s,!1):void 0}),"#*$~&"!==i?i:this}t.tooltipster.__instancesLatestArr=[];var r=e[0]&&void 0!==e[0].multiple,s=r&&e[0].multiple||!r&&o.multiple,a=e[0]&&void 0!==e[0].content,u=a&&e[0].content||!a&&o.content,c=e[0]&&void 0!==e[0].contentCloning,l=c&&e[0].contentCloning||!c&&o.contentCloning,h=e[0]&&void 0!==e[0].debug,f=h&&e[0].debug||!h&&o.debug;return this.length>1&&(u instanceof t||"object"==typeof u&&null!=u&&u.tagName)&&!l&&f&&console.log(n),this.each(function(){var n=!1,i=t(this),o=i.data("tooltipster-ns"),r=null;o?s?n=!0:f&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):n=!0,n&&(r=new t.Tooltipster(this,e[0]),o||(o=[]),o.push(r.__namespace),i.data("tooltipster-ns",o),i.data(r.__namespace,r),r.__options.functionInit&&r.__options.functionInit.call(r,r,{origin:this}),r._trigger("init")),t.tooltipster.__instancesLatestArr.push(r)}),this},e.prototype={__init:function(e){this.__$tooltip=e,this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto"),this.$container=t('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo(s.window.document.body)},__forceRedraw:function(){var t=this.__$tooltip.parent();this.__$tooltip.detach(),this.__$tooltip.appendTo(t)},constrain:function(t,e){return this.constraints={width:t,height:e},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:t}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""}),this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var t=this.__$tooltip[0].getBoundingClientRect(),e={size:{height:t.height||t.bottom-t.top,width:t.width||t.right-t.left}};if(this.constraints){var n=this.__$tooltip.find(".tooltipster-content"),i=this.__$tooltip.outerHeight(),o=n[0].getBoundingClientRect(),r={height:i<=this.constraints.height,width:t.width<=this.constraints.width&&o.width>=n[0].scrollWidth-1};e.fits=r.height&&r.width}return s.IE&&s.IE<=11&&e.size.width!==s.window.document.documentElement.clientWidth&&(e.size.width=Math.ceil(e.size.width)+1),e}};var u=navigator.userAgent.toLowerCase();-1!=u.indexOf("msie")?s.IE=parseInt(u.split("msie")[1]):-1!==u.toLowerCase().indexOf("trident")&&-1!==u.indexOf(" rv:11")?s.IE=11:-1!=u.toLowerCase().indexOf("edge/")&&(s.IE=parseInt(u.toLowerCase().split("edge/")[1]));var c="tooltipster.sideTip";return t.tooltipster._plugin({name:c,instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(t){var e=this;e.__instance=t,e.__namespace="tooltipster-sideTip-"+Math.round(1e6*Math.random()),e.__previousState="closed",e.__options,e.__optionsFormat(),e.__instance._on("state."+e.__namespace,function(t){"closed"==t.state?e.__close():"appearing"==t.state&&"closed"==e.__previousState&&e.__create(),e.__previousState=t.state}),e.__instance._on("options."+e.__namespace,function(){e.__optionsFormat()}),e.__instance._on("reposition."+e.__namespace,function(t){e.__reposition(t.event,t.helper)})},__close:function(){this.__instance.content()instanceof t&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null},__create:function(){var e=t('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');this.__options.arrow||e.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide(),this.__options.minWidth&&e.css("min-width",this.__options.minWidth+"px"),this.__options.maxWidth&&e.css("max-width",this.__options.maxWidth+"px"),this.__instance._$tooltip=e,this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){var e=this;if(e.__options=e.__instance._optionsExtract(c,e.__defaults()),e.__options.position&&(e.__options.side=e.__options.position),"object"!=typeof e.__options.distance&&(e.__options.distance=[e.__options.distance]),e.__options.distance.length<4&&(void 0===e.__options.distance[1]&&(e.__options.distance[1]=e.__options.distance[0]),void 0===e.__options.distance[2]&&(e.__options.distance[2]=e.__options.distance[0]),void 0===e.__options.distance[3]&&(e.__options.distance[3]=e.__options.distance[1]),e.__options.distance={top:e.__options.distance[0],right:e.__options.distance[1],bottom:e.__options.distance[2],left:e.__options.distance[3]}),"string"==typeof e.__options.side){var n={top:"bottom",right:"left",bottom:"top",left:"right"};e.__options.side=[e.__options.side,n[e.__options.side]],"left"==e.__options.side[0]||"right"==e.__options.side[0]?e.__options.side.push("top","bottom"):e.__options.side.push("right","left")}6===t.tooltipster._env.IE&&!0!==e.__options.arrow&&(e.__options.arrow=!1)},__reposition:function(e,n){var i,o=this,r=o.__targetFind(n),s=[];o.__instance._$tooltip.detach();var a=o.__instance._$tooltip.clone(),u=t.tooltipster._getRuler(a),c=!1,l=o.__instance.option("animation");switch(l&&a.removeClass("tooltipster-"+l),t.each(["window","document"],function(i,l){var h=null;if(o.__instance._trigger({container:l,helper:n,satisfied:c,takeTest:function(t){h=t},results:s,type:"positionTest"}),1==h||0!=h&&0==c&&("window"!=l||o.__options.viewportAware))for(var i=0;i<o.__options.side.length;i++){var f={horizontal:0,vertical:0},d=o.__options.side[i];"top"==d||"bottom"==d?f.vertical=o.__options.distance[d]:f.horizontal=o.__options.distance[d],o.__sideChange(a,d),t.each(["natural","constrained"],function(t,i){if(h=null,o.__instance._trigger({container:l,event:e,helper:n,mode:i,results:s,satisfied:c,side:d,takeTest:function(t){h=t},type:"positionTest"}),1==h||0!=h&&0==c){var a={container:l,distance:f,fits:null,mode:i,outerSize:null,side:d,size:null,target:r[d],whole:null},p="natural"==i?u.free():u.constrain(n.geo.available[l][d].width-f.horizontal,n.geo.available[l][d].height-f.vertical),g=p.measure();if(a.size=g.size,a.outerSize={height:g.size.height+f.vertical,width:g.size.width+f.horizontal},"natural"==i?n.geo.available[l][d].width>=a.outerSize.width&&n.geo.available[l][d].height>=a.outerSize.height?a.fits=!0:a.fits=!1:a.fits=g.fits,"window"==l&&(a.fits?a.whole="top"==d||"bottom"==d?n.geo.origin.windowOffset.right>=o.__options.minIntersection&&n.geo.window.size.width-n.geo.origin.windowOffset.left>=o.__options.minIntersection:n.geo.origin.windowOffset.bottom>=o.__options.minIntersection&&n.geo.window.size.height-n.geo.origin.windowOffset.top>=o.__options.minIntersection:a.whole=!1),s.push(a),a.whole)c=!0;else if("natural"==a.mode&&(a.fits||a.size.width<=n.geo.available[l][d].width))return!1}})}}),o.__instance._trigger({edit:function(t){s=t},event:e,helper:n,results:s,type:"positionTested"}),s.sort(function(t,e){if(t.whole&&!e.whole)return-1;if(!t.whole&&e.whole)return 1;if(t.whole&&e.whole){var n=o.__options.side.indexOf(t.side),i=o.__options.side.indexOf(e.side);return i>n?-1:n>i?1:"natural"==t.mode?-1:1}if(t.fits&&!e.fits)return-1;if(!t.fits&&e.fits)return 1;if(t.fits&&e.fits){var n=o.__options.side.indexOf(t.side),i=o.__options.side.indexOf(e.side);return i>n?-1:n>i?1:"natural"==t.mode?-1:1}return"document"==t.container&&"bottom"==t.side&&"natural"==t.mode?-1:1}),i=s[0],i.coord={},i.side){case"left":case"right":i.coord.top=Math.floor(i.target-i.size.height/2);break;case"bottom":case"top":i.coord.left=Math.floor(i.target-i.size.width/2)}switch(i.side){case"left":i.coord.left=n.geo.origin.windowOffset.left-i.outerSize.width;break;case"right":i.coord.left=n.geo.origin.windowOffset.right+i.distance.horizontal;break;case"top":i.coord.top=n.geo.origin.windowOffset.top-i.outerSize.height;break;case"bottom":i.coord.top=n.geo.origin.windowOffset.bottom+i.distance.vertical}"window"==i.container?"top"==i.side||"bottom"==i.side?i.coord.left<0?n.geo.origin.windowOffset.right-this.__options.minIntersection>=0?i.coord.left=0:i.coord.left=n.geo.origin.windowOffset.right-this.__options.minIntersection-1:i.coord.left>n.geo.window.size.width-i.size.width&&(n.geo.origin.windowOffset.left+this.__options.minIntersection<=n.geo.window.size.width?i.coord.left=n.geo.window.size.width-i.size.width:i.coord.left=n.geo.origin.windowOffset.left+this.__options.minIntersection+1-i.size.width):i.coord.top<0?n.geo.origin.windowOffset.bottom-this.__options.minIntersection>=0?i.coord.top=0:i.coord.top=n.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:i.coord.top>n.geo.window.size.height-i.size.height&&(n.geo.origin.windowOffset.top+this.__options.minIntersection<=n.geo.window.size.height?i.coord.top=n.geo.window.size.height-i.size.height:i.coord.top=n.geo.origin.windowOffset.top+this.__options.minIntersection+1-i.size.height):(i.coord.left>n.geo.window.size.width-i.size.width&&(i.coord.left=n.geo.window.size.width-i.size.width),i.coord.left<0&&(i.coord.left=0)),o.__sideChange(a,i.side),n.tooltipClone=a[0],n.tooltipParent=o.__instance.option("parent").parent[0],n.mode=i.mode,n.whole=i.whole,n.origin=o.__instance._$origin[0],n.tooltip=o.__instance._$tooltip[0],delete i.container,delete i.fits,delete i.mode,delete i.outerSize,delete i.whole,i.distance=i.distance.horizontal||i.distance.vertical;var h=t.extend(!0,{},i);if(o.__instance._trigger({edit:function(t){i=t},event:e,helper:n,position:h,type:"position"}),o.__options.functionPosition){var f=o.__options.functionPosition.call(o,o.__instance,n,h);f&&(i=f)}u.destroy();var d,p;"top"==i.side||"bottom"==i.side?(d={prop:"left",val:i.target-i.coord.left},p=i.size.width-this.__options.minIntersection):(d={prop:"top",val:i.target-i.coord.top},p=i.size.height-this.__options.minIntersection),d.val<this.__options.minIntersection?d.val=this.__options.minIntersection:d.val>p&&(d.val=p);var g;g=n.geo.origin.fixedLineage?n.geo.origin.windowOffset:{left:n.geo.origin.windowOffset.left+n.geo.window.scroll.left,top:n.geo.origin.windowOffset.top+n.geo.window.scroll.top},i.coord={left:g.left+(i.coord.left-n.geo.origin.windowOffset.left),top:g.top+(i.coord.top-n.geo.origin.windowOffset.top)},o.__sideChange(o.__instance._$tooltip,i.side),n.geo.origin.fixedLineage?o.__instance._$tooltip.css("position","fixed"):o.__instance._$tooltip.css("position",""),o.__instance._$tooltip.css({left:i.coord.left,top:i.coord.top,height:i.size.height,width:i.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(d.prop,d.val),o.__instance._$tooltip.appendTo(o.__instance.option("parent")),o.__instance._trigger({type:"repositioned",event:e,position:i})},__sideChange:function(t,e){t.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+e)},__targetFind:function(t){var e={},n=this.__instance._$origin[0].getClientRects();if(n.length>1){1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),n=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1))}if(n.length<2)e.top=Math.floor(t.geo.origin.windowOffset.left+t.geo.origin.size.width/2),e.bottom=e.top,e.left=Math.floor(t.geo.origin.windowOffset.top+t.geo.origin.size.height/2),e.right=e.left;else{var i=n[0];e.top=Math.floor(i.left+(i.right-i.left)/2),i=n.length>2?n[Math.ceil(n.length/2)-1]:n[0],e.right=Math.floor(i.top+(i.bottom-i.top)/2),i=n[n.length-1],e.bottom=Math.floor(i.left+(i.right-i.left)/2),i=n.length>2?n[Math.ceil((n.length+1)/2)-1]:n[n.length-1],e.left=Math.floor(i.top+(i.bottom-i.top)/2)}return e}}}),t});