!function(u){"object"==typeof exports&&"undefined"!=typeof module?module.exports=u():"function"==typeof define&&define.amd?define([],u):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).BrowserFS=u()}(function(){return function g(q,l,n){function f(b,a){if(!l[b]){if(!q[b]){var d="function"==typeof require&&require;if(!a&&d)return d(b,!0);if(e)return e(b,!0);d=Error("Cannot find module '"+b+"'");throw d.code="MODULE_NOT_FOUND",d;}d=l[b]={exports:{}};
q[b][0].call(d.exports,function(c){var d=q[b][1][c];return f(d?d:c)},d,d.exports,g,q,l,n)}return l[b].exports}for(var e="function"==typeof require&&require,b=0;b<n.length;b++)f(n[b]);return f}({1:[function(g,q,l){!function(){function g(){}function f(c){var d=!1;return function(){if(d)throw Error("Callback was already called.");d=!0;c.apply(this,arguments)}}function e(c){var d=!1;return function(){d||(d=!0,c.apply(this,arguments))}}function b(c){return Z(c)||"number"==typeof c.length&&0<=c.length&&
0===c.length%1}function p(c,d){return b(c)?a(c,d):k(c,d)}function a(c,d){for(var a=-1,m=c.length;++a<m;)d(c[a],a,c)}function d(c,d){for(var a=-1,m=c.length,b=Array(m);++a<m;)b[a]=d(c[a],a,c);return b}function c(c){return d(Array(c),function(c,d){return d})}function h(c,d,m){return a(c,function(c,a,b){m=d(m,c,a,b)}),m}function k(c,d){a(P(c),function(a){d(c[a],a)})}function y(c){var d,a,m=-1;return b(c)?(d=c.length,function(){return m++,d>m?m:null}):(a=P(c),d=a.length,function(){return m++,d>m?a[m]:
null})}function G(c,d){d=d||0;var a=-1,m=c.length;d&&(m-=d,m=0>m?0:m);for(var b=Array(m);++a<m;)b[a]=c[a+d];return b}function F(c){return function(d,a,m){return c(d,m)}}function r(c){return function(d,a,m){m=e(m||g);d=d||[];var b=y(d);if(0>=c)return m(null);var k=!1,C=0,h=!1;!function U(){if(k&&0>=C)return m(null);for(;c>C&&!h;){var r=b();if(null===r)return k=!0,void(0>=C&&m(null));C+=1;a(d[r],r,f(function(c){--C;c?(m(c),h=!0):U()}))}}()}}function m(c){return function(d,a,m){return c(B.eachOf,d,a,
m)}}function C(c,d){return function(a,m,b){return d(r(c),a,m,b)}}function A(c){return function(d,a,m){return c(B.eachOfSeries,d,a,m)}}function D(c,d,a,m){m=e(m||g);var b=[];c(d,function(c,d,m){a(c,function(c,a){b[d]=a;m(c)})},function(c){m(c,b)})}function O(c,a,m,b){var k=[];a=d(a,function(c,d){return{index:d,value:c}});c(a,function(c,d,a){m(c.value,function(d){d&&k.push(c);a()})},function(){b(d(k.sort(function(c,d){return c.index-d.index}),function(c){return c.value}))})}function H(c,a,m,b){var k=
[];a=d(a,function(c,d){return{index:d,value:c}});c(a,function(c,d,a){m(c.value,function(d){d||k.push(c);a()})},function(){b(d(k.sort(function(c,d){return c.index-d.index}),function(c){return c.value}))})}function t(c,d,a,m){c(d,function(c,d,b){a(c,function(d){d?(m(c),m=g):b()})},function(){m()})}function z(c,d,a){a=a||g;var m=b(d)?[]:{};c(d,function(c,d,a){c(function(c){var b=G(arguments,1);1>=b.length&&(b=b[0]);m[d]=b;a(c)})},function(c){a(c,m)})}function L(c,d,a,m){var b=[];c(d,function(c,d,m){a(c,
function(c,d){b=b.concat(d||[]);m(c)})},function(c){m(c,b)})}function K(c,m,b){function k(c,d,m,b){if(null!=b&&"function"!=typeof b)throw Error("task callback must be a function");return c.started=!0,Z(d)||(d=[d]),0===d.length&&c.idle()?B.setImmediate(function(){c.drain()}):(a(d,function(d){d={data:d,callback:b||g};m?c.tasks.unshift(d):c.tasks.push(d);c.tasks.length===c.concurrency&&c.saturated()}),void B.setImmediate(c.process))}function C(c,d){return function(){--h;var m=arguments;a(d,function(c){c.callback.apply(c,
m)});0===c.tasks.length+h&&c.drain();c.process()}}if(null==m)m=1;else if(0===m)throw Error("Concurrency must not be zero");var h=0,r={tasks:[],concurrency:m,saturated:g,empty:g,drain:g,started:!1,paused:!1,push:function(c,d){k(r,c,!1,d)},kill:function(){r.drain=g;r.tasks=[]},unshift:function(c,d){k(r,c,!0,d)},process:function(){if(!r.paused&&h<r.concurrency&&r.tasks.length)for(;h<r.concurrency&&r.tasks.length;){var a=b?r.tasks.splice(0,b):r.tasks.splice(0,r.tasks.length),m=d(a,function(c){return c.data});
0===r.tasks.length&&r.empty();h+=1;a=f(C(r,a));c(m,a)}},length:function(){return r.tasks.length},running:function(){return h},idle:function(){return 0===r.tasks.length+h},pause:function(){r.paused=!0},resume:function(){if(!1!==r.paused){r.paused=!1;for(var c=Math.min(r.concurrency,r.tasks.length),d=1;c>=d;d++)B.setImmediate(r.process)}}};return r}function l(c){return function(d){var m=G(arguments,1);d.apply(null,m.concat([function(d){var m=G(arguments,1);"undefined"!=typeof console&&(d?console.error&&
console.error(d):console[c]&&a(m,function(d){console[c](d)}))}]))}}function E(d){return function(a,m,b){d(c(a),m,b)}}function R(c,d){function a(){var m=this,b=G(arguments),k=b.pop();return c(d,function(c,d,a){c.apply(m,b.concat([a]))},k)}if(2<arguments.length){var m=G(arguments,2);return a.apply(this,m)}return a}function Y(c){return function(){var d=G(arguments),a=d.pop();d.push(function(){var c=arguments;m?B.setImmediate(function(){a.apply(null,c)}):a.apply(null,c)});var m=!0;c.apply(this,d);m=!1}}
var x,w,B={};x="object"==typeof window&&this===window?window:"object"==typeof global&&this===global?global:this;null!=x&&(w=x.async);B.noConflict=function(){return x.async=w,B};var aa,M=Object.prototype.toString,Z=Array.isArray||function(c){return"[object Array]"===M.call(c)},P=Object.keys||function(c){var d=[],a;for(a in c)c.hasOwnProperty(a)&&d.push(a);return d};"function"==typeof setImmediate&&(aa=setImmediate);"undefined"!=typeof process&&process.nextTick?(B.nextTick=process.nextTick,aa?B.setImmediate=
function(c){aa(c)}:B.setImmediate=B.nextTick):aa?(B.nextTick=function(c){aa(c)},B.setImmediate=B.nextTick):(B.nextTick=function(c){setTimeout(c,0)},B.setImmediate=B.nextTick);B.forEach=B.each=function(c,d,a){return B.eachOf(c,F(d),a)};B.forEachSeries=B.eachSeries=function(c,d,a){return B.eachOfSeries(c,F(d),a)};B.forEachLimit=B.eachLimit=function(c,d,a,m){return r(d)(c,F(a),m)};B.forEachOf=B.eachOf=function(c,d,a){function m(c){c?a(c):(C+=1,C>=k&&a(null))}a=e(a||g);c=c||[];var k=b(c)?c.length:P(c).length,
C=0;return k?void p(c,function(a,b){d(c[b],b,f(m))}):a(null)};B.forEachOfSeries=B.eachOfSeries=function(c,d,a){function m(){var C=!0;return null===k?a(null):(d(c[k],k,f(function(c){if(c)a(c);else{if(k=b(),null===k)return a(null);C?B.nextTick(m):m()}})),void(C=!1))}a=e(a||g);c=c||[];var b=y(c),k=b();m()};B.forEachOfLimit=B.eachOfLimit=function(c,d,a,m){r(d)(c,a,m)};B.map=m(D);B.mapSeries=A(D);B.mapLimit=function(c,d,a,m){return C(d,D)(c,a,m)};B.inject=B.foldl=B.reduce=function(c,d,a,m){B.eachOfSeries(c,
function(c,m,b){a(d,c,function(c,a){d=a;b(c)})},function(c){m(c||null,d)})};B.foldr=B.reduceRight=function(c,a,m,b){c=d(c,function(c){return c}).reverse();B.reduce(c,a,m,b)};B.select=B.filter=m(O);B.selectSeries=B.filterSeries=A(O);B.reject=m(H);B.rejectSeries=A(H);B.detect=m(t);B.detectSeries=A(t);B.any=B.some=function(c,d,a){B.eachOf(c,function(c,m,b){d(c,function(c){c&&(a(!0),a=g);b()})},function(){a(!1)})};B.all=B.every=function(c,d,a){B.eachOf(c,function(c,m,b){d(c,function(c){c||(a(!1),a=g);
b()})},function(){a(!0)})};B.sortBy=function(c,a,m){function b(c,d){var a=c.criteria,m=d.criteria;return m>a?-1:a>m?1:0}B.map(c,function(c,d){a(c,function(a,m){a?d(a):d(null,{value:c,criteria:m})})},function(c,a){return c?m(c):void m(null,d(a.sort(b),function(c){return c.value}))})};B.auto=function(c,d){function m(c){A.unshift(c)}function b(){C--;a(A.slice(0),function(c){c()})}d=e(d||g);var k=P(c),C=k.length;if(!C)return d(null);var r={},A=[];m(function(){C||d(null,r)});a(k,function(k){function C(c){var m=
G(arguments,1);if(1>=m.length&&(m=m[0]),c){var h={};a(P(r),function(c){h[c]=r[c]});h[k]=m;d(c,h)}else r[k]=m,B.setImmediate(b)}function z(){return h(e,function(c,d){return c&&r.hasOwnProperty(d)},!0)&&!r.hasOwnProperty(k)}function y(){if(z()){a:for(var c=0;c<A.length;c+=1)if(A[c]===y){A.splice(c,1);break a}p[p.length-1](C,r)}}for(var D,p=Z(c[k])?c[k]:[c[k]],e=p.slice(0,Math.abs(p.length-1))||[],E=e.length;E--;){if(!(D=c[e[E]]))throw Error("Has inexistant dependency");if(Z(D)&&~D.indexOf(k))throw Error("Has cyclic dependencies");
}z()?p[p.length-1](C,r):m(y)})};B.retry=function(c,d,a){function m(k,C){function r(c,d){return function(a){c(function(c,m){a(!c||d,{err:c,result:m})},C)}}for(;c;)b.push(r(d,!--c));B.series(b,function(c,d){d=d[d.length-1];(k||a)(d.err,d.result)})}var b=[];return"function"==typeof c&&(a=d,d=c,c=5),c=parseInt(c,10)||5,a?m():m};B.waterfall=function(c,d){function a(c){return function(m){if(m)d.apply(null,arguments);else{var b=G(arguments,1),k=c.next();k?b.push(a(k)):b.push(d);Y(c).apply(null,b)}}}return(d=
e(d||g),Z(c))?c.length?void a(B.iterator(c))():d():d(Error("First argument to waterfall must be an array of functions"))};B.parallel=function(c,d){z(B.eachOf,c,d)};B.parallelLimit=function(c,d,a){z(r(d),c,a)};B.series=function(c,d){d=d||g;var a=b(c)?[]:{};B.eachOfSeries(c,function(c,d,m){c(function(c){var b=G(arguments,1);1>=b.length&&(b=b[0]);a[d]=b;m(c)})},function(c){d(c,a)})};B.iterator=function(c){function d(a){function m(){return c.length&&c[a].apply(null,arguments),m.next()}return m.next=function(){return a<
c.length-1?d(a+1):null},m}return d(0)};B.apply=function(c){var d=G(arguments,1);return function(){return c.apply(null,d.concat(G(arguments)))}};B.concat=m(L);B.concatSeries=A(L);B.whilst=function(c,d,a){c()?d(function(m){return m?a(m):void B.whilst(c,d,a)}):a(null)};B.doWhilst=function(c,d,a){c(function(m){if(m)return a(m);var b=G(arguments,1);d.apply(null,b)?B.doWhilst(c,d,a):a(null)})};B.until=function(c,d,a){c()?a(null):d(function(m){return m?a(m):void B.until(c,d,a)})};B.doUntil=function(c,d,
a){c(function(m){if(m)return a(m);var b=G(arguments,1);d.apply(null,b)?a(null):B.doUntil(c,d,a)})};B.queue=function(c,d){return K(function(d,a){c(d[0],a)},d,1)};B.priorityQueue=function(c,d){function m(c,d){return c.priority-d.priority}function b(c,d,a){for(var m=-1,k=c.length-1;k>m;){var C=m+(k-m+1>>>1);0<=a(d,c[C])?m=C:k=C-1}return m}function k(c,d,C,r){if(null!=r&&"function"!=typeof r)throw Error("task callback must be a function");return c.started=!0,Z(d)||(d=[d]),0===d.length?B.setImmediate(function(){c.drain()}):
void a(d,function(d){d={data:d,priority:C,callback:"function"==typeof r?r:g};c.tasks.splice(b(c.tasks,d,m)+1,0,d);c.tasks.length===c.concurrency&&c.saturated();B.setImmediate(c.process)})}var C=B.queue(c,d);return C.push=function(c,d,a){k(C,c,d,a)},delete C.unshift,C};B.cargo=function(c,d){return K(c,1,d)};B.log=l("log");B.dir=l("dir");B.memoize=function(c,d){function a(){var k=G(arguments),C=k.pop(),r=d.apply(null,k);r in m?B.nextTick(function(){C.apply(null,m[r])}):r in b?b[r].push(C):(b[r]=[C],
c.apply(null,k.concat([function(){m[r]=G(arguments);var c=b[r];delete b[r];for(var d=0,a=c.length;a>d;d++)c[d].apply(null,arguments)}])))}var m={},b={};return d=d||function(c){return c},a.memo=m,a.unmemoized=c,a};B.unmemoize=function(c){return function(){return(c.unmemoized||c).apply(null,arguments)}};B.times=E(B.map);B.timesSeries=E(B.mapSeries);B.timesLimit=function(d,a,m,b){return B.mapLimit(c(d),a,m,b)};B.seq=function(){var c=arguments;return function(){var d=this,a=G(arguments),m=a.slice(-1)[0];
"function"==typeof m?a.pop():m=g;B.reduce(c,a,function(c,a,m){a.apply(d,c.concat([function(){var c=arguments[0],d=G(arguments,1);m(c,d)}]))},function(c,a){m.apply(d,[c].concat(a))})}};B.compose=function(){return B.seq.apply(null,Array.prototype.reverse.call(arguments))};B.applyEach=function(){var c=G(arguments);return R.apply(null,[B.eachOf].concat(c))};B.applyEachSeries=function(){var c=G(arguments);return R.apply(null,[B.eachOfSeries].concat(c))};B.forever=function(c,d){function a(c){return c?m(c):
void b(a)}var m=f(d||g),b=Y(c);a()};B.ensureAsync=Y;"undefined"!=typeof q&&q.exports?q.exports=B:x.async=B}()},{}],2:[function(g,q,l){!function(g){"object"==typeof l&&"undefined"!=typeof q?q.exports=g():("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).pako=g()}(function(){return function f(e,b,p){function a(c,k){if(!b[c]){if(!e[c]){var y="function"==typeof g&&g;if(!k&&y)return y(c,!0);if(d)return d(c,!0);y=Error("Cannot find module '"+c+"'");
throw y.code="MODULE_NOT_FOUND",y;}y=b[c]={exports:{}};e[c][0].call(y.exports,function(d){var b=e[c][1][d];return a(b?b:d)},y,y.exports,f,e,b,p)}return b[c].exports}for(var d="function"==typeof g&&g,c=0;c<p.length;c++)a(p[c]);return a}({1:[function(g,e,b){g="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;b.assign=function(d){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var a=c.shift();if(a){if("object"!=typeof a)throw new TypeError(a+
"must be non-object");for(var b in a)a.hasOwnProperty(b)&&(d[b]=a[b])}}return d};b.shrinkBuf=function(d,c){return d.length===c?d:d.subarray?d.subarray(0,c):(d.length=c,d)};var p={arraySet:function(d,c,a,b,y){if(c.subarray&&d.subarray)return void d.set(c.subarray(a,a+b),y);for(var p=0;b>p;p++)d[y+p]=c[a+p]},flattenChunks:function(d){var c,a,b,y,p;c=b=0;for(a=d.length;a>c;c++)b+=d[c].length;p=new Uint8Array(b);c=b=0;for(a=d.length;a>c;c++)y=d[c],p.set(y,b),b+=y.length;return p}},a={arraySet:function(d,
c,a,b,y){for(var p=0;b>p;p++)d[y+p]=c[a+p]},flattenChunks:function(d){return[].concat.apply([],d)}};b.setTyped=function(d){d?(b.Buf8=Uint8Array,b.Buf16=Uint16Array,b.Buf32=Int32Array,b.assign(b,p)):(b.Buf8=Array,b.Buf16=Array,b.Buf32=Array,b.assign(b,a))};b.setTyped(g)},{}],2:[function(g,e,b){function p(b,h){if(65537>h&&(b.subarray&&c||!b.subarray&&d))return String.fromCharCode.apply(null,a.shrinkBuf(b,h));for(var p="",e=0;h>e;e++)p+=String.fromCharCode(b[e]);return p}var a=g("./common"),d=!0,c=!0;
try{String.fromCharCode.apply(null,[0])}catch(k){d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(k){c=!1}var h=new a.Buf8(256);for(g=0;256>g;g++)h[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;h[254]=h[254]=1;b.string2buf=function(c){var d,b,h,r,m,C=c.length,A=0;for(r=0;C>r;r++)b=c.charCodeAt(r),55296===(64512&b)&&C>r+1&&(h=c.charCodeAt(r+1),56320===(64512&h)&&(b=65536+(b-55296<<10)+(h-56320),r++)),A+=128>b?1:2048>b?2:65536>b?3:4;d=new a.Buf8(A);for(r=m=0;A>m;r++)b=c.charCodeAt(r),
55296===(64512&b)&&C>r+1&&(h=c.charCodeAt(r+1),56320===(64512&h)&&(b=65536+(b-55296<<10)+(h-56320),r++)),128>b?d[m++]=b:2048>b?(d[m++]=192|b>>>6,d[m++]=128|63&b):65536>b?(d[m++]=224|b>>>12,d[m++]=128|b>>>6&63,d[m++]=128|63&b):(d[m++]=240|b>>>18,d[m++]=128|b>>>12&63,d[m++]=128|b>>>6&63,d[m++]=128|63&b);return d};b.buf2binstring=function(c){return p(c,c.length)};b.binstring2buf=function(c){for(var d=new a.Buf8(c.length),b=0,h=d.length;h>b;b++)d[b]=c.charCodeAt(b);return d};b.buf2string=function(c,d){var a,
b,r,m,C=d||c.length,A=Array(2*C);for(a=b=0;C>a;)if(r=c[a++],128>r)A[b++]=r;else if(m=h[r],4<m)A[b++]=65533,a+=m-1;else{for(r&=2===m?31:3===m?15:7;1<m&&C>a;)r=r<<6|63&c[a++],m--;1<m?A[b++]=65533:65536>r?A[b++]=r:(r-=65536,A[b++]=55296|r>>10&1023,A[b++]=56320|1023&r)}return p(A,b)};b.utf8border=function(c,d){var a;d=d||c.length;d>c.length&&(d=c.length);for(a=d-1;0<=a&&128===(192&c[a]);)a--;return 0>a?d:0===a?d:a+h[c[a]]>d?a:d}},{"./common":1}],3:[function(g,e,b){e.exports=function(b,a,d,c){var h=65535&
b|0;b=b>>>16&65535|0;for(var k=0;0!==d;){k=2E3<d?2E3:d;d-=k;do h=h+a[c++]|0,b=b+h|0;while(--k);h%=65521;b%=65521}return h|b<<16|0}},{}],4:[function(g,e,b){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,
Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],5:[function(g,e,b){var p=function(){for(var a,d=[],c=0;256>c;c++){a=c;for(var b=0;8>b;b++)a=1&a?3988292384^a>>>1:a>>>1;d[c]=a}return d}();e.exports=function(a,d,c,b){c=b+c;for(a^=-1;c>b;b++)a=a>>>8^p[255&(a^d[b])];return-1^a}},{}],6:[function(g,e,b){e.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},{}],7:[function(g,e,b){e.exports=function(b,a){var d,
c,h,k,y,e,F,r,m,C,A,D,g,f,t,z,L,K,l,E,R,q,x,w;d=b.state;c=b.next_in;x=b.input;h=c+(b.avail_in-5);k=b.next_out;w=b.output;y=k-(a-b.avail_out);e=k+(b.avail_out-257);F=d.dmax;r=d.wsize;m=d.whave;C=d.wnext;A=d.window;D=d.hold;g=d.bits;f=d.lencode;t=d.distcode;z=(1<<d.lenbits)-1;L=(1<<d.distbits)-1;a:do b:for(15>g&&(D+=x[c++]<<g,g+=8,D+=x[c++]<<g,g+=8),K=f[D&z];;){if(l=K>>>24,D>>>=l,g-=l,l=K>>>16&255,0===l)w[k++]=65535&K;else{if(!(16&l)){if(0===(64&l)){K=f[(65535&K)+(D&(1<<l)-1)];continue b}if(32&l){d.mode=
12;break a}b.msg="invalid literal/length code";d.mode=30;break a}E=65535&K;(l&=15)&&(l>g&&(D+=x[c++]<<g,g+=8),E+=D&(1<<l)-1,D>>>=l,g-=l);15>g&&(D+=x[c++]<<g,g+=8,D+=x[c++]<<g,g+=8);K=t[D&L];c:for(;;){if(l=K>>>24,D>>>=l,g-=l,l=K>>>16&255,!(16&l)){if(0===(64&l)){K=t[(65535&K)+(D&(1<<l)-1)];continue c}b.msg="invalid distance code";d.mode=30;break a}if(R=65535&K,l&=15,l>g&&(D+=x[c++]<<g,g+=8,l>g&&(D+=x[c++]<<g,g+=8)),R+=D&(1<<l)-1,R>F){b.msg="invalid distance too far back";d.mode=30;break a}if(D>>>=l,
g-=l,l=k-y,R>l){if(l=R-l,l>m&&d.sane){b.msg="invalid distance too far back";d.mode=30;break a}if(K=0,q=A,0===C){if(K+=r-l,E>l){E-=l;do w[k++]=A[K++];while(--l);K=k-R;q=w}}else if(l>C){if(K+=r+C-l,l-=C,E>l){E-=l;do w[k++]=A[K++];while(--l);if(K=0,E>C){l=C;E-=l;do w[k++]=A[K++];while(--l);K=k-R;q=w}}}else if(K+=C-l,E>l){E-=l;do w[k++]=A[K++];while(--l);K=k-R;q=w}for(;2<E;)w[k++]=q[K++],w[k++]=q[K++],w[k++]=q[K++],E-=3;E&&(w[k++]=q[K++],1<E&&(w[k++]=q[K++]))}else{K=k-R;do w[k++]=w[K++],w[k++]=w[K++],
w[k++]=w[K++],E-=3;while(2<E);E&&(w[k++]=w[K++],1<E&&(w[k++]=w[K++]))}break}}break}while(h>c&&e>k);E=g>>3;c-=E;g-=E<<3;b.next_in=c;b.next_out=k;b.avail_in=h>c?5+(h-c):5-(c-h);b.avail_out=e>k?257+(e-k):257-(k-e);d.hold=D&(1<<g)-1;d.bits=g}},{}],8:[function(g,e,b){function p(c){return(c>>>24&255)+(c>>>8&65280)+((65280&c)<<8)+((255&c)<<24)}function a(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=
0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new F.Buf16(320);this.work=new F.Buf16(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function d(c){var d;return c&&c.state?(d=c.state,c.total_in=c.total_out=d.total=0,c.msg="",d.wrap&&(c.adler=1&d.wrap),d.mode=H,d.last=0,d.havedict=0,d.dmax=32768,d.head=null,d.hold=0,d.bits=0,
d.lencode=d.lendyn=new F.Buf32(t),d.distcode=d.distdyn=new F.Buf32(z),d.sane=1,d.back=-1,D):O}function c(c){var a;return c&&c.state?(a=c.state,a.wsize=0,a.whave=0,a.wnext=0,d(c)):O}function h(d,a){var b,m;return d&&d.state?(m=d.state,0>a?(b=0,a=-a):(b=(a>>4)+1,48>a&&(a&=15)),a&&(8>a||15<a)?O:(null!==m.window&&m.wbits!==a&&(m.window=null),m.wrap=b,m.wbits=a,c(d))):O}function k(c,d){var b,m;return c?(m=new a,c.state=m,m.window=null,b=h(c,d),b!==D&&(c.state=null),b):O}var y,G,F=g("../utils/common"),
r=g("./adler32"),m=g("./crc32"),C=g("./inffast"),A=g("./inftrees"),D=0,O=-2,H=1,t=852,z=592,l=!0;b.inflateReset=c;b.inflateReset2=h;b.inflateResetKeep=d;b.inflateInit=function(c){return k(c,15)};b.inflateInit2=k;b.inflate=function(c,d){var a,b,k,h,z,e,g,t,f,q,J,I,T,Q,S,N,W,ba,X,U,da,ca,ea=0,fa=new F.Buf8(4),ha=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!c||!c.state||!c.output||!c.input&&0!==c.avail_in)return O;a=c.state;12===a.mode&&(a.mode=13);z=c.next_out;k=c.output;g=c.avail_out;h=c.next_in;
b=c.input;e=c.avail_in;t=a.hold;f=a.bits;q=e;J=g;da=D;a:for(;;)switch(a.mode){case H:if(0===a.wrap){a.mode=13;break}for(;16>f;){if(0===e)break a;e--;t+=b[h++]<<f;f+=8}if(2&a.wrap&&35615===t){a.check=0;fa[0]=255&t;fa[1]=t>>>8&255;a.check=m(a.check,fa,2,0);f=t=0;a.mode=2;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&t)<<8)+(t>>8))%31){c.msg="incorrect header check";a.mode=30;break}if(8!==(15&t)){c.msg="unknown compression method";a.mode=30;break}if(t>>>=4,f-=4,U=(15&t)+8,0===a.wbits)a.wbits=
U;else if(U>a.wbits){c.msg="invalid window size";a.mode=30;break}a.dmax=1<<U;c.adler=a.check=1;a.mode=512&t?10:12;f=t=0;break;case 2:for(;16>f;){if(0===e)break a;e--;t+=b[h++]<<f;f+=8}if(a.flags=t,8!==(255&a.flags)){c.msg="unknown compression method";a.mode=30;break}if(57344&a.flags){c.msg="unknown header flags set";a.mode=30;break}a.head&&(a.head.text=t>>8&1);512&a.flags&&(fa[0]=255&t,fa[1]=t>>>8&255,a.check=m(a.check,fa,2,0));f=t=0;a.mode=3;case 3:for(;32>f;){if(0===e)break a;e--;t+=b[h++]<<f;f+=
8}a.head&&(a.head.time=t);512&a.flags&&(fa[0]=255&t,fa[1]=t>>>8&255,fa[2]=t>>>16&255,fa[3]=t>>>24&255,a.check=m(a.check,fa,4,0));f=t=0;a.mode=4;case 4:for(;16>f;){if(0===e)break a;e--;t+=b[h++]<<f;f+=8}a.head&&(a.head.xflags=255&t,a.head.os=t>>8);512&a.flags&&(fa[0]=255&t,fa[1]=t>>>8&255,a.check=m(a.check,fa,2,0));f=t=0;a.mode=5;case 5:if(1024&a.flags){for(;16>f;){if(0===e)break a;e--;t+=b[h++]<<f;f+=8}a.length=t;a.head&&(a.head.extra_len=t);512&a.flags&&(fa[0]=255&t,fa[1]=t>>>8&255,a.check=m(a.check,
fa,2,0));f=t=0}else a.head&&(a.head.extra=null);a.mode=6;case 6:if(1024&a.flags&&(I=a.length,I>e&&(I=e),I&&(a.head&&(U=a.head.extra_len-a.length,a.head.extra||(a.head.extra=Array(a.head.extra_len)),F.arraySet(a.head.extra,b,h,I,U)),512&a.flags&&(a.check=m(a.check,b,I,h)),e-=I,h+=I,a.length-=I),a.length))break a;a.length=0;a.mode=7;case 7:if(2048&a.flags){if(0===e)break a;I=0;do U=b[h+I++],a.head&&U&&65536>a.length&&(a.head.name+=String.fromCharCode(U));while(U&&e>I);if(512&a.flags&&(a.check=m(a.check,
b,I,h)),e-=I,h+=I,U)break a}else a.head&&(a.head.name=null);a.length=0;a.mode=8;case 8:if(4096&a.flags){if(0===e)break a;I=0;do U=b[h+I++],a.head&&U&&65536>a.length&&(a.head.comment+=String.fromCharCode(U));while(U&&e>I);if(512&a.flags&&(a.check=m(a.check,b,I,h)),e-=I,h+=I,U)break a}else a.head&&(a.head.comment=null);a.mode=9;case 9:if(512&a.flags){for(;16>f;){if(0===e)break a;e--;t+=b[h++]<<f;f+=8}if(t!==(65535&a.check)){c.msg="header crc mismatch";a.mode=30;break}f=t=0}a.head&&(a.head.hcrc=a.flags>>
9&1,a.head.done=!0);c.adler=a.check=0;a.mode=12;break;case 10:for(;32>f;){if(0===e)break a;e--;t+=b[h++]<<f;f+=8}c.adler=a.check=p(t);f=t=0;a.mode=11;case 11:if(0===a.havedict)return c.next_out=z,c.avail_out=g,c.next_in=h,c.avail_in=e,a.hold=t,a.bits=f,2;c.adler=a.check=1;a.mode=12;case 12:if(5===d||6===d)break a;case 13:if(a.last){t>>>=7&f;f-=7&f;a.mode=27;break}for(;3>f;){if(0===e)break a;e--;t+=b[h++]<<f;f+=8}switch(a.last=1&t,t>>>=1,--f,3&t){case 0:a.mode=14;break;case 1:Q=a;if(l){N=void 0;y=
new F.Buf32(512);G=new F.Buf32(32);for(N=0;144>N;)Q.lens[N++]=8;for(;256>N;)Q.lens[N++]=9;for(;280>N;)Q.lens[N++]=7;for(;288>N;)Q.lens[N++]=8;A(1,Q.lens,0,288,y,0,Q.work,{bits:9});for(N=0;32>N;)Q.lens[N++]=5;A(2,Q.lens,0,32,G,0,Q.work,{bits:5});l=!1}Q.lencode=y;Q.lenbits=9;Q.distcode=G;Q.distbits=5;if(a.mode=20,6===d){t>>>=2;f-=2;break a}break;case 2:a.mode=17;break;case 3:c.msg="invalid block type",a.mode=30}t>>>=2;f-=2;break;case 14:t>>>=7&f;for(f-=7&f;32>f;){if(0===e)break a;e--;t+=b[h++]<<f;f+=
8}if((65535&t)!==(t>>>16^65535)){c.msg="invalid stored block lengths";a.mode=30;break}if(a.length=65535&t,t=0,f=0,a.mode=15,6===d)break a;case 15:a.mode=16;case 16:if(I=a.length){if(I>e&&(I=e),I>g&&(I=g),0===I)break a;F.arraySet(k,b,h,I,z);e-=I;h+=I;g-=I;z+=I;a.length-=I;break}a.mode=12;break;case 17:for(;14>f;){if(0===e)break a;e--;t+=b[h++]<<f;f+=8}if(a.nlen=(31&t)+257,t>>>=5,f-=5,a.ndist=(31&t)+1,t>>>=5,f-=5,a.ncode=(15&t)+4,t>>>=4,f-=4,286<a.nlen||30<a.ndist){c.msg="too many length or distance symbols";
a.mode=30;break}a.have=0;a.mode=18;case 18:for(;a.have<a.ncode;){for(;3>f;){if(0===e)break a;e--;t+=b[h++]<<f;f+=8}a.lens[ha[a.have++]]=7&t;t>>>=3;f-=3}for(;19>a.have;)a.lens[ha[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,ca={bits:a.lenbits},da=A(0,a.lens,0,19,a.lencode,0,a.work,ca),a.lenbits=ca.bits,da){c.msg="invalid code lengths set";a.mode=30;break}a.have=0;a.mode=19;case 19:for(;a.have<a.nlen+a.ndist;){for(;ea=a.lencode[t&(1<<a.lenbits)-1],S=ea>>>24,N=65535&ea,!(f>=S);){if(0===e)break a;e--;
t+=b[h++]<<f;f+=8}if(16>N)t>>>=S,f-=S,a.lens[a.have++]=N;else{if(16===N){for(Q=S+2;Q>f;){if(0===e)break a;e--;t+=b[h++]<<f;f+=8}if(t>>>=S,f-=S,0===a.have){c.msg="invalid bit length repeat";a.mode=30;break}U=a.lens[a.have-1];I=3+(3&t);t>>>=2;f-=2}else if(17===N){for(Q=S+3;Q>f;){if(0===e)break a;e--;t+=b[h++]<<f;f+=8}t>>>=S;f-=S;U=0;I=3+(7&t);t>>>=3;f-=3}else{for(Q=S+7;Q>f;){if(0===e)break a;e--;t+=b[h++]<<f;f+=8}t>>>=S;f-=S;U=0;I=11+(127&t);t>>>=7;f-=7}if(a.have+I>a.nlen+a.ndist){c.msg="invalid bit length repeat";
a.mode=30;break}for(;I--;)a.lens[a.have++]=U}}if(30===a.mode)break;if(0===a.lens[256]){c.msg="invalid code -- missing end-of-block";a.mode=30;break}if(a.lenbits=9,ca={bits:a.lenbits},da=A(1,a.lens,0,a.nlen,a.lencode,0,a.work,ca),a.lenbits=ca.bits,da){c.msg="invalid literal/lengths set";a.mode=30;break}if(a.distbits=6,a.distcode=a.distdyn,ca={bits:a.distbits},da=A(2,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,ca),a.distbits=ca.bits,da){c.msg="invalid distances set";a.mode=30;break}if(a.mode=20,6===d)break a;
case 20:a.mode=21;case 21:if(6<=e&&258<=g){c.next_out=z;c.avail_out=g;c.next_in=h;c.avail_in=e;a.hold=t;a.bits=f;C(c,J);z=c.next_out;k=c.output;g=c.avail_out;h=c.next_in;b=c.input;e=c.avail_in;t=a.hold;f=a.bits;12===a.mode&&(a.back=-1);break}for(a.back=0;ea=a.lencode[t&(1<<a.lenbits)-1],S=ea>>>24,Q=ea>>>16&255,N=65535&ea,!(f>=S);){if(0===e)break a;e--;t+=b[h++]<<f;f+=8}if(Q&&0===(240&Q)){W=S;ba=Q;for(X=N;ea=a.lencode[X+((t&(1<<W+ba)-1)>>W)],S=ea>>>24,Q=ea>>>16&255,N=65535&ea,!(f>=W+S);){if(0===e)break a;
e--;t+=b[h++]<<f;f+=8}t>>>=W;f-=W;a.back+=W}if(t>>>=S,f-=S,a.back+=S,a.length=N,0===Q){a.mode=26;break}if(32&Q){a.back=-1;a.mode=12;break}if(64&Q){c.msg="invalid literal/length code";a.mode=30;break}a.extra=15&Q;a.mode=22;case 22:if(a.extra){for(Q=a.extra;Q>f;){if(0===e)break a;e--;t+=b[h++]<<f;f+=8}a.length+=t&(1<<a.extra)-1;t>>>=a.extra;f-=a.extra;a.back+=a.extra}a.was=a.length;a.mode=23;case 23:for(;ea=a.distcode[t&(1<<a.distbits)-1],S=ea>>>24,Q=ea>>>16&255,N=65535&ea,!(f>=S);){if(0===e)break a;
e--;t+=b[h++]<<f;f+=8}if(0===(240&Q)){W=S;ba=Q;for(X=N;ea=a.distcode[X+((t&(1<<W+ba)-1)>>W)],S=ea>>>24,Q=ea>>>16&255,N=65535&ea,!(f>=W+S);){if(0===e)break a;e--;t+=b[h++]<<f;f+=8}t>>>=W;f-=W;a.back+=W}if(t>>>=S,f-=S,a.back+=S,64&Q){c.msg="invalid distance code";a.mode=30;break}a.offset=N;a.extra=15&Q;a.mode=24;case 24:if(a.extra){for(Q=a.extra;Q>f;){if(0===e)break a;e--;t+=b[h++]<<f;f+=8}a.offset+=t&(1<<a.extra)-1;t>>>=a.extra;f-=a.extra;a.back+=a.extra}if(a.offset>a.dmax){c.msg="invalid distance too far back";
a.mode=30;break}a.mode=25;case 25:if(0===g)break a;if(I=J-g,a.offset>I){if(I=a.offset-I,I>a.whave&&a.sane){c.msg="invalid distance too far back";a.mode=30;break}I>a.wnext?(I-=a.wnext,T=a.wsize-I):T=a.wnext-I;I>a.length&&(I=a.length);Q=a.window}else Q=k,T=z-a.offset,I=a.length;I>g&&(I=g);g-=I;a.length-=I;do k[z++]=Q[T++];while(--I);0===a.length&&(a.mode=21);break;case 26:if(0===g)break a;k[z++]=a.length;g--;a.mode=21;break;case 27:if(a.wrap){for(;32>f;){if(0===e)break a;e--;t|=b[h++]<<f;f+=8}if(J-=
g,c.total_out+=J,a.total+=J,J&&(c.adler=a.check=a.flags?m(a.check,k,J,z-J):r(a.check,k,J,z-J)),J=g,(a.flags?t:p(t))!==a.check){c.msg="incorrect data check";a.mode=30;break}f=t=0}a.mode=28;case 28:if(a.wrap&&a.flags){for(;32>f;){if(0===e)break a;e--;t+=b[h++]<<f;f+=8}if(t!==(4294967295&a.total)){c.msg="incorrect length check";a.mode=30;break}f=t=0}a.mode=29;case 29:da=1;break a;case 30:da=-3;break a;case 31:return-4;default:return O}c.next_out=z;c.avail_out=g;c.next_in=h;c.avail_in=e;a.hold=t;a.bits=
f;if(h=a.wsize||J!==c.avail_out&&30>a.mode&&(27>a.mode||4!==d)){h=c.output;z=c.next_out;b=J-c.avail_out;var ga;e=c.state;h=(null===e.window&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new F.Buf8(e.wsize)),b>=e.wsize?(F.arraySet(e.window,h,z-e.wsize,e.wsize,0),e.wnext=0,e.whave=e.wsize):(ga=e.wsize-e.wnext,ga>b&&(ga=b),F.arraySet(e.window,h,z-b,ga,e.wnext),b-=ga,b?(F.arraySet(e.window,h,z-b,b,0),e.wnext=b,e.whave=e.wsize):(e.wnext+=ga,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=
ga))),0)}return h?(a.mode=31,-4):(q-=c.avail_in,J-=c.avail_out,c.total_in+=q,c.total_out+=J,a.total+=J,a.wrap&&J&&(c.adler=a.check=a.flags?m(a.check,k,J,c.next_out-J):r(a.check,k,J,c.next_out-J)),c.data_type=a.bits+(a.last?64:0)+(12===a.mode?128:0)+(20===a.mode||15===a.mode?256:0),(0===q&&0===J||4===d)&&da===D&&(da=-5),da)};b.inflateEnd=function(c){if(!c||!c.state)return O;var a=c.state;return a.window&&(a.window=null),c.state=null,D};b.inflateGetHeader=function(c,a){var d;return c&&c.state?(d=c.state,
0===(2&d.wrap)?O:(d.head=a,a.done=!1,D)):O};b.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":5,"./inffast":7,"./inftrees":9}],9:[function(f,e,b){var p=f("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,
8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(b,e,f,g,r,m,C,A){var D,O,H,t,z,l,K,q;t=A.bits;for(var E=0,R=0,Y=0,x=0,w=0,B=0,aa=0,M=D=0,Z=0,P=null,J=0,I=new p.Buf16(16),B=new p.Buf16(16),T=null,Q=0,E=0;15>=E;E++)I[E]=0;for(R=0;g>R;R++)I[e[f+R]]++;w=t;for(x=15;1<=x&&0===I[x];x--);if(w>x&&(w=x),0===x)return r[m++]=20971520,r[m++]=20971520,A.bits=1,0;for(Y=1;x>Y&&0===I[Y];Y++);Y>w&&(w=Y);for(E=D=1;15>=
E;E++)if(D<<=1,D-=I[E],0>D)return-1;if(0<D&&(0===b||1!==x))return-1;B[1]=0;for(E=1;15>E;E++)B[E+1]=B[E]+I[E];for(R=0;g>R;R++)0!==e[f+R]&&(C[B[e[f+R]]++]=R);if(0===b?(P=T=C,z=19):1===b?(P=a,J-=257,T=d,Q-=257,z=256):(P=c,T=h,z=-1),Z=0,R=0,E=Y,t=m,B=w,aa=0,H=-1,M=1<<w,g=M-1,1===b&&852<M||2===b&&592<M)return 1;for(var S=0;;){S++;l=E-aa;C[R]<z?(K=0,q=C[R]):C[R]>z?(K=T[Q+C[R]],q=P[J+C[R]]):(K=96,q=0);D=1<<E-aa;Y=O=1<<B;do O-=D,r[t+(Z>>aa)+O]=l<<24|K<<16|q|0;while(0!==O);for(D=1<<E-1;Z&D;)D>>=1;if(0!==D?
(Z&=D-1,Z+=D):Z=0,R++,0===--I[E]){if(E===x)break;E=e[f+C[R]]}if(E>w&&(Z&g)!==H){0===aa&&(aa=w);t+=Y;B=E-aa;for(D=1<<B;x>B+aa&&(D-=I[B+aa],!(0>=D));)B++,D<<=1;if(M+=1<<B,1===b&&852<M||2===b&&592<M)return 1;H=Z&g;r[H]=w<<24|B<<16|t-m|0}}return 0!==Z&&(r[t+Z]=E-aa<<24|4194304),A.bits=w,0}},{"../utils/common":1}],10:[function(f,e,b){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},
{}],11:[function(f,e,b){e.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}},{}],"/lib/inflate.js":[function(f,e,b){function p(c,a){var d=new r(a);if(d.push(c,!0),d.err)throw d.msg;return d.result}var a=f("./zlib/inflate.js"),d=f("./utils/common"),c=f("./utils/strings"),h=f("./zlib/constants"),k=f("./zlib/messages"),y=f("./zlib/zstream"),g=f("./zlib/gzheader"),
F=Object.prototype.toString,r=function(c){var b=this.options=d.assign({chunkSize:16384,windowBits:0,to:""},c||{});b.raw&&0<=b.windowBits&&16>b.windowBits&&(b.windowBits=-b.windowBits,0===b.windowBits&&(b.windowBits=-15));!(0<=b.windowBits&&16>b.windowBits)||c&&c.windowBits||(b.windowBits+=32);15<b.windowBits&&48>b.windowBits&&0===(15&b.windowBits)&&(b.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new y;this.strm.avail_out=0;c=a.inflateInit2(this.strm,b.windowBits);
if(c!==h.Z_OK)throw Error(k[c]);this.header=new g;a.inflateGetHeader(this.strm,this.header)};r.prototype.push=function(b,C){var r,k,e,y,t,z=this.strm,f=this.options.chunkSize;if(this.ended)return!1;k=C===~~C?C:!0===C?h.Z_FINISH:h.Z_NO_FLUSH;"string"==typeof b?z.input=c.binstring2buf(b):"[object ArrayBuffer]"===F.call(b)?z.input=new Uint8Array(b):z.input=b;z.next_in=0;z.avail_in=z.input.length;do{if(0===z.avail_out&&(z.output=new d.Buf8(f),z.next_out=0,z.avail_out=f),r=a.inflate(z,h.Z_NO_FLUSH),r!==
h.Z_STREAM_END&&r!==h.Z_OK)return this.onEnd(r),this.ended=!0,!1;z.next_out&&(0===z.avail_out||r===h.Z_STREAM_END||0===z.avail_in&&(k===h.Z_FINISH||k===h.Z_SYNC_FLUSH))&&("string"===this.options.to?(e=c.utf8border(z.output,z.next_out),y=z.next_out-e,t=c.buf2string(z.output,e),z.next_out=y,z.avail_out=f-y,y&&d.arraySet(z.output,z.output,e,y,0),this.onData(t)):this.onData(d.shrinkBuf(z.output,z.next_out)))}while(0<z.avail_in&&r!==h.Z_STREAM_END);return r===h.Z_STREAM_END&&(k=h.Z_FINISH),k===h.Z_FINISH?
(r=a.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===h.Z_OK):k===h.Z_SYNC_FLUSH?(this.onEnd(h.Z_OK),z.avail_out=0,!0):!0};r.prototype.onData=function(c){this.chunks.push(c)};r.prototype.onEnd=function(c){c===h.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks));this.chunks=[];this.err=c;this.msg=this.strm.msg};b.Inflate=r;b.inflate=p;b.inflateRaw=function(c,a){return a=a||{},a.raw=!0,p(c,a)};b.ungzip=p},{"./utils/common":1,"./utils/strings":2,
"./zlib/constants":4,"./zlib/gzheader":6,"./zlib/inflate.js":8,"./zlib/messages":10,"./zlib/zstream":11}]},{},[])("/lib/inflate.js")})},{}],3:[function(g,q,l){function n(c,a){switch(void 0===a&&(a=c.toString()),c.name){case "NotFoundError":return new k(y.ENOENT,a);case "QuotaExceededError":return new k(y.ENOSPC,a);default:return new k(y.EIO,a)}}function f(c,a,d){return void 0===a&&(a=y.EIO),void 0===d&&(d=null),function(b){b.preventDefault();c(new k(a,d))}}function e(a){var d=a.getBufferCore();d instanceof
c.BufferCoreArrayBuffer||(a=new h(this._buffer.length),this._buffer.copy(a),d=a.getBufferCore());return d.getDataView().buffer}var b=this.__extends||function(c,a){function d(){this.constructor=c}for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);d.prototype=a.prototype;c.prototype=new d},p=g("../core/buffer");q=g("../core/browserfs");var a=g("../generic/key_value_filesystem"),d=g("../core/api_error"),c=g("../core/buffer_core_arraybuffer");g=g("../core/global");var h=p.Buffer,k=d.ApiError,y=d.ErrorCode,
G=g.indexedDB||g.mozIndexedDB||g.webkitIndexedDB||g.msIndexedDB,F=function(){function c(a,d){this.tx=a;this.store=d}return c.prototype.get=function(c,a){try{var d=this.store.get(c);d.onerror=f(a);d.onsuccess=function(c){c=c.target.result;void 0===c?a(null,c):a(null,new h(c))}}catch(b){a(n(b))}},c}();l.IndexedDBROTransaction=F;var r=function(c){function a(d,b){c.call(this,d,b)}return b(a,c),a.prototype.put=function(c,a,d,b){try{var m,r=e(a);m=d?this.store.put(r,c):this.store.add(r,c);m.onerror=f(b);
m.onsuccess=function(c){b(null,!0)}}catch(h){b(n(h))}},a.prototype["delete"]=function(c,a){try{var d=this.store["delete"](c);d.onerror=f(a);d.onsuccess=function(c){a()}}catch(b){a(n(b))}},a.prototype.commit=function(c){setTimeout(c,0)},a.prototype.abort=function(c){var a;try{this.tx.abort()}catch(d){a=n(d)}finally{c(a)}},a}(F);l.IndexedDBRWTransaction=r;var m=function(){function c(a,d){var b=this;void 0===d&&(d="browserfs");this.storeName=d;var m=G.open(this.storeName,1);m.onupgradeneeded=function(c){c=
c.target.result;c.objectStoreNames.contains(b.storeName)&&c.deleteObjectStore(b.storeName);c.createObjectStore(b.storeName)};m.onsuccess=function(c){b.db=c.target.result;a(null,b)};m.onerror=f(a,y.EACCES)}return c.prototype.name=function(){return"IndexedDB - "+this.storeName},c.prototype.clear=function(c){try{var a=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).clear();a.onsuccess=function(a){setTimeout(c,0)};a.onerror=f(c)}catch(d){c(n(d))}},c.prototype.beginTransaction=
function(c){void 0===c&&(c="readonly");var a=this.db.transaction(this.storeName,c),d=a.objectStore(this.storeName);if("readwrite"===c)return new r(a,d);if("readonly"===c)return new F(a,d);throw new k(y.EINVAL,"Invalid transaction type.");},c}();l.IndexedDBStore=m;g=function(c){function a(d,b){var r=this;c.call(this);new m(function(c,a){c?d(c):r.init(a,function(c){d(c,r)})},b)}return b(a,c),a.isAvailable=function(){try{return"undefined"!=typeof G&&null!==G.open("__browserfs_test__")}catch(c){return!1}},
a}(a.AsyncKeyValueFileSystem);l.IndexedDBFileSystem=g;q.registerFileSystem("IndexedDB",g)},{"../core/api_error":14,"../core/browserfs":15,"../core/buffer":16,"../core/buffer_core_arraybuffer":19,"../core/global":24,"../generic/key_value_filesystem":35}],4:[function(g,q,l){var n=this.__extends||function(c,a){function d(){this.constructor=c}for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);d.prototype=a.prototype;c.prototype=new d},f=g("../core/file_system"),e=g("../generic/file_index"),b=g("../core/buffer"),
p=g("../core/api_error"),a=g("../core/file_flag"),d=g("../generic/preload_file");q=g("../core/browserfs");var c=g("../generic/xhr"),h=(b.Buffer,p.ApiError),k=p.ErrorCode,y=(a.FileFlag,a.ActionType);g=function(a){function f(c,d){void 0===d&&(d="");a.call(this);null==c&&(c="index.json");0<d.length&&"/"!==d.charAt(d.length-1)&&(d+="/");this.prefix_url=d;var b=this._requestFileSync(c,"json");if(null==b)throw Error("Unable to find listing at URL: "+c);this._index=e.FileIndex.from_listing(b)}return n(f,
a),f.prototype.empty=function(){this._index.fileIterator(function(c){c.file_data=null})},f.prototype.getXhrPath=function(c){return"/"===c.charAt(0)&&(c=c.slice(1)),this.prefix_url+c},f.prototype._requestFileSizeAsync=function(a,d){c.getFileSizeAsync(this.getXhrPath(a),d)},f.prototype._requestFileSizeSync=function(a){return c.getFileSizeSync(this.getXhrPath(a))},f.prototype._requestFileAsync=function(a,d,b){c.asyncDownloadFile(this.getXhrPath(a),d,b)},f.prototype._requestFileSync=function(a,d){return c.syncDownloadFile(this.getXhrPath(a),
d)},f.prototype.getName=function(){return"XmlHttpRequest"},f.isAvailable=function(){return"undefined"!=typeof XMLHttpRequest&&null!==XMLHttpRequest},f.prototype.diskSpace=function(c,a){a(0,0)},f.prototype.isReadOnly=function(){return!0},f.prototype.supportsLinks=function(){return!1},f.prototype.supportsProps=function(){return!1},f.prototype.supportsSynch=function(){return!0},f.prototype.preloadFile=function(c,a){var d=this._index.getInode(c);if(null===d)throw h.ENOENT(c);d=d.getData();d.size=a.length;
d.file_data=a},f.prototype.stat=function(c,a,d){a=this._index.getInode(c);if(null===a)return d(h.ENOENT(c));var b;a.isFile()?(b=a.getData(),0>b.size?this._requestFileSizeAsync(c,function(c,a){return c?d(c):(b.size=a,void d(null,b.clone()))}):d(null,b.clone())):(b=a.getStats(),d(null,b))},f.prototype.statSync=function(c,a){var d=this._index.getInode(c);if(null===d)throw h.ENOENT(c);var b;return d.isFile()?(b=d.getData(),0>b.size&&(b.size=this._requestFileSizeSync(c))):b=d.getStats(),b},f.prototype.open=
function(c,a,b,A){if(a.isWriteable())return A(new h(k.EPERM,c));var e=this;b=this._index.getInode(c);if(null===b)return A(h.ENOENT(c));if(b.isDir())return A(h.EISDIR(c));var f=b.getData();switch(a.pathExistsAction()){case y.THROW_EXCEPTION:case y.TRUNCATE_FILE:return A(h.EEXIST(c));case y.NOP:if(null!=f.file_data)return A(null,new d.NoSyncFile(e,c,a,f.clone(),f.file_data));this._requestFileAsync(c,"buffer",function(b,h){return b?A(b):(f.size=h.length,f.file_data=h,A(null,new d.NoSyncFile(e,c,a,f.clone(),
h)))});break;default:return A(new h(k.EINVAL,"Invalid FileMode object."))}},f.prototype.openSync=function(c,a,b){if(a.isWriteable())throw new h(k.EPERM,c);b=this._index.getInode(c);if(null===b)throw h.ENOENT(c);if(b.isDir())throw h.EISDIR(c);b=b.getData();switch(a.pathExistsAction()){case y.THROW_EXCEPTION:case y.TRUNCATE_FILE:throw h.EEXIST(c);case y.NOP:if(null!=b.file_data)return new d.NoSyncFile(this,c,a,b.clone(),b.file_data);var A=this._requestFileSync(c,"buffer");return b.size=A.length,b.file_data=
A,new d.NoSyncFile(this,c,a,b.clone(),A);default:throw new h(k.EINVAL,"Invalid FileMode object.");}},f.prototype.readdir=function(c,a){try{a(null,this.readdirSync(c))}catch(d){a(d)}},f.prototype.readdirSync=function(c){var a=this._index.getInode(c);if(null===a)throw h.ENOENT(c);if(a.isFile())throw h.ENOTDIR(c);return a.getListing()},f.prototype.readFile=function(c,a,d,h){var k=h;this.open(c,d,420,function(c,d){if(c)return h(c);h=function(c,a){d.close(function(d){return null==c&&(c=d),k(c,a)})};var r=
d.getBuffer();if(null===a)return 0<r.length?h(c,r.sliceCopy()):h(c,new b.Buffer(0));try{h(null,r.toString(a))}catch(C){h(C)}})},f.prototype.readFileSync=function(c,a,d){c=this.openSync(c,d,420);try{var h=c.getBuffer();return null===a?0<h.length?h.sliceCopy():new b.Buffer(0):h.toString(a)}finally{c.closeSync()}},f}(f.BaseFileSystem);l.XmlHttpRequest=g;q.registerFileSystem("XmlHttpRequest",g)},{"../core/api_error":14,"../core/browserfs":15,"../core/buffer":16,"../core/file_flag":22,"../core/file_system":23,
"../generic/file_index":33,"../generic/preload_file":36,"../generic/xhr":37}],5:[function(g,q,l){var n=this.__extends||function(b,a){function d(){this.constructor=b}for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);d.prototype=a.prototype;b.prototype=new d};l=g("../core/file_system");var f=g("../core/file_flag"),e=g("../generic/preload_file");g=g("../core/browserfs");var b=function(b){function a(a,c,h,k,e){b.call(this,a,c,h,k,e)}return n(a,b),a.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),
this.resetDirty())},a.prototype.closeSync=function(){this.syncSync()},a}(e.PreloadFile);l=function(e){function a(a,c){if(e.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._sync=a,this._async=c,!a.supportsSynch())throw Error("Expected synchronous storage.");if(c.supportsSynch())throw Error("Expected asynchronous storage.");}return n(a,e),a.prototype.getName=function(){return"AsyncMirror"},a.isAvailable=function(){return!0},a.prototype._syncSync=function(a){this._sync.writeFileSync(a.getPath(),
a.getBuffer(),null,f.FileFlag.getFileFlag("w"),a.getStats().mode);this.enqueueOp({apiMethod:"writeFile",arguments:[a.getPath(),a.getBuffer(),null,a.getFlag(),a.getStats().mode]})},a.prototype.initialize=function(a){var c=this;if(this._isInitialized)a();else{var b=function(a,d,b){"/"!==a&&c._sync.mkdirSync(a,d);c._async.readdir(a,function(c,d){function h(c){c?b(c):k<d.length?(e(a+"/"+d[k],h),k++):b()}if(c)b(c);else{var k=0;h()}})},k=function(a,d,b){c._async.readFile(a,null,f.FileFlag.getFileFlag("r"),
function(m,h){if(m)b(m);else try{c._sync.writeFileSync(a,h,null,f.FileFlag.getFileFlag("w"),d)}catch(k){m=k}finally{b(m)}})},e=function(a,d){c._async.stat(a,!1,function(c,m){c?d(c):m.isDirectory()?b(a,m.mode,d):k(a,m.mode,d)})};b("/",0,function(b){b?a(b):(c._isInitialized=!0,a())})}},a.prototype.isReadOnly=function(){return!1},a.prototype.supportsSynch=function(){return!0},a.prototype.supportsLinks=function(){return!1},a.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},
a.prototype.enqueueOp=function(a){var c=this;if(this._queue.push(a),!this._queueRunning){this._queueRunning=!0;var b=function(a){if(a&&console.error("WARNING: File system has desynchronized. Received following error: "+a+"\n$"),0<c._queue.length){a=c._queue.shift();var d=a.arguments;d.push(b);c._async[a.apiMethod].apply(c._async,d)}else c._queueRunning=!1};b()}},a.prototype.renameSync=function(a,c){this._sync.renameSync(a,c);this.enqueueOp({apiMethod:"rename",arguments:[a,c]})},a.prototype.statSync=
function(a,c){return this._sync.statSync(a,c)},a.prototype.openSync=function(a,c,h){return this._sync.openSync(a,c,h).closeSync(),new b(this,a,c,this._sync.statSync(a,!1),this._sync.readFileSync(a,null,f.FileFlag.getFileFlag("r")))},a.prototype.unlinkSync=function(a){this._sync.unlinkSync(a);this.enqueueOp({apiMethod:"unlink",arguments:[a]})},a.prototype.rmdirSync=function(a){this._sync.rmdirSync(a);this.enqueueOp({apiMethod:"rmdir",arguments:[a]})},a.prototype.mkdirSync=function(a,c){this._sync.mkdirSync(a,
c);this.enqueueOp({apiMethod:"mkdir",arguments:[a,c]})},a.prototype.readdirSync=function(a){return this._sync.readdirSync(a)},a.prototype.existsSync=function(a){return this._sync.existsSync(a)},a.prototype.chmodSync=function(a,c,b){this._sync.chmodSync(a,c,b);this.enqueueOp({apiMethod:"chmod",arguments:[a,c,b]})},a.prototype.chownSync=function(a,c,b,k){this._sync.chownSync(a,c,b,k);this.enqueueOp({apiMethod:"chown",arguments:[a,c,b,k]})},a.prototype.utimesSync=function(a,c,b){this._sync.utimesSync(a,
c,b);this.enqueueOp({apiMethod:"utimes",arguments:[a,c,b]})},a}(l.SynchronousFileSystem);g.registerFileSystem("AsyncMirrorFS",l);q.exports=l},{"../core/browserfs":15,"../core/file_flag":22,"../core/file_system":23,"../generic/preload_file":36}],6:[function(g,q,l){var n=this.__extends||function(a,c){function d(){this.constructor=a}for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);d.prototype=c.prototype;a.prototype=new d},f=g("../generic/preload_file"),e=g("../core/file_system"),b=g("../core/node_fs_stats"),
p=g("../core/buffer"),a=g("../core/api_error"),d=g("../core/node_path");q=g("../core/browserfs");var c=g("../core/buffer_core_arraybuffer"),h=g("async"),k=p.Buffer,y=b.Stats,G=a.ApiError,F=a.ErrorCode,r=b.FileType,m=function(a){function d(c,b,m,h,k){a.call(this,c,b,m,h,k)}return n(d,a),d.prototype.sync=function(a){var d=this;if(this.isDirty()){var b=this.getBuffer(),m=b.getBufferCore();m instanceof c.BufferCoreArrayBuffer||(b=new k(b.length),this.getBuffer().copy(b),m=b.getBufferCore());m=m.getDataView();
b=new DataView(m.buffer,m.byteOffset+b.getOffset(),b.length);this._fs._writeFileStrict(this.getPath(),b,function(c){c||d.resetDirty();a(c)})}else a()},d.prototype.close=function(a){this.sync(a)},d}(f.PreloadFile);l.DropboxFile=m;g=function(a){function c(d){a.call(this);this.client=d}return n(c,a),c.prototype.getName=function(){return"Dropbox"},c.isAvailable=function(){return"undefined"!=typeof Dropbox},c.prototype.isReadOnly=function(){return!1},c.prototype.supportsSymlinks=function(){return!1},c.prototype.supportsProps=
function(){return!1},c.prototype.supportsSynch=function(){return!1},c.prototype.empty=function(a){var c=this;this.client.readdir("/",function(d,b,m,k){d?a(c.convert(d)):h.each(k,function(a,d){c.client.remove(a.path,function(a,b){d(a?c.convert(a):a)})},function(d){d?a(c.convert(d)):a()})})},c.prototype.rename=function(a,c,d){this.client.move(a,c,function(b,m){if(b){var h=-1<b.response.error.indexOf(a)?a:c;d(new G(F.ENOENT,h+" doesn't exist"))}else d()})},c.prototype.stat=function(a,c,d){var b=this;
this.client.stat(a,function(c,m){if(!(c||null!=m&&m.isRemoved)){var h=new y(b._statType(m),m.size);return d(null,h)}d(new G(F.ENOENT,a+" doesn't exist"))})},c.prototype.open=function(a,c,d,b){var m=this;this.client.readFile(a,{arrayBuffer:!0},function(d,h,r,C){if(!d)return d=new k(null===h?0:h),r=m._makeFile(a,c,r,d),b(null,r);if(c.isReadable())b(new G(F.ENOENT,a+" doesn't exist"));else switch(d.status){case 0:return console.error("No connection");case 404:var e=new ArrayBuffer(0);return m._writeFileStrict(a,
e,function(d,h){if(d)b(d);else{var r=m._makeFile(a,c,h,new k(e));b(null,r)}});default:return console.log("Unhandled error: "+d)}})},c.prototype._writeFileStrict=function(a,c,b){var m=this,h=d.dirname(a);this.stat(h,!1,function(d,k){d?b(new G(F.ENOENT,"Can't create "+a+" because "+h+" doesn't exist")):m.client.writeFile(a,c,function(a,c){a?b(m.convert(a)):b(null,c)})})},c.prototype._statType=function(a){return a.isFile?r.FILE:r.DIRECTORY},c.prototype._makeFile=function(a,c,d,b){var h=this._statType(d);
d=new y(h,d.size);return new m(this,a,c,d,b)},c.prototype._remove=function(a,c,d){var b=this;this.client.stat(a,function(m,h){m?c(new G(F.ENOENT,a+" doesn't exist")):h.isFile&&!d?c(new G(F.ENOTDIR,a+" is a file.")):!h.isFile&&d?c(new G(F.EISDIR,a+" is a directory.")):b.client.remove(a,function(d,b){c(d?new G(F.EIO,"Failed to remove "+a):null)})})},c.prototype.unlink=function(a,c){this._remove(a,c,!0)},c.prototype.rmdir=function(a,c){this._remove(a,c,!1)},c.prototype.mkdir=function(a,c,b){var m=this,
h=d.dirname(a);this.client.stat(h,function(c,d){c?b(new G(F.ENOENT,"Can't create "+a+" because "+h+" doesn't exist")):m.client.mkdir(a,function(c,d){b(c?new G(F.EEXIST,a+" already exists"):null)})})},c.prototype.readdir=function(a,c){var d=this;this.client.readdir(a,function(a,b,m,h){return a?c(d.convert(a)):c(null,b)})},c.prototype.convert=function(a,c){switch(void 0===c&&(c=""),a.status){case 400:return new G(F.EINVAL,c);case 401:case 403:return new G(F.EIO,c);case 404:return new G(F.ENOENT,c);
case 405:return new G(F.ENOTSUP,c);default:return new G(F.EIO,c)}},c}(e.BaseFileSystem);l.DropboxFileSystem=g;q.registerFileSystem("Dropbox",g)},{"../core/api_error":14,"../core/browserfs":15,"../core/buffer":16,"../core/buffer_core_arraybuffer":19,"../core/file_system":23,"../core/node_fs_stats":27,"../core/node_path":28,"../generic/preload_file":36,async:1}],7:[function(g,q,l){function n(a,c,d,b){if("undefined"!=typeof navigator.webkitPersistentStorage)switch(a){case y.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(c,
d,b);break;case y.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(c,d,b);break;default:b(null)}else y.webkitStorageInfo.requestQuota(a,c,d,b)}var f=this.__extends||function(a,c){function d(){this.constructor=a}for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);d.prototype=c.prototype;a.prototype=new d},e=g("../generic/preload_file"),b=g("../core/file_system"),p=g("../core/api_error"),a=g("../core/file_flag"),d=g("../core/node_fs_stats"),c=g("../core/buffer");q=g("../core/browserfs");var h=g("../core/buffer_core_arraybuffer"),
k=g("../core/node_path"),y=g("../core/global"),G=g("async"),F=c.Buffer,r=d.Stats,m=d.FileType,C=p.ApiError,A=p.ErrorCode,D=a.ActionType,O=y.webkitRequestFileSystem||y.requestFileSystem||null,H=function(a){function c(d,b,m,h,k){a.call(this,d,b,m,h,k)}return f(c,a),c.prototype.sync=function(a){var c=this;if(this.isDirty()){var d=this._fs;d.fs.root.getFile(this.getPath(),{create:!1},function(b){b.createWriter(function(b){var m=c.getBuffer(),k=m.getBufferCore();k instanceof h.BufferCoreArrayBuffer||(m=
new F(m.length),c.getBuffer().copy(m),k=m.getBufferCore());var k=k.getDataView(),m=new DataView(k.buffer,k.byteOffset+m.getOffset(),m.length),m=new Blob([m]),r=m.size;b.onwriteend=function(){b.onwriteend=null;b.truncate(r);c.resetDirty();a()};b.onerror=function(c){a(d.convert(c))};b.write(m)})},function(c){a(d.convert(c))})}else a()},c.prototype.close=function(a){this.sync(a)},c}(e.PreloadFile);l.HTML5FSFile=H;g=function(a){function c(d,b){a.call(this);this.size=null!=d?d:5;this.type=null!=b?b:y.PERSISTENT;
this.size*=1048576}return f(c,a),c.prototype.getName=function(){return"HTML5 FileSystem"},c.isAvailable=function(){return null!=O},c.prototype.isReadOnly=function(){return!1},c.prototype.supportsSymlinks=function(){return!1},c.prototype.supportsProps=function(){return!1},c.prototype.supportsSynch=function(){return!1},c.prototype.convert=function(c,a){switch(void 0===a&&(a=""),c.name){case "QuotaExceededError":return new C(A.ENOSPC,a);case "NotFoundError":return new C(A.ENOENT,a);case "SecurityError":return new C(A.EACCES,
a);case "InvalidModificationError":return new C(A.EPERM,a);case "SyntaxError":case "TypeMismatchError":return new C(A.EINVAL,a);default:return new C(A.EINVAL,a)}},c.prototype.convertErrorEvent=function(c,a){return void 0===a&&(a=""),new C(A.ENOENT,c.message+"; "+a)},c.prototype.allocate=function(a){var c=this;void 0===a&&(a=function(){});var d=function(d){c.fs=d;a()},b=function(d){a(c.convert(d))};this.type===y.PERSISTENT?n(this.type,this.size,function(a){O(c.type,a,d,b)},b):O(this.type,this.size,
d,b)},c.prototype.empty=function(a){var c=this;this._readdir("/",function(d,b){d?(console.error("Failed to empty FS"),a(d)):G.each(b,function(a,d){var b=function(){d()},m=function(b){d(c.convert(b,a.fullPath))};a.isFile?a.remove(b,m):a.removeRecursively(b,m)},function(c){d?(console.error("Failed to empty FS"),a(d)):a()})})},c.prototype.rename=function(a,c,d){var b=this,m=2,h=0,r=this.fs.root,C=function(h){0===--m&&d(b.convert(h,"Failed to rename "+a+" to "+c+"."))},e=function(m){return 2===++h?void console.error("Something was identified as both a file and a directory. This should never happen."):
a===c?d():void r.getDirectory(k.dirname(c),{},function(h){m.moveTo(h,k.basename(c),function(a){d()},function(h){m.isDirectory?b.unlink(c,function(m){m?C(h):b.rename(a,c,d)}):C(h)})},C)};r.getFile(a,{},e,C);r.getDirectory(a,{},e,C)},c.prototype.stat=function(a,c,d){var b=this,h={create:!1},k=function(a){a=new r(m.DIRECTORY,4096);d(null,a)},C=function(c){d(b.convert(c,a))};this.fs.root.getFile(a,h,function(a){a.file(function(a){a=new r(m.FILE,a.size);d(null,a)},C)},function(){b.fs.root.getDirectory(a,
h,k,C)})},c.prototype.open=function(a,c,d,b){var m=this;d={create:c.pathNotExistsAction()===D.CREATE_FILE,exclusive:c.isExclusive()};var h=function(c){b(m.convertErrorEvent(c,a))},k=function(c){b(m.convert(c,a))};this.fs.root.getFile(a,d,function(d){d.file(function(d){var k=new FileReader;k.onloadend=function(h){h=m._makeFile(a,c,d,k.result);b(null,h)};k.onerror=h;k.readAsArrayBuffer(d)},k)},h)},c.prototype._statType=function(a){return a.isFile?m.FILE:m.DIRECTORY},c.prototype._makeFile=function(a,
c,d,b){void 0===b&&(b=new ArrayBuffer(0));d=new r(m.FILE,d.size);b=new F(b);return new H(this,a,c,d,b)},c.prototype._remove=function(a,c,d){var b=this,m=function(d){d.remove(function(){c()},function(d){c(b.convert(d,a))})},h=function(d){c(b.convert(d,a))},k={create:!1};d?this.fs.root.getFile(a,k,m,h):this.fs.root.getDirectory(a,k,m,h)},c.prototype.unlink=function(a,c){this._remove(a,c,!0)},c.prototype.rmdir=function(a,c){this._remove(a,c,!1)},c.prototype.mkdir=function(a,c,d){var b=this;this.fs.root.getDirectory(a,
{create:!0,exclusive:!0},function(a){d()},function(c){d(b.convert(c,a))})},c.prototype._readdir=function(a,c){var d=this;this.fs.root.getDirectory(a,{create:!1},function(b){var m=b.createReader(),h=[],k=function(b){c(d.convert(b,a))},r=function(){m.readEntries(function(a){a.length?(h=h.concat(Array.prototype.slice.call(a||[],0)),r()):c(null,h)},k)};r()})},c.prototype.readdir=function(a,c){this._readdir(a,function(a,d){if(null!=a)return c(a);for(var b=[],m=0;m<d.length;m++)b.push(d[m].name);c(null,
b)})},c}(b.BaseFileSystem);l.HTML5FS=g;q.registerFileSystem("HTML5FS",g)},{"../core/api_error":14,"../core/browserfs":15,"../core/buffer":16,"../core/buffer_core_arraybuffer":19,"../core/file_flag":22,"../core/file_system":23,"../core/global":24,"../core/node_fs_stats":27,"../core/node_path":28,"../generic/preload_file":36,async:1}],8:[function(g,q,l){var n=this.__extends||function(b,e){function a(){this.constructor=b}for(var d in e)e.hasOwnProperty(d)&&(b[d]=e[d]);a.prototype=e.prototype;b.prototype=
new a},f=g("../generic/key_value_filesystem");g=g("../core/browserfs");var e=function(){function b(){this.store={}}return b.prototype.name=function(){return"In-memory"},b.prototype.clear=function(){this.store={}},b.prototype.beginTransaction=function(b){return new f.SimpleSyncRWTransaction(this)},b.prototype.get=function(b){return this.store[b]},b.prototype.put=function(b,a,d){return!d&&this.store.hasOwnProperty(b)?!1:(this.store[b]=a,!0)},b.prototype["delete"]=function(b){delete this.store[b]},b}();
l.InMemoryStore=e;q=function(b){function f(){b.call(this,{store:new e})}return n(f,b),f}(f.SyncKeyValueFileSystem);l.InMemoryFileSystem=q;g.registerFileSystem("InMemory",q)},{"../core/browserfs":15,"../generic/key_value_filesystem":35}],9:[function(g,q,l){var n,f=this.__extends||function(a,c){function d(){this.constructor=a}for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);d.prototype=c.prototype;a.prototype=new d},e=g("../core/buffer");q=g("../core/browserfs");var b=g("../generic/key_value_filesystem"),
p=g("../core/api_error"),a=g("../core/global"),d=e.Buffer,c=p.ApiError,h=p.ErrorCode;g=!1;try{a.localStorage.setItem("__test__",String.fromCharCode(55296)),g=a.localStorage.getItem("__test__")===String.fromCharCode(55296)}catch(y){g=!1}n=g?"binary_string":"binary_string_ie";var k=function(){function k(){}return k.prototype.name=function(){return"LocalStorage"},k.prototype.clear=function(){a.localStorage.clear()},k.prototype.beginTransaction=function(a){return new b.SimpleSyncRWTransaction(this)},
k.prototype.get=function(c){try{var b=a.localStorage.getItem(c);if(null!==b)return new d(b,n)}catch(h){}},k.prototype.put=function(d,b,k){try{return k||null===a.localStorage.getItem(d)?(a.localStorage.setItem(d,b.toString(n)),!0):!1}catch(m){throw new c(h.ENOSPC,"LocalStorage is full.");}},k.prototype["delete"]=function(d){try{a.localStorage.removeItem(d)}catch(b){throw new c(h.EIO,"Unable to delete key "+d+": "+b);}},k}();l.LocalStorageStore=k;g=function(c){function d(){c.call(this,{store:new k})}
return f(d,c),d.isAvailable=function(){return"undefined"!=typeof a.localStorage},d}(b.SyncKeyValueFileSystem);l.LocalStorageFileSystem=g;q.registerFileSystem("LocalStorage",g)},{"../core/api_error":14,"../core/browserfs":15,"../core/buffer":16,"../core/global":24,"../generic/key_value_filesystem":35}],10:[function(g,q,l){function n(a,c,d){return c?function(){for(var c=[],d=0;d<arguments.length;d++)c[d-0]=arguments[d];var d=c[0],b=this._get_fs(d);c[0]=b.path;try{return b.fs[a].apply(b.fs,c)}catch(h){throw this.standardizeError(h,
b.path,d),h;}}:function(){for(var c=[],d=0;d<arguments.length;d++)c[d-0]=arguments[d];var h=c[0],k=this._get_fs(h);if(c[0]=k.path,"function"==typeof c[c.length-1]){var r=c[c.length-1],e=this;c[c.length-1]=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];0<a.length&&a[0]instanceof b.ApiError&&e.standardizeError(a[0],k.path,h);r.apply(null,a)}}return k.fs[a].apply(k.fs,c)}}var f=this.__extends||function(a,c){function d(){this.constructor=a}for(var b in c)c.hasOwnProperty(b)&&(a[b]=
c[b]);d.prototype=c.prototype;a.prototype=new d};q=g("../core/file_system");var e=g("./in_memory"),b=g("../core/api_error"),p=g("../core/node_fs");g=g("../core/browserfs");var a=b.ApiError,d=b.ErrorCode;q=function(c){function b(){c.call(this);this.mntMap={};this.rootFs=new e.InMemoryFileSystem}return f(b,c),b.prototype.mount=function(c,b){if(this.mntMap[c])throw new a(d.EINVAL,"Mount point "+c+" is already taken.");this.rootFs.mkdirSync(c,511);this.mntMap[c]=b},b.prototype.umount=function(c){if(!this.mntMap[c])throw new a(d.EINVAL,
"Mount point "+c+" is already unmounted.");delete this.mntMap[c];this.rootFs.rmdirSync(c)},b.prototype._get_fs=function(c){for(var a in this.mntMap){var d=this.mntMap[a];if(0===c.indexOf(a))return c=c.substr(1<a.length?a.length:0),""===c&&(c="/"),{fs:d,path:c}}return{fs:this.rootFs,path:c}},b.prototype.getName=function(){return"MountableFileSystem"},b.isAvailable=function(){return!0},b.prototype.diskSpace=function(c,a){a(0,0)},b.prototype.isReadOnly=function(){return!1},b.prototype.supportsLinks=
function(){return!1},b.prototype.supportsProps=function(){return!1},b.prototype.supportsSynch=function(){return!0},b.prototype.standardizeError=function(c,a,d){var b;return-1!==(b=c.message.indexOf(a))&&(c.message=c.message.substr(0,b)+d+c.message.substr(b+a.length)),c},b.prototype.rename=function(c,a,d){var b=this._get_fs(c),h=this._get_fs(a);if(b.fs===h.fs){var k=this;return b.fs.rename(b.path,h.path,function(e){e&&k.standardizeError(k.standardizeError(e,b.path,c),h.path,a);d(e)})}return p.readFile(c,
function(b,h){return b?d(b):void p.writeFile(a,h,function(a){return a?d(a):void p.unlink(c,d)})})},b.prototype.renameSync=function(c,a){var d=this._get_fs(c),b=this._get_fs(a);if(d.fs===b.fs)try{return d.fs.renameSync(d.path,b.path)}catch(h){throw this.standardizeError(this.standardizeError(h,d.path,c),b.path,a),h;}d=p.readFileSync(c);return p.writeFileSync(a,d),p.unlinkSync(c)},b}(q.BaseFileSystem);l.MountableFileSystem=q;l=[["readdir","exists","unlink","rmdir","readlink"],["stat","mkdir","realpath",
"truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]];for(var c=0;c<l.length;c++)for(var h=l[c],k=0;k<h.length;k++){var y=h[k];q.prototype[y]=n(y,!1,c+1);q.prototype[y+"Sync"]=n(y+"Sync",!0,c+1)}g.registerFileSystem("MountableFileSystem",q)},{"../core/api_error":14,"../core/browserfs":15,"../core/file_system":23,"../core/node_fs":26,"./in_memory":8}],11:[function(g,q,l){var n=this.__extends||function(c,a){function d(){this.constructor=c}for(var b in a)a.hasOwnProperty(b)&&
(c[b]=a[b]);d.prototype=a.prototype;c.prototype=new d},f=g("../core/file_system"),e=g("../core/buffer"),b=g("../core/api_error"),p=g("../core/file_flag"),a=g("../generic/preload_file");l=g("../core/browserfs");var d=g("../core/node_path"),c=b.ApiError,h=e.Buffer,k=b.ErrorCode,y=function(c){function a(d,b,h,k,e){c.call(this,d,b,h,k,e)}return n(a,c),a.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},a.prototype.closeSync=function(){this.syncSync()},a}(a.PreloadFile);
g=function(a){function b(d,m){if(a.call(this),this._isInitialized=!1,this._deletedFiles={},this._deleteLog=null,this._writable=d,this._readable=m,this._writable.isReadOnly())throw new c(k.EINVAL,"Writable file system must be writable.");if(!this._writable.supportsSynch()||!this._readable.supportsSynch())throw new c(k.EINVAL,"OverlayFS currently only operates on synchronous file systems.");}return n(b,a),b.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},
b.prototype.createParentDirectories=function(c){var a=this;c=d.dirname(c);for(var b=[];!this._writable.existsSync(c);)b.push(c),c=d.dirname(c);b=b.reverse();b.forEach(function(c){a._writable.mkdirSync(c,a.statSync(c,!1).mode)})},b.isAvailable=function(){return!0},b.prototype._syncSync=function(c){this.createParentDirectories(c.getPath());this._writable.writeFileSync(c.getPath(),c.getBuffer(),null,p.FileFlag.getFileFlag("w"),c.getStats().mode)},b.prototype.getName=function(){return"OverlayFS"},b.prototype.initialize=
function(c){var a=this;this._isInitialized?c():this._writable.readFile("/.deletedFiles.log","utf8",p.FileFlag.getFileFlag("r"),function(d,b){if(d){if(d.type!==k.ENOENT)return c(d)}else b.split("\n").forEach(function(c){a._deletedFiles[c.slice(1)]="d"===c.slice(0,1)});a._writable.open("/.deletedFiles.log",p.FileFlag.getFileFlag("a"),420,function(d,b){d?c(d):(a._deleteLog=b,c())})})},b.prototype.isReadOnly=function(){return!1},b.prototype.supportsSynch=function(){return!0},b.prototype.supportsLinks=
function(){return!1},b.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},b.prototype.deletePath=function(c){this._deletedFiles[c]=!0;c=new h("d"+c+"\n");this._deleteLog.writeSync(c,0,c.length,null);this._deleteLog.syncSync()},b.prototype.undeletePath=function(c){this._deletedFiles[c]&&(this._deletedFiles[c]=!1,c=new h("u"+c),this._deleteLog.writeSync(c,0,c.length,null),this._deleteLog.syncSync())},b.prototype.renameSync=function(a,b){var h=this,
e=this.statSync(a,!1);if(e.isDirectory()){if(a===b)return;e=511;if(this.existsSync(b)){var f=this.statSync(b,!1),e=f.mode;if(!f.isDirectory())throw new c(k.ENOTDIR,"Path "+b+" is a file.");if(0<this.readdirSync(b).length)throw new c(k.ENOTEMPTY,"Path "+b+" not empty.");}this._writable.existsSync(a)?this._writable.renameSync(a,b):this._writable.existsSync(b)||this._writable.mkdirSync(b,e);this._readable.existsSync(a)&&this._readable.readdirSync(a).forEach(function(c){h.renameSync(d.resolve(a,c),d.resolve(b,
c))})}else{if(this.existsSync(b)&&this.statSync(b,!1).isDirectory())throw new c(k.EISDIR,"Path "+b+" is a directory.");this.writeFileSync(b,this.readFileSync(a,null,p.FileFlag.getFileFlag("r")),null,p.FileFlag.getFileFlag("w"),e.mode)}a!==b&&this.existsSync(a)&&this.unlinkSync(a)},b.prototype.statSync=function(a,b){try{return this._writable.statSync(a,b)}catch(d){if(this._deletedFiles[a])throw new c(k.ENOENT,"Path "+a+" does not exist.");var h=this._readable.statSync(a,b).clone();return h.mode|=146,
h}},b.prototype.openSync=function(a,b,d){if(this.existsSync(a))switch(b.pathExistsAction()){case p.ActionType.TRUNCATE_FILE:return this.createParentDirectories(a),this._writable.openSync(a,b,d);case p.ActionType.NOP:if(this._writable.existsSync(a))return this._writable.openSync(a,b,d);var h=this._readable.statSync(a,!1).clone();return h.mode=d,new y(this,a,b,h,this._readable.readFileSync(a,null,p.FileFlag.getFileFlag("r")));default:throw new c(k.EEXIST,"Path "+a+" exists.");}else switch(b.pathNotExistsAction()){case p.ActionType.CREATE_FILE:return this.createParentDirectories(a),
this._writable.openSync(a,b,d);default:throw new c(k.ENOENT,"Path "+a+" does not exist.");}},b.prototype.unlinkSync=function(a){if(!this.existsSync(a))throw new c(k.ENOENT,"Path "+a+" does not exist.");this._writable.existsSync(a)&&this._writable.unlinkSync(a);this.existsSync(a)&&this.deletePath(a)},b.prototype.rmdirSync=function(a){if(!this.existsSync(a))throw new c(k.ENOENT,"Path "+a+" does not exist.");if(this._writable.existsSync(a)&&this._writable.rmdirSync(a),this.existsSync(a)){if(0<this.readdirSync(a).length)throw new c(k.ENOTEMPTY,
"Directory "+a+" is not empty.");this.deletePath(a)}},b.prototype.mkdirSync=function(a,b){if(this.existsSync(a))throw new c(k.EEXIST,"Path "+a+" already exists.");this.createParentDirectories(a);this._writable.mkdirSync(a,b)},b.prototype.readdirSync=function(a){var b=this;if(!this.statSync(a,!1).isDirectory())throw new c(k.ENOTDIR,"Path "+a+" is not a directory.");var d=[];try{d=d.concat(this._writable.readdirSync(a))}catch(h){}try{d=d.concat(this._readable.readdirSync(a))}catch(h){}var e={};return d.filter(function(c){var d=
void 0===e[c]&&!0!==b._deletedFiles[a+"/"+c];return e[c]=!0,d})},b.prototype.existsSync=function(a){return this._writable.existsSync(a)||this._readable.existsSync(a)&&!0!==this._deletedFiles[a]},b.prototype.chmodSync=function(a,c,b){var d=this;this.operateOnWritable(a,function(){d._writable.chmodSync(a,c,b)})},b.prototype.chownSync=function(a,c,b,d){var h=this;this.operateOnWritable(a,function(){h._writable.chownSync(a,c,b,d)})},b.prototype.utimesSync=function(a,c,b){var d=this;this.operateOnWritable(a,
function(){d._writable.utimesSync(a,c,b)})},b.prototype.operateOnWritable=function(a,b){if(!this.existsSync(a))throw new c(k.ENOENT,"Path "+a+" does not exist.");this._writable.existsSync(a)||this.copyToWritable(a);b()},b.prototype.copyToWritable=function(a){var c=this.statSync(a,!1);c.isDirectory()?this._writable.mkdirSync(a,c.mode):this.writeFileSync(a,this._readable.readFileSync(a,null,p.FileFlag.getFileFlag("r")),null,p.FileFlag.getFileFlag("w"),this.statSync(a,!1).mode)},b}(f.SynchronousFileSystem);
l.registerFileSystem("OverlayFS",g);q.exports=g},{"../core/api_error":14,"../core/browserfs":15,"../core/buffer":16,"../core/file_flag":22,"../core/file_system":23,"../core/node_path":28,"../generic/preload_file":36}],12:[function(g,q,l){function n(a){return{type:f.ERROR,errorData:a.writeToBuffer().toArrayBuffer()}}var f,e=this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);b.prototype=c.prototype;a.prototype=new b};q=g("../core/file_system");
var b=g("../core/buffer"),p=g("../core/api_error"),a=g("../core/file_flag"),d=g("../core/file"),c=g("../core/node_fs_stats"),h=g("../generic/preload_file"),k=g("../core/browserfs"),y=b.Buffer;!function(a){a[a.CB=0]="CB";a[a.FD=1]="FD";a[a.ERROR=2]="ERROR";a[a.STATS=3]="STATS";a[a.PROBE=4]="PROBE";a[a.FILEFLAG=5]="FILEFLAG";a[a.BUFFER=6]="BUFFER"}(f||(f={}));var G=function(){function a(){this._callbacks={};this._nextId=0}return a.prototype.toRemoteArg=function(a){var c=this._nextId++;return this._callbacks[c]=
a,{type:f.CB,id:c}},a.prototype.toLocalArg=function(a){var c=this._callbacks[a];return delete this._callbacks[a],c},a}(),F=function(){function b(){this._fileDescriptors={};this._nextId=0}return b.prototype.toRemoteArg=function(a,c,b,d){var h,k,m=this._nextId++;this._fileDescriptors[m]=a;a.stat(function(e,r){e?d(e):(k=r.toBuffer().toArrayBuffer(),b.isReadable()?a.read(new y(r.size),0,r.size,0,function(a,e,C){a?d(a):(h=C.toArrayBuffer(),d(null,{type:f.FD,id:m,data:h,stat:k,path:c,flag:b.getFlagString()}))}):
d(null,{type:f.FD,id:m,data:new ArrayBuffer(0),stat:k,path:c,flag:b.getFlagString()}))})},b.prototype._applyFdChanges=function(b,d){var h=this._fileDescriptors[b.id],k=new y(b.data),m=c.Stats.fromBuffer(new y(b.stat)),e=a.FileFlag.getFileFlag(b.flag);e.isWriteable()?h.write(k,0,k.length,e.isAppendable()?h.getPos():0,function(a){function c(){h.stat(function(a,c){a?d(a):c.mode!==m.mode?h.chmod(m.mode,function(a){d(a,h)}):d(a,h)})}a?d(a):e.isAppendable()?c():h.truncate(k.length,function(){c()})}):d(null,
h)},b.prototype.applyFdAPIRequest=function(a,c){var b=this,d=a.args[0];this._applyFdChanges(d,function(h,k){h?c(h):k[a.method](function(h){"close"===a.method&&delete b._fileDescriptors[d.id];c(h)})})},b}(),r=function(a){function c(b,d,h,k,e,C){a.call(this,b,d,h,k,C);this._remoteFdId=e}return e(c,a),c.prototype.getRemoteFdId=function(){return this._remoteFdId},c.prototype.toRemoteArg=function(){return{type:f.FD,id:this._remoteFdId,data:this.getBuffer().toArrayBuffer(),stat:this.getStats().toBuffer().toArrayBuffer(),
path:this.getPath(),flag:this.getFlag().getFlagString()}},c.prototype._syncClose=function(a,c){var b=this;this.isDirty()?this._fs.syncClose(a,this,function(a){a||b.resetDirty();c(a)}):c()},c.prototype.sync=function(a){this._syncClose("sync",a)},c.prototype.close=function(a){this._syncClose("close",a)},c}(h.PreloadFile);g=function(b){function h(a){var c=this;b.call(this);this._callbackConverter=new G;this._supportProps=this._supportLinks=this._isReadOnly=this._isInitialized=!1;this._outstandingRequests=
{};this._worker=a;this._worker.addEventListener("message",function(a){if(null!=a.data&&"object"==typeof a.data&&a.data.hasOwnProperty("browserfsMessage")&&a.data.browserfsMessage){var b=a.data,d=b.args,h=Array(d.length);for(a=0;a<h.length;a++)h[a]=c._argRemote2Local(d[a]);c._callbackConverter.toLocalArg(b.cbId).apply(null,h)}})}return e(h,b),h.isAvailable=function(){return"undefined"!=typeof Worker},h.prototype.getName=function(){return"WorkerFS"},h.prototype._argRemote2Local=function(b){if(null==
b)return b;switch(typeof b){case "object":if(null==b.type||"number"!=typeof b.type)return b;switch(b.type){case f.ERROR:return p.ApiError.fromBuffer(new y(b.errorData));case f.FD:return new r(this,b.path,a.FileFlag.getFileFlag(b.flag),c.Stats.fromBuffer(new y(b.stat)),b.id,new y(b.data));case f.STATS:return c.Stats.fromBuffer(new y(b.statsData));case f.FILEFLAG:return a.FileFlag.getFileFlag(b.flagStr);case f.BUFFER:return new y(b.data);default:return b}default:return b}},h.prototype._argLocal2Remote=
function(b){if(null==b)return b;switch(typeof b){case "object":return b instanceof c.Stats?{type:f.STATS,statsData:b.toBuffer().toArrayBuffer()}:b instanceof p.ApiError?n(b):b instanceof r?b.toRemoteArg():b instanceof a.FileFlag?{type:f.FILEFLAG,flagStr:b.getFlagString()}:b instanceof y?{type:f.BUFFER,data:b.toArrayBuffer()}:b;case "function":return this._callbackConverter.toRemoteArg(b);default:return b}},h.prototype.initialize=function(a){var c=this;if(this._isInitialized)a();else{var b={browserfsMessage:!0,
method:"probe",args:[this._callbackConverter.toRemoteArg(function(b){c._isInitialized=!0;c._isReadOnly=b.isReadOnly;c._supportLinks=b.supportsLinks;c._supportProps=b.supportsProps;a()})]};this._worker.postMessage(b)}},h.prototype.isReadOnly=function(){return this._isReadOnly},h.prototype.supportsSynch=function(){return!1},h.prototype.supportsLinks=function(){return this._supportLinks},h.prototype.supportsProps=function(){return this._supportProps},h.prototype._rpc=function(a,c){var b,d={browserfsMessage:!0,
method:a,args:null},h=Array(c.length);for(b=0;b<c.length;b++)h[b]=this._argLocal2Remote(c[b]);d.args=h;this._worker.postMessage(d)},h.prototype.rename=function(a,c,b){this._rpc("rename",arguments)},h.prototype.stat=function(a,c,b){this._rpc("stat",arguments)},h.prototype.open=function(a,c,b,d){this._rpc("open",arguments)},h.prototype.unlink=function(a,c){this._rpc("unlink",arguments)},h.prototype.rmdir=function(a,c){this._rpc("rmdir",arguments)},h.prototype.mkdir=function(a,c,b){this._rpc("mkdir",
arguments)},h.prototype.readdir=function(a,c){this._rpc("readdir",arguments)},h.prototype.exists=function(a,c){this._rpc("exists",arguments)},h.prototype.realpath=function(a,c,b){this._rpc("realpath",arguments)},h.prototype.truncate=function(a,c,b){this._rpc("truncate",arguments)},h.prototype.readFile=function(a,c,b,d){this._rpc("readFile",arguments)},h.prototype.writeFile=function(a,c,b,d,h,k){this._rpc("writeFile",arguments)},h.prototype.appendFile=function(a,c,b,d,h,k){this._rpc("appendFile",arguments)},
h.prototype.chmod=function(a,c,b,d){this._rpc("chmod",arguments)},h.prototype.chown=function(a,c,b,d,h){this._rpc("chown",arguments)},h.prototype.utimes=function(a,c,b,d){this._rpc("utimes",arguments)},h.prototype.link=function(a,c,b){this._rpc("link",arguments)},h.prototype.symlink=function(a,c,b,d){this._rpc("symlink",arguments)},h.prototype.readlink=function(a,c){this._rpc("readlink",arguments)},h.prototype.syncClose=function(a,c,b){this._worker.postMessage({browserfsMessage:!0,method:a,args:[c.toRemoteArg(),
this._callbackConverter.toRemoteArg(b)]})},h.attachRemoteListener=function(b){function h(b,k,m){switch(typeof b){case "object":b instanceof c.Stats?m(null,{type:f.STATS,statsData:b.toBuffer().toArrayBuffer()}):b instanceof p.ApiError?m(null,n(b)):b instanceof d.BaseFile?m(null,e.toRemoteArg(b,k[0],k[1],m)):b instanceof a.FileFlag?m(null,{type:f.FILEFLAG,flagStr:b.getFlagString()}):b instanceof y?m(null,{type:f.BUFFER,data:b.toArrayBuffer()}):m(null,b);break;default:m(null,b)}}function m(d,k){if(null==
d)return d;switch(typeof d){case "object":if("number"!=typeof d.type)return d;switch(d.type){case f.CB:var e=d.id;return function(){var a,c,d=Array(arguments.length),m=arguments.length;for(a=0;a<arguments.length;a++)!function(a,r){h(r,k,function(h,k){d[a]=k;h?0<m&&(m=-1,c={browserfsMessage:!0,cbId:e,args:[n(h)]},b.postMessage(c)):0===--m&&(c={browserfsMessage:!0,cbId:e,args:d},b.postMessage(c))})}(a,arguments[a]);0===arguments.length&&(c={browserfsMessage:!0,cbId:e,args:d},b.postMessage(c))};case f.ERROR:return p.ApiError.fromBuffer(new y(d.errorData));
case f.STATS:return c.Stats.fromBuffer(new y(d.statsData));case f.FILEFLAG:return a.FileFlag.getFileFlag(d.flagStr);case f.BUFFER:return new y(d.data);default:return d}default:return d}}var e=new F,r=k.BFSRequire("fs");b.addEventListener("message",function(a){if(null!=a.data&&"object"==typeof a.data&&a.data.hasOwnProperty("browserfsMessage")&&a.data.browserfsMessage){var c,d=a.data,h=d.args;a=Array(h.length);switch(d.method){case "close":case "sync":!function(){var a=h[1];e.applyFdAPIRequest(d,function(c){c=
{browserfsMessage:!0,cbId:a.id,args:c?[n(c)]:[]};b.postMessage(c)})}();break;case "probe":!function(){var a=r.getRootFS(),a={browserfsMessage:!0,cbId:h[0].id,args:[{type:f.PROBE,isReadOnly:a.isReadOnly(),supportsLinks:a.supportsLinks(),supportsProps:a.supportsProps()}]};b.postMessage(a)}();break;default:for(c=0;c<h.length;c++)a[c]=m(h[c],a);c=r.getRootFS();c[d.method].apply(c,a)}}})},h}(q.BaseFileSystem);l.WorkerFS=g;k.registerFileSystem("WorkerFS",g)},{"../core/api_error":14,"../core/browserfs":15,
"../core/buffer":16,"../core/file":21,"../core/file_flag":22,"../core/file_system":23,"../core/node_fs_stats":27,"../generic/preload_file":36}],13:[function(g,q,l){function n(a,c){return new Date((c>>9)+1980,(c>>5&15)-1,31&c,a>>11,a>>5&63,31&a)}function f(a,c,b,d){return 0===d?"":a.toString(c?"utf8":"extended_ascii",b,b+d)}var e=this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);b.prototype=c.prototype;a.prototype=new b},b=g("../core/buffer"),
p=g("../core/api_error"),a=g("../generic/file_index");q=g("../core/browserfs");var d=g("../core/node_fs_stats"),c=g("../core/file_system"),h=g("../core/file_flag"),k=g("../core/buffer_core_arraybuffer"),y=g("../generic/preload_file"),G=g("zlib-inflate").inflateRaw,F=p.ApiError,r=p.ErrorCode,m=h.ActionType;!function(a){a[a.MSDOS=0]="MSDOS";a[a.AMIGA=1]="AMIGA";a[a.OPENVMS=2]="OPENVMS";a[a.UNIX=3]="UNIX";a[a.VM_CMS=4]="VM_CMS";a[a.ATARI_ST=5]="ATARI_ST";a[a.OS2_HPFS=6]="OS2_HPFS";a[a.MAC=7]="MAC";a[a.Z_SYSTEM=
8]="Z_SYSTEM";a[a.CP_M=9]="CP_M";a[a.NTFS=10]="NTFS";a[a.MVS=11]="MVS";a[a.VSE=12]="VSE";a[a.ACORN_RISC=13]="ACORN_RISC";a[a.VFAT=14]="VFAT";a[a.ALT_MVS=15]="ALT_MVS";a[a.BEOS=16]="BEOS";a[a.TANDEM=17]="TANDEM";a[a.OS_400=18]="OS_400";a[a.OSX=19]="OSX"}(l.ExternalFileAttributeType||(l.ExternalFileAttributeType={}));l.ExternalFileAttributeType;!function(a){a[a.STORED=0]="STORED";a[a.SHRUNK=1]="SHRUNK";a[a.REDUCED_1=2]="REDUCED_1";a[a.REDUCED_2=3]="REDUCED_2";a[a.REDUCED_3=4]="REDUCED_3";a[a.REDUCED_4=
5]="REDUCED_4";a[a.IMPLODE=6]="IMPLODE";a[a.DEFLATE=8]="DEFLATE";a[a.DEFLATE64=9]="DEFLATE64";a[a.TERSE_OLD=10]="TERSE_OLD";a[a.BZIP2=12]="BZIP2";a[a.LZMA=14]="LZMA";a[a.TERSE_NEW=18]="TERSE_NEW";a[a.LZ77=19]="LZ77";a[a.WAVPACK=97]="WAVPACK";a[a.PPMD=98]="PPMD"}(l.CompressionMethod||(l.CompressionMethod={}));var C=l.CompressionMethod,A=function(){function a(c){if(this.data=c,67324752!==c.readUInt32LE(0))throw new F(r.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0));
}return a.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},a.prototype.flags=function(){return this.data.readUInt16LE(6)},a.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},a.prototype.lastModFileTime=function(){return n(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},a.prototype.crc32=function(){return this.data.readUInt32LE(14)},a.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},a.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},
a.prototype.fileName=function(){return f(this.data,this.useUTF8(),30,this.fileNameLength())},a.prototype.extraField=function(){var a=30+this.fileNameLength();return this.data.slice(a,a+this.extraFieldLength())},a.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},a.prototype.useUTF8=function(){return 2048===(2048&this.flags())},a}();l.FileHeader=A;var D=function(){function a(c,b,d){this.header=c;this.record=b;this.data=d}return a.prototype.decompress=function(){var a=
this.data,c=this.header.compressionMethod();switch(c){case C.DEFLATE:if(a.getBufferCore()instanceof k.BufferCoreArrayBuffer)return c=a.getBufferCore().getDataView(),a=c.byteOffset+a.getOffset(),a=(new Uint8Array(c.buffer)).subarray(a,a+this.record.compressedSize()),a=G(a,{chunkSize:this.record.uncompressedSize()}),new b.Buffer(new k.BufferCoreArrayBuffer(a.buffer),a.byteOffset,a.byteOffset+a.length);a=a.slice(0,this.record.compressedSize());return new b.Buffer(G(a.toJSON().data,{chunkSize:this.record.uncompressedSize()}));
case C.STORED:return a.sliceCopy(0,this.record.uncompressedSize());default:throw a=C[c],a=a?a:"Unknown: "+c,new F(r.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+a);}},a}();l.FileData=D;g=function(){function a(c){this.data=c}return a.prototype.crc32=function(){return this.data.readUInt32LE(0)},a.prototype.compressedSize=function(){return this.data.readUInt32LE(4)},a.prototype.uncompressedSize=function(){return this.data.readUInt32LE(8)},a}();l.DataDescriptor=g;g=function(){function a(c){if(this.data=
c,134630224!==this.data.readUInt32LE(0))throw new F(r.EINVAL,"Invalid archive extra data record signature: "+this.data.readUInt32LE(0));}return a.prototype.length=function(){return this.data.readUInt32LE(4)},a.prototype.extraFieldData=function(){return this.data.slice(8,8+this.length())},a}();l.ArchiveExtraDataRecord=g;g=function(){function a(c){if(this.data=c,84233040!==this.data.readUInt32LE(0))throw new F(r.EINVAL,"Invalid digital signature signature: "+this.data.readUInt32LE(0));}return a.prototype.size=
function(){return this.data.readUInt16LE(4)},a.prototype.signatureData=function(){return this.data.slice(6,6+this.size())},a}();l.DigitalSignature=g;var O=function(){function a(c,b){if(this.zipData=c,this.data=b,33639248!==this.data.readUInt32LE(0))throw new F(r.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));}return a.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},a.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},
a.prototype.flag=function(){return this.data.readUInt16LE(8)},a.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},a.prototype.lastModFileTime=function(){return n(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},a.prototype.crc32=function(){return this.data.readUInt32LE(16)},a.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},a.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},a.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},
a.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},a.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},a.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},a.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},a.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},a.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},a.prototype.fileName=function(){return f(this.data,
this.useUTF8(),46,this.fileNameLength()).replace(/\\/g,"/")},a.prototype.extraField=function(){var a=44+this.fileNameLength();return this.data.slice(a,a+this.extraFieldLength())},a.prototype.fileComment=function(){var a=46+this.fileNameLength()+this.extraFieldLength();return f(this.data,this.useUTF8(),a,this.fileCommentLength())},a.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},a.prototype.isDirectory=function(){var a=this.fileName();
return(16&this.externalAttributes()?!0:!1)||"/"===a.charAt(a.length-1)},a.prototype.isFile=function(){return!this.isDirectory()},a.prototype.useUTF8=function(){return 2048===(2048&this.flag())},a.prototype.isEncrypted=function(){return 1===(1&this.flag())},a.prototype.getData=function(){var a=this.headerRelativeOffset(),c=new A(this.zipData.slice(a));return(new D(c,this,this.zipData.slice(a+c.totalSize()))).decompress()},a.prototype.getStats=function(){return new d.Stats(d.FileType.FILE,this.uncompressedSize(),
365,new Date,this.lastModFileTime())},a}();l.CentralDirectory=O;var H=function(){function a(c){if(this.data=c,101010256!==this.data.readUInt32LE(0))throw new F(r.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0));}return a.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},a.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},a.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},a.prototype.cdTotalEntryCount=
function(){return this.data.readUInt16LE(10)},a.prototype.cdSize=function(){return this.data.readUInt32LE(12)},a.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},a.prototype.cdZipComment=function(){return f(this.data,!0,22,this.data.readUInt16LE(20))},a}();l.EndOfCentralDirectory=H;c=function(c){function d(b,h){void 0===h&&(h="");c.call(this);this.data=b;this.name=h;this._index=new a.FileIndex;this.populateIndex()}return e(d,c),d.prototype.getName=function(){return"ZipFS"+(""!==this.name?
" "+this.name:"")},d.isAvailable=function(){return!0},d.prototype.diskSpace=function(a,c){c(this.data.length,0)},d.prototype.isReadOnly=function(){return!0},d.prototype.supportsLinks=function(){return!1},d.prototype.supportsProps=function(){return!1},d.prototype.supportsSynch=function(){return!0},d.prototype.statSync=function(a,c){var b=this._index.getInode(a);if(null===b)throw new F(r.ENOENT,""+a+" not found.");return b.isFile()?b.getData().getStats():b.getStats()},d.prototype.openSync=function(a,
c,b){if(c.isWriteable())throw new F(r.EPERM,a);b=this._index.getInode(a);if(null===b)throw new F(r.ENOENT,""+a+" is not in the FileIndex.");if(b.isDir())throw new F(r.EISDIR,""+a+" is a directory.");b=b.getData();var d=b.getStats();switch(c.pathExistsAction()){case m.THROW_EXCEPTION:case m.TRUNCATE_FILE:throw new F(r.EEXIST,""+a+" already exists.");case m.NOP:return new y.NoSyncFile(this,a,c,d,b.getData());default:throw new F(r.EINVAL,"Invalid FileMode object.");}},d.prototype.readdirSync=function(a){var c=
this._index.getInode(a);if(null===c)throw new F(r.ENOENT,""+a+" not found.");if(c.isFile())throw new F(r.ENOTDIR,""+a+" is a file, not a directory.");return c.getListing()},d.prototype.readFileSync=function(a,c,d){a=this.openSync(a,d,420);try{var h=a.getBuffer();return null===c?0<h.length?h.sliceCopy():new b.Buffer(0):h.toString(c)}finally{a.closeSync()}},d.prototype.getEOCD=function(){for(var a=Math.min(65557,this.data.length-1),c=22;a>c;c++)if(101010256===this.data.readUInt32LE(this.data.length-
c))return new H(this.data.slice(this.data.length-c));throw new F(r.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.");},d.prototype.populateIndex=function(){var c=this.getEOCD();if(c.diskNumber()!==c.cdDiskNumber())throw new F(r.EINVAL,"ZipFS does not support spanned zip files.");var b=c.cdOffset();if(4294967295===b)throw new F(r.EINVAL,"ZipFS does not support Zip64.");for(c=b+c.cdSize();c>b;){var d=new O(this.data,this.data.slice(b)),b=b+d.totalSize(),h=d.fileName();
if("/"===h.charAt(0))throw Error("WHY IS THIS ABSOLUTE");"/"===h.charAt(h.length-1)&&(h=h.substr(0,h.length-1));d.isDirectory()?this._index.addPath("/"+h,new a.DirInode):this._index.addPath("/"+h,new a.FileInode(d))}},d}(c.SynchronousFileSystem);l.ZipFS=c;q.registerFileSystem("ZipFS",c)},{"../core/api_error":14,"../core/browserfs":15,"../core/buffer":16,"../core/buffer_core_arraybuffer":19,"../core/file_flag":22,"../core/file_system":23,"../core/node_fs_stats":27,"../generic/file_index":33,"../generic/preload_file":36,
"zlib-inflate":2}],14:[function(g,q,l){var n=g("./buffer").Buffer;!function(b){b[b.EPERM=0]="EPERM";b[b.ENOENT=1]="ENOENT";b[b.EIO=2]="EIO";b[b.EBADF=3]="EBADF";b[b.EACCES=4]="EACCES";b[b.EBUSY=5]="EBUSY";b[b.EEXIST=6]="EEXIST";b[b.ENOTDIR=7]="ENOTDIR";b[b.EISDIR=8]="EISDIR";b[b.EINVAL=9]="EINVAL";b[b.EFBIG=10]="EFBIG";b[b.ENOSPC=11]="ENOSPC";b[b.EROFS=12]="EROFS";b[b.ENOTEMPTY=13]="ENOTEMPTY";b[b.ENOTSUP=14]="ENOTSUP"}(l.ErrorCode||(l.ErrorCode={}));var f=l.ErrorCode,e={};e[f.EPERM]="Operation not permitted.";
e[f.ENOENT]="No such file or directory.";e[f.EIO]="Input/output error.";e[f.EBADF]="Bad file descriptor.";e[f.EACCES]="Permission denied.";e[f.EBUSY]="Resource busy or locked.";e[f.EEXIST]="File exists.";e[f.ENOTDIR]="File is not a directory.";e[f.EISDIR]="File is a directory.";e[f.EINVAL]="Invalid argument.";e[f.EFBIG]="File is too big.";e[f.ENOSPC]="No space left on disk.";e[f.EROFS]="Cannot modify a read-only file system.";e[f.ENOTEMPTY]="Directory is not empty.";e[f.ENOTSUP]="Operation is not supported.";
g=function(){function b(b,a){this.type=b;this.code=f[b];null!=a?this.message=a:this.message=e[b]}return b.prototype.toString=function(){return this.code+": "+e[this.type]+" "+this.message},b.prototype.writeToBuffer=function(b,a){void 0===b&&(b=new n(this.bufferSize()));void 0===a&&(a=0);b.writeUInt8(this.type,a);var d=b.write(this.message,a+5);return b.writeUInt32LE(d,a+1),b},b.fromBuffer=function(e,a){return void 0===a&&(a=0),new b(e.readUInt8(a),e.toString("utf8",a+5,a+5+e.readUInt32LE(a+1)))},
b.prototype.bufferSize=function(){return 5+n.byteLength(this.message)},b.FileError=function(f,a){return new b(f,a+": "+e[f])},b.ENOENT=function(b){return this.FileError(f.ENOENT,b)},b.EEXIST=function(b){return this.FileError(f.EEXIST,b)},b.EISDIR=function(b){return this.FileError(f.EISDIR,b)},b.ENOTDIR=function(b){return this.FileError(f.ENOTDIR,b)},b.EPERM=function(b){return this.FileError(f.EPERM,b)},b}();l.ApiError=g},{"./buffer":16}],15:[function(g,q,l){function n(a){switch(a){case "fs":return e;
case "path":return b;case "buffer":return f;case "process":return p.process;default:return l.FileSystem[a]}}var f=g("./buffer"),e=g("./node_fs"),b=g("./node_path"),p=g("./node_process");l.install=function(a){a.Buffer=f.Buffer;a.process=p.process;var b=null!=a.require?a.require:null;a.require=function(a){var h=n(a);return null==h?b.apply(null,Array.prototype.slice.call(arguments,0)):h}};l.FileSystem={};l.registerFileSystem=function(a,b){l.FileSystem[a]=b};l.BFSRequire=n;l.initialize=function(a){return e._initialize(a)}},
{"./buffer":16,"./node_fs":26,"./node_path":28,"./node_process":29}],16:[function(g,q,l){var n=g("./buffer_core");q=g("./buffer_core_array");var f=g("./buffer_core_arraybuffer"),e=g("./buffer_core_imagedata"),b=g("./string_util"),p=[f.BufferCoreArrayBuffer,e.BufferCoreImageData,q.BufferCoreArray],a=function(){var a,c;for(a=0;a<p.length;a++)if(c=p[a],c.isAvailable())return c;throw Error("This browser does not support any available BufferCore implementations.");}();g=function(){function d(c,b,k){void 0===
b&&(b="utf8");this.offset=0;if(!(this instanceof d))return new d(c,b);if(c instanceof n.BufferCoreCommon)this.data=c,c="number"==typeof b?b:0,k="number"==typeof k?k:this.data.getLength(),this.offset=c,this.length=k-c;else if("number"==typeof c){if(c!==c>>>0)throw new TypeError("Buffer size must be a uint32.");this.length=c;this.data=new a(c)}else if("undefined"!=typeof DataView&&c instanceof DataView)this.data=new f.BufferCoreArrayBuffer(c),this.length=c.byteLength;else if("undefined"!=typeof ArrayBuffer&&
"number"==typeof c.byteLength)this.data=new f.BufferCoreArrayBuffer(c),this.length=c.byteLength;else if(c instanceof d)this.data=new a(c.length),this.length=c.length,c.copy(this);else if(Array.isArray(c)||null!=c&&"object"==typeof c&&"number"==typeof c[0]){this.data=new a(c.length);for(k=0;k<c.length;k++)this.data.writeUInt8(k,c[k]);this.length=c.length}else{if("string"!=typeof c)throw Error("Invalid argument to Buffer constructor: "+c);this.length=d.byteLength(c,b);this.data=new a(this.length);this.write(c,
0,this.length,b)}}return d.prototype.getBufferCore=function(){return this.data},d.prototype.getOffset=function(){return this.offset},d.prototype.set=function(a,b){return 0>b?this.writeInt8(b,a):this.writeUInt8(b,a)},d.prototype.get=function(a){return this.readUInt8(a)},d.prototype.write=function(a,h,k,e){if(void 0===h&&(h=0),void 0===k&&(k=this.length),void 0===e&&(e="utf8"),"string"==typeof h?(e=""+h,h=0,k=this.length):"string"==typeof k&&(e=""+k,k=this.length),h>=this.length)return 0;e=b.FindUtil(e);
return k=k+h>this.length?this.length-h:k,h+=this.offset,e.str2byte(a,0===h&&k===this.length?this:new d(this.data,h,k+h))},d.prototype.toString=function(a,h,k){if(void 0===a&&(a="utf8"),void 0===h&&(h=0),void 0===k&&(k=this.length),!(k>=h))throw Error("Invalid start/end positions: "+h+" - "+k);if(h===k)return"";k>this.length&&(k=this.length);return b.FindUtil(a).byte2str(0===h&&k===this.length?this:new d(this.data,h+this.offset,k+this.offset))},d.prototype.toJSON=function(){for(var a=this.length,b=
Array(a),d=0;a>d;d++)b[d]=this.readUInt8(d);return{type:"Buffer",data:b}},d.prototype.toArrayBuffer=function(){var a=this.getBufferCore();if(a instanceof f.BufferCoreArrayBuffer){var b=a.getDataView(),a=b.buffer;return 0===b.byteOffset&&b.byteLength===a.byteLength?a:a.slice(b.byteOffset,b.byteLength)}a=new ArrayBuffer(this.length);b=new d(a);return this.copy(b,0,0,this.length),a},d.prototype.copy=function(a,b,d,e){if(void 0===b&&(b=0),void 0===d&&(d=0),void 0===e&&(e=this.length),b=0>b?0:b,d=0>d?
0:d,d>e)throw new RangeError("sourceEnd < sourceStart");if(e===d)return 0;if(b>=a.length)throw new RangeError("targetStart out of bounds");if(d>=this.length)throw new RangeError("sourceStart out of bounds");if(e>this.length)throw new RangeError("sourceEnd out of bounds");var f=Math.min(e-d,a.length-b,this.length-d);for(e=0;f-3>e;e+=4)a.writeInt32LE(this.readInt32LE(d+e),b+e);for(e=4294967292&f;f>e;e++)a.writeUInt8(this.readUInt8(d+e),b+e);return f},d.prototype.slice=function(a,b){if(void 0===a&&(a=
0),void 0===b&&(b=this.length),0>a&&(a+=this.length,0>a&&(a=0)),0>b&&(b+=this.length,0>b&&(b=0)),b>this.length&&(b=this.length),a>b&&(a=b),0>a||0>b||a>=this.length||b>this.length)throw Error("Invalid slice indices.");return new d(this.data,a+this.offset,b+this.offset)},d.prototype.sliceCopy=function(a,b){if(void 0===a&&(a=0),void 0===b&&(b=this.length),0>a&&(a+=this.length,0>a&&(a=0)),0>b&&(b+=this.length,0>b&&(b=0)),b>this.length&&(b=this.length),a>b&&(a=b),0>a||0>b||a>=this.length||b>this.length)throw Error("Invalid slice indices.");
return new d(this.data.copy(a+this.offset,b+this.offset))},d.prototype.fill=function(a,b,d){void 0===b&&(b=0);void 0===d&&(d=this.length);switch(typeof a){case "string":a=255&a.charCodeAt(0);break;case "number":break;default:throw Error("Invalid argument to fill.");}b+=this.offset;d+=this.offset;this.data.fill(a,b,d)},d.prototype.readUInt8=function(a,b){return a+=this.offset,this.data.readUInt8(a)},d.prototype.readUInt16LE=function(a,b){return a+=this.offset,this.data.readUInt16LE(a)},d.prototype.readUInt16BE=
function(a,b){return a+=this.offset,this.data.readUInt16BE(a)},d.prototype.readUInt32LE=function(a,b){return a+=this.offset,this.data.readUInt32LE(a)},d.prototype.readUInt32BE=function(a,b){return a+=this.offset,this.data.readUInt32BE(a)},d.prototype.readInt8=function(a,b){return a+=this.offset,this.data.readInt8(a)},d.prototype.readInt16LE=function(a,b){return a+=this.offset,this.data.readInt16LE(a)},d.prototype.readInt16BE=function(a,b){return a+=this.offset,this.data.readInt16BE(a)},d.prototype.readInt32LE=
function(a,b){return a+=this.offset,this.data.readInt32LE(a)},d.prototype.readInt32BE=function(a,b){return a+=this.offset,this.data.readInt32BE(a)},d.prototype.readFloatLE=function(a,b){return a+=this.offset,this.data.readFloatLE(a)},d.prototype.readFloatBE=function(a,b){return a+=this.offset,this.data.readFloatBE(a)},d.prototype.readDoubleLE=function(a,b){return a+=this.offset,this.data.readDoubleLE(a)},d.prototype.readDoubleBE=function(a,b){return a+=this.offset,this.data.readDoubleBE(a)},d.prototype.writeUInt8=
function(a,b,d){b+=this.offset;this.data.writeUInt8(b,a)},d.prototype.writeUInt16LE=function(a,b,d){b+=this.offset;this.data.writeUInt16LE(b,a)},d.prototype.writeUInt16BE=function(a,b,d){b+=this.offset;this.data.writeUInt16BE(b,a)},d.prototype.writeUInt32LE=function(a,b,d){b+=this.offset;this.data.writeUInt32LE(b,a)},d.prototype.writeUInt32BE=function(a,b,d){b+=this.offset;this.data.writeUInt32BE(b,a)},d.prototype.writeInt8=function(a,b,d){b+=this.offset;this.data.writeInt8(b,a)},d.prototype.writeInt16LE=
function(a,b,d){b+=this.offset;this.data.writeInt16LE(b,a)},d.prototype.writeInt16BE=function(a,b,d){b+=this.offset;this.data.writeInt16BE(b,a)},d.prototype.writeInt32LE=function(a,b,d){b+=this.offset;this.data.writeInt32LE(b,a)},d.prototype.writeInt32BE=function(a,b,d){b+=this.offset;this.data.writeInt32BE(b,a)},d.prototype.writeFloatLE=function(a,b,d){b+=this.offset;this.data.writeFloatLE(b,a)},d.prototype.writeFloatBE=function(a,b,d){b+=this.offset;this.data.writeFloatBE(b,a)},d.prototype.writeDoubleLE=
function(a,b,d){b+=this.offset;this.data.writeDoubleLE(b,a)},d.prototype.writeDoubleBE=function(a,b,d){b+=this.offset;this.data.writeDoubleBE(b,a)},d.isEncoding=function(a){try{b.FindUtil(a)}catch(d){return!1}return!0},d.isBuffer=function(a){return a instanceof d},d.byteLength=function(a,d){void 0===d&&(d="utf8");return b.FindUtil(d).byteLength(a)},d.concat=function(a,b){var k;if(0===a.length||0===b)return new d(0);if(1===a.length)return a[0];if(null==b)for(var e=b=0;e<a.length;e++)k=a[e],b+=k.length;
for(var e=new d(b),f=0,g=0;g<a.length;g++)k=a[g],f+=k.copy(e,f);return e},d}();l.Buffer=g},{"./buffer_core":17,"./buffer_core_array":18,"./buffer_core_arraybuffer":19,"./buffer_core_imagedata":20,"./string_util":30}],17:[function(g,q,l){var n=Math.pow(2,128),f=-1*n;g=function(){function e(){}return e.prototype.getLength=function(){throw Error("BufferCore implementations should implement getLength.");},e.prototype.writeInt8=function(b,e){this.writeUInt8(b,255&e|(2147483648&e)>>>24)},e.prototype.writeInt16LE=
function(b,e){this.writeUInt8(b,255&e);this.writeUInt8(b+1,e>>>8&255|(2147483648&e)>>>24)},e.prototype.writeInt16BE=function(b,e){this.writeUInt8(b+1,255&e);this.writeUInt8(b,e>>>8&255|(2147483648&e)>>>24)},e.prototype.writeInt32LE=function(b,e){this.writeUInt8(b,255&e);this.writeUInt8(b+1,e>>>8&255);this.writeUInt8(b+2,e>>>16&255);this.writeUInt8(b+3,e>>>24&255)},e.prototype.writeInt32BE=function(b,e){this.writeUInt8(b+3,255&e);this.writeUInt8(b+2,e>>>8&255);this.writeUInt8(b+1,e>>>16&255);this.writeUInt8(b,
e>>>24&255)},e.prototype.writeUInt8=function(b,e){throw Error("BufferCore implementations should implement writeUInt8.");},e.prototype.writeUInt16LE=function(b,e){this.writeUInt8(b,255&e);this.writeUInt8(b+1,e>>8&255)},e.prototype.writeUInt16BE=function(b,e){this.writeUInt8(b+1,255&e);this.writeUInt8(b,e>>8&255)},e.prototype.writeUInt32LE=function(b,e){this.writeInt32LE(b,0|e)},e.prototype.writeUInt32BE=function(b,e){this.writeInt32BE(b,0|e)},e.prototype.writeFloatLE=function(b,e){this.writeInt32LE(b,
this.float2intbits(e))},e.prototype.writeFloatBE=function(b,e){this.writeInt32BE(b,this.float2intbits(e))},e.prototype.writeDoubleLE=function(b,e){var a=this.double2longbits(e);this.writeInt32LE(b,a[0]);this.writeInt32LE(b+4,a[1])},e.prototype.writeDoubleBE=function(b,e){var a=this.double2longbits(e);this.writeInt32BE(b+4,a[0]);this.writeInt32BE(b,a[1])},e.prototype.readInt8=function(b){b=this.readUInt8(b);return 128&b?4294967168|b:b},e.prototype.readInt16LE=function(b){b=this.readUInt16LE(b);return 32768&
b?4294934528|b:b},e.prototype.readInt16BE=function(b){b=this.readUInt16BE(b);return 32768&b?4294934528|b:b},e.prototype.readInt32LE=function(b){return 0|this.readUInt32LE(b)},e.prototype.readInt32BE=function(b){return 0|this.readUInt32BE(b)},e.prototype.readUInt8=function(b){throw Error("BufferCore implementations should implement readUInt8.");},e.prototype.readUInt16LE=function(b){return this.readUInt8(b+1)<<8|this.readUInt8(b)},e.prototype.readUInt16BE=function(b){return this.readUInt8(b)<<8|this.readUInt8(b+
1)},e.prototype.readUInt32LE=function(b){return(this.readUInt8(b+3)<<24|this.readUInt8(b+2)<<16|this.readUInt8(b+1)<<8|this.readUInt8(b))>>>0},e.prototype.readUInt32BE=function(b){return(this.readUInt8(b)<<24|this.readUInt8(b+1)<<16|this.readUInt8(b+2)<<8|this.readUInt8(b+3))>>>0},e.prototype.readFloatLE=function(b){return this.intbits2float(this.readInt32LE(b))},e.prototype.readFloatBE=function(b){return this.intbits2float(this.readInt32BE(b))},e.prototype.readDoubleLE=function(b){return this.longbits2double(this.readInt32LE(b+
4),this.readInt32LE(b))},e.prototype.readDoubleBE=function(b){return this.longbits2double(this.readInt32BE(b),this.readInt32BE(b+4))},e.prototype.copy=function(b,e){throw Error("BufferCore implementations should implement copy.");},e.prototype.fill=function(b,e,a){for(;a>e;e++)this.writeUInt8(e,b)},e.prototype.float2intbits=function(b){var e,a,d;return 0===b?0:b===Number.POSITIVE_INFINITY?2139095040:b===Number.NEGATIVE_INFINITY?-8388608:isNaN(b)?2143289344:(d=0>b?1:0,b=Math.abs(b),1.1754942106924411E-38>=
b&&1.401298464324817E-45<=b?(e=0,a=Math.round(b/Math.pow(2,-126)*Math.pow(2,23)),d<<31|e<<23|a):(e=Math.floor(Math.log(b)/Math.LN2),a=Math.round((b/Math.pow(2,e)-1)*Math.pow(2,23)),d<<31|e+127<<23|a))},e.prototype.double2longbits=function(b){var e,a,d,c;return 0===b?[0,0]:b===Number.POSITIVE_INFINITY?[0,2146435072]:b===Number.NEGATIVE_INFINITY?[0,-1048576]:isNaN(b)?[0,2146959360]:(c=0>b?-2147483648:0,b=Math.abs(b),2.225073858507201E-308>=b&&4.9E-324<=b?(e=0,d=b/Math.pow(2,-1022)*Math.pow(2,52)):(e=
Math.floor(Math.log(b)/Math.LN2),b<Math.pow(2,e)&&--e,d=(b/Math.pow(2,e)-1)*Math.pow(2,52),e=e+1023<<20),a=d*Math.pow(2,-32)|0|c|e,[65535&d,a])},e.prototype.intbits2float=function(b){if(2139095040===b)return Number.POSITIVE_INFINITY;if(-8388608===b)return Number.NEGATIVE_INFINITY;var e,a=(2147483648&b)>>>31,d=(2139095040&b)>>>23;b&=8388607;return e=0===d?Math.pow(-1,a)*b*Math.pow(2,-149):Math.pow(-1,a)*(1+b*Math.pow(2,-23))*Math.pow(2,d-127),(f>e||e>n)&&(e=NaN),e},e.prototype.longbits2double=function(b,
e){var a=(2147483648&b)>>>31,d=(2146435072&b)>>>20,c=(1048575&b)*Math.pow(2,32)+e;return 0===d&&0===c?0:2047===d?0===c?1===a?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY:NaN:0===d?Math.pow(-1,a)*c*Math.pow(2,-1074):Math.pow(-1,a)*(1+c*Math.pow(2,-52))*Math.pow(2,d-1023)},e}();l.BufferCoreCommon=g},{}],18:[function(g,q,l){var n=this.__extends||function(e,b){function f(){this.constructor=e}for(var a in b)b.hasOwnProperty(a)&&(e[a]=b[a]);f.prototype=b.prototype;e.prototype=new f},f=[4294967040,
4294902015,4278255615,16777215];g=function(e){function b(b){e.call(this);this.length=b;this.buff=Array(Math.ceil(b/4));b=this.buff.length;for(var a=0;b>a;a++)this.buff[a]=0}return n(b,e),b.isAvailable=function(){return!0},b.prototype.getLength=function(){return this.length},b.prototype.writeUInt8=function(b,a){var d=b>>2,c=3&b;this.buff[d]&=f[c];this.buff[d]|=(a&255)<<(c<<3)},b.prototype.readUInt8=function(b){return this.buff[b>>2]>>((3&b)<<3)&255},b.prototype.copy=function(e,a){for(var d=new b(a-
e),c=e;a>c;c++)d.writeUInt8(c-e,this.readUInt8(c));return d},b}(g("./buffer_core").BufferCoreCommon);l.BufferCoreArray=g},{"./buffer_core":17}],19:[function(g,q,l){var n=this.__extends||function(f,e){function b(){this.constructor=f}for(var g in e)e.hasOwnProperty(g)&&(f[g]=e[g]);b.prototype=e.prototype;f.prototype=new b};g=function(f){function e(b){f.call(this);"number"==typeof b?this.buff=new DataView(new ArrayBuffer(b)):b instanceof DataView?this.buff=b:this.buff=new DataView(b);this.length=this.buff.byteLength}
return n(e,f),e.isAvailable=function(){return"undefined"!=typeof DataView},e.prototype.getLength=function(){return this.length},e.prototype.writeInt8=function(b,e){this.buff.setInt8(b,e)},e.prototype.writeInt16LE=function(b,e){this.buff.setInt16(b,e,!0)},e.prototype.writeInt16BE=function(b,e){this.buff.setInt16(b,e,!1)},e.prototype.writeInt32LE=function(b,e){this.buff.setInt32(b,e,!0)},e.prototype.writeInt32BE=function(b,e){this.buff.setInt32(b,e,!1)},e.prototype.writeUInt8=function(b,e){this.buff.setUint8(b,
e)},e.prototype.writeUInt16LE=function(b,e){this.buff.setUint16(b,e,!0)},e.prototype.writeUInt16BE=function(b,e){this.buff.setUint16(b,e,!1)},e.prototype.writeUInt32LE=function(b,e){this.buff.setUint32(b,e,!0)},e.prototype.writeUInt32BE=function(b,e){this.buff.setUint32(b,e,!1)},e.prototype.writeFloatLE=function(b,e){this.buff.setFloat32(b,e,!0)},e.prototype.writeFloatBE=function(b,e){this.buff.setFloat32(b,e,!1)},e.prototype.writeDoubleLE=function(b,e){this.buff.setFloat64(b,e,!0)},e.prototype.writeDoubleBE=
function(b,e){this.buff.setFloat64(b,e,!1)},e.prototype.readInt8=function(b){return this.buff.getInt8(b)},e.prototype.readInt16LE=function(b){return this.buff.getInt16(b,!0)},e.prototype.readInt16BE=function(b){return this.buff.getInt16(b,!1)},e.prototype.readInt32LE=function(b){return this.buff.getInt32(b,!0)},e.prototype.readInt32BE=function(b){return this.buff.getInt32(b,!1)},e.prototype.readUInt8=function(b){return this.buff.getUint8(b)},e.prototype.readUInt16LE=function(b){return this.buff.getUint16(b,
!0)},e.prototype.readUInt16BE=function(b){return this.buff.getUint16(b,!1)},e.prototype.readUInt32LE=function(b){return this.buff.getUint32(b,!0)},e.prototype.readUInt32BE=function(b){return this.buff.getUint32(b,!1)},e.prototype.readFloatLE=function(b){return this.buff.getFloat32(b,!0)},e.prototype.readFloatBE=function(b){return this.buff.getFloat32(b,!1)},e.prototype.readDoubleLE=function(b){return this.buff.getFloat64(b,!0)},e.prototype.readDoubleBE=function(b){return this.buff.getFloat64(b,!1)},
e.prototype.copy=function(b,f){var a,d=this.buff.buffer;if(ArrayBuffer.prototype.slice)a=d.slice(b,f);else{a=new ArrayBuffer(f-b);var c=new Uint8Array(a),d=new Uint8Array(d);c.set(d.subarray(b,f))}return new e(a)},e.prototype.fill=function(b,e,a){b&=255;var d=a-e,c=4*(d/4|0),h=b<<24|b<<16|b<<8|b;for(a=0;c>a;a+=4)this.writeInt32LE(a+e,h);for(a=c;d>a;a++)this.writeUInt8(a+e,b)},e.prototype.getDataView=function(){return this.buff},e}(g("./buffer_core").BufferCoreCommon);l.BufferCoreArrayBuffer=g},{"./buffer_core":17}],
20:[function(g,q,l){var n=this.__extends||function(f,e){function b(){this.constructor=f}for(var g in e)e.hasOwnProperty(g)&&(f[g]=e[g]);b.prototype=e.prototype;f.prototype=new b};g=function(f){function e(b){f.call(this);this.length=b;this.buff=e.getCanvasPixelArray(b)}return n(e,f),e.getCanvasPixelArray=function(b){var f=e.imageDataFactory;return void 0===f&&(e.imageDataFactory=f=document.createElement("canvas").getContext("2d")),0===b&&(b=1),f.createImageData(Math.ceil(b/4),1).data},e.isAvailable=
function(){return"undefined"!=typeof CanvasPixelArray},e.prototype.getLength=function(){return this.length},e.prototype.writeUInt8=function(b,e){this.buff[b]=e},e.prototype.readUInt8=function(b){return this.buff[b]},e.prototype.copy=function(b,f){for(var a=new e(f-b),d=b;f>d;d++)a.writeUInt8(d-b,this.buff[d]);return a},e}(g("./buffer_core").BufferCoreCommon);l.BufferCoreImageData=g},{"./buffer_core":17}],21:[function(g,q,l){g=g("./api_error");var n=g.ApiError,f=g.ErrorCode;g=function(){function e(){}
return e.prototype.sync=function(b){b(new n(f.ENOTSUP))},e.prototype.syncSync=function(){throw new n(f.ENOTSUP);},e.prototype.datasync=function(b){this.sync(b)},e.prototype.datasyncSync=function(){return this.syncSync()},e.prototype.chown=function(b,e,a){a(new n(f.ENOTSUP))},e.prototype.chownSync=function(b,e){throw new n(f.ENOTSUP);},e.prototype.chmod=function(b,e){e(new n(f.ENOTSUP))},e.prototype.chmodSync=function(b){throw new n(f.ENOTSUP);},e.prototype.utimes=function(b,e,a){a(new n(f.ENOTSUP))},
e.prototype.utimesSync=function(b,e){throw new n(f.ENOTSUP);},e}();l.BaseFile=g},{"./api_error":14}],22:[function(g,q,l){var n=g("./api_error");!function(e){e[e.NOP=0]="NOP";e[e.THROW_EXCEPTION=1]="THROW_EXCEPTION";e[e.TRUNCATE_FILE=2]="TRUNCATE_FILE";e[e.CREATE_FILE=3]="CREATE_FILE"}(l.ActionType||(l.ActionType={}));var f=l.ActionType;g=function(){function e(b){if(this.flagStr=b,0>e.validFlagStrs.indexOf(b))throw new n.ApiError(n.ErrorCode.EINVAL,"Invalid flag: "+b);}return e.getFileFlag=function(b){return e.flagCache.hasOwnProperty(b)?
e.flagCache[b]:e.flagCache[b]=new e(b)},e.prototype.getFlagString=function(){return this.flagStr},e.prototype.isReadable=function(){return-1!==this.flagStr.indexOf("r")||-1!==this.flagStr.indexOf("+")},e.prototype.isWriteable=function(){return-1!==this.flagStr.indexOf("w")||-1!==this.flagStr.indexOf("a")||-1!==this.flagStr.indexOf("+")},e.prototype.isTruncating=function(){return-1!==this.flagStr.indexOf("w")},e.prototype.isAppendable=function(){return-1!==this.flagStr.indexOf("a")},e.prototype.isSynchronous=
function(){return-1!==this.flagStr.indexOf("s")},e.prototype.isExclusive=function(){return-1!==this.flagStr.indexOf("x")},e.prototype.pathExistsAction=function(){return this.isExclusive()?f.THROW_EXCEPTION:this.isTruncating()?f.TRUNCATE_FILE:f.NOP},e.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&"r+"!==this.flagStr?f.CREATE_FILE:f.THROW_EXCEPTION},e.flagCache={},e.validFlagStrs="r r+ rs rs+ w wx w+ wx+ a ax a+ ax+".split(" "),e}();l.FileFlag=g},{"./api_error":14}],
23:[function(g,q,l){var n=this.__extends||function(a,b){function d(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);d.prototype=b.prototype;a.prototype=new d};q=g("./api_error");var f=g("./file_flag"),e=g("./node_path");g=g("./buffer");var b=q.ApiError,p=q.ErrorCode,a=g.Buffer,d=f.ActionType;g=function(){function c(){}return c.prototype.supportsLinks=function(){return!1},c.prototype.diskSpace=function(a,c){c(0,0)},c.prototype.openFile=function(a,c,d){throw new b(p.ENOTSUP);},c.prototype.createFile=
function(a,c,d,e){throw new b(p.ENOTSUP);},c.prototype.open=function(a,c,f,g){var n=this;this.stat(a,!1,function(r,m){if(r)switch(c.pathNotExistsAction()){case d.CREATE_FILE:return n.stat(e.dirname(a),!1,function(d,m){d?g(d):m.isDirectory()?n.createFile(a,c,f,g):g(new b(p.ENOTDIR,e.dirname(a)+" is not a directory."))});case d.THROW_EXCEPTION:return g(new b(p.ENOENT,""+a+" doesn't exist."));default:return g(new b(p.EINVAL,"Invalid FileFlag object."))}else{if(m.isDirectory())return g(new b(p.EISDIR,
a+" is a directory."));switch(c.pathExistsAction()){case d.THROW_EXCEPTION:return g(new b(p.EEXIST,a+" already exists."));case d.TRUNCATE_FILE:return n.openFile(a,c,function(a,c){a?g(a):c.truncate(0,function(){c.sync(function(){g(null,c)})})});case d.NOP:return n.openFile(a,c,g);default:return g(new b(p.EINVAL,"Invalid FileFlag object."))}}})},c.prototype.rename=function(a,c,d){d(new b(p.ENOTSUP))},c.prototype.renameSync=function(a,c){throw new b(p.ENOTSUP);},c.prototype.stat=function(a,c,d){d(new b(p.ENOTSUP))},
c.prototype.statSync=function(a,c){throw new b(p.ENOTSUP);},c.prototype.openFileSync=function(a,c){throw new b(p.ENOTSUP);},c.prototype.createFileSync=function(a,c,d){throw new b(p.ENOTSUP);},c.prototype.openSync=function(a,c,f){var g;try{g=this.statSync(a,!1)}catch(n){switch(c.pathNotExistsAction()){case d.CREATE_FILE:if(!this.statSync(e.dirname(a),!1).isDirectory())throw new b(p.ENOTDIR,e.dirname(a)+" is not a directory.");return this.createFileSync(a,c,f);case d.THROW_EXCEPTION:throw new b(p.ENOENT,
""+a+" doesn't exist.");default:throw new b(p.EINVAL,"Invalid FileFlag object.");}}if(g.isDirectory())throw new b(p.EISDIR,a+" is a directory.");switch(c.pathExistsAction()){case d.THROW_EXCEPTION:throw new b(p.EEXIST,a+" already exists.");case d.TRUNCATE_FILE:return this.unlinkSync(a),this.createFileSync(a,c,g.mode);case d.NOP:return this.openFileSync(a,c);default:throw new b(p.EINVAL,"Invalid FileFlag object.");}},c.prototype.unlink=function(a,c){c(new b(p.ENOTSUP))},c.prototype.unlinkSync=function(a){throw new b(p.ENOTSUP);
},c.prototype.rmdir=function(a,c){c(new b(p.ENOTSUP))},c.prototype.rmdirSync=function(a){throw new b(p.ENOTSUP);},c.prototype.mkdir=function(a,c,d){d(new b(p.ENOTSUP))},c.prototype.mkdirSync=function(a,c){throw new b(p.ENOTSUP);},c.prototype.readdir=function(a,c){c(new b(p.ENOTSUP))},c.prototype.readdirSync=function(a){throw new b(p.ENOTSUP);},c.prototype.exists=function(a,c){this.stat(a,null,function(a){c(null==a)})},c.prototype.existsSync=function(a){try{return this.statSync(a,!0),!0}catch(c){return!1}},
c.prototype.realpath=function(a,c,d){if(this.supportsLinks()){c=a.split(e.sep);for(var f=0;f<c.length;f++){var g=c.slice(0,f+1);c[f]=e.join.apply(null,g)}}else this.exists(a,function(c){c?d(null,a):d(new b(p.ENOENT,"File "+a+" not found."))})},c.prototype.realpathSync=function(a,c){if(!this.supportsLinks()){if(this.existsSync(a))return a;throw new b(p.ENOENT,"File "+a+" not found.");}for(var d=a.split(e.sep),f=0;f<d.length;f++){var g=d.slice(0,f+1);d[f]=e.join.apply(null,g)}},c.prototype.truncate=
function(a,c,b){this.open(a,f.FileFlag.getFileFlag("r+"),420,function(a,d){return a?b(a):void d.truncate(c,function(a){d.close(function(c){b(a||c)})})})},c.prototype.truncateSync=function(a,c){var b=this.openSync(a,f.FileFlag.getFileFlag("r+"),420);try{b.truncateSync(c)}catch(d){throw d;}finally{b.closeSync()}},c.prototype.readFile=function(c,b,d,e){var f=e;this.open(c,d,420,function(c,d){return c?e(c):(e=function(a,c){d.close(function(b){return null==a&&(a=b),f(a,c)})},void d.stat(function(c,h){if(null!=
c)return e(c);var f=new a(h.size);d.read(f,0,h.size,0,function(a){if(null!=a)return e(a);if(null===b)return e(a,f);try{e(null,f.toString(b))}catch(c){e(c)}})}))})},c.prototype.readFileSync=function(c,b,d){c=this.openSync(c,d,420);try{var e=c.statSync(),f=new a(e.size);return c.readSync(f,0,e.size,0),c.closeSync(),null===b?f:f.toString(b)}finally{c.closeSync()}},c.prototype.writeFile=function(c,b,d,e,f,r){var m=r;this.open(c,e,420,function(c,e){if(null!=c)return r(c);r=function(a){e.close(function(c){m(null!=
a?a:c)})};try{"string"==typeof b&&(b=new a(b,d))}catch(h){return r(h)}e.write(b,0,b.length,0,r)})},c.prototype.writeFileSync=function(c,b,d,e,f){c=this.openSync(c,e,f);try{"string"==typeof b&&(b=new a(b,d)),c.writeSync(b,0,b.length,0)}finally{c.closeSync()}},c.prototype.appendFile=function(c,b,d,e,f,r){var m=r;this.open(c,e,f,function(c,e){return null!=c?r(c):(r=function(a){e.close(function(c){m(null!=a?a:c)})},"string"==typeof b&&(b=new a(b,d)),void e.write(b,0,b.length,null,r))})},c.prototype.appendFileSync=
function(c,b,d,e,f){c=this.openSync(c,e,f);try{"string"==typeof b&&(b=new a(b,d)),c.writeSync(b,0,b.length,null)}finally{c.closeSync()}},c.prototype.chmod=function(a,c,d,e){e(new b(p.ENOTSUP))},c.prototype.chmodSync=function(a,c,d){throw new b(p.ENOTSUP);},c.prototype.chown=function(a,c,d,e,f){f(new b(p.ENOTSUP))},c.prototype.chownSync=function(a,c,d,e){throw new b(p.ENOTSUP);},c.prototype.utimes=function(a,c,d,e){e(new b(p.ENOTSUP))},c.prototype.utimesSync=function(a,c,d){throw new b(p.ENOTSUP);
},c.prototype.link=function(a,c,d){d(new b(p.ENOTSUP))},c.prototype.linkSync=function(a,c){throw new b(p.ENOTSUP);},c.prototype.symlink=function(a,c,d,e){e(new b(p.ENOTSUP))},c.prototype.symlinkSync=function(a,c,d){throw new b(p.ENOTSUP);},c.prototype.readlink=function(a,c){c(new b(p.ENOTSUP))},c.prototype.readlinkSync=function(a){throw new b(p.ENOTSUP);},c}();l.BaseFileSystem=g;g=function(a){function b(){a.apply(this,arguments)}return n(b,a),b.prototype.supportsSynch=function(){return!0},b.prototype.rename=
function(a,c,b){try{this.renameSync(a,c),b()}catch(d){b(d)}},b.prototype.stat=function(a,c,b){try{b(null,this.statSync(a,c))}catch(d){b(d)}},b.prototype.open=function(a,c,b,d){try{d(null,this.openSync(a,c,b))}catch(e){d(e)}},b.prototype.unlink=function(a,c){try{this.unlinkSync(a),c()}catch(b){c(b)}},b.prototype.rmdir=function(a,c){try{this.rmdirSync(a),c()}catch(b){c(b)}},b.prototype.mkdir=function(a,c,b){try{this.mkdirSync(a,c),b()}catch(d){b(d)}},b.prototype.readdir=function(a,c){try{c(null,this.readdirSync(a))}catch(b){c(b)}},
b.prototype.chmod=function(a,c,b,d){try{this.chmodSync(a,c,b),d()}catch(e){d(e)}},b.prototype.chown=function(a,c,b,d,e){try{this.chownSync(a,c,b,d),e()}catch(m){e(m)}},b.prototype.utimes=function(a,c,b,d){try{this.utimesSync(a,c,b),d()}catch(e){d(e)}},b.prototype.link=function(a,c,b){try{this.linkSync(a,c),b()}catch(d){b(d)}},b.prototype.symlink=function(a,c,b,d){try{this.symlinkSync(a,c,b),d()}catch(e){d(e)}},b.prototype.readlink=function(a,c){try{c(null,this.readlinkSync(a))}catch(b){c(b)}},b}(g);
l.SynchronousFileSystem=g},{"./api_error":14,"./buffer":16,"./file_flag":22,"./node_path":28}],24:[function(g,q,l){q.exports="undefined"!=typeof window?window:"undefined"!=typeof self?self:global},{}],25:[function(g,q,l){var n=this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);c.prototype=b.prototype;a.prototype=new c};q=g("./buffer");g=g("./api_error");var f=q.Buffer,e=g.ApiError,b=g.ErrorCode,p=function(){function a(a,c,b){this.data=a;this.encoding=
c;this.cb=b;this.size="string"!=typeof a?a.length:f.byteLength(a,null!=c?c:void 0);"string"!=typeof this.data&&(this.data=this.data.sliceCopy())}return a.prototype.getData=function(a){return null==a?"string"==typeof this.data?new f(this.data,null!=this.encoding?this.encoding:void 0):this.data:"string"==typeof this.data?a===this.encoding?this.data:(new f(this.data,null!=this.encoding?this.encoding:void 0)).toString(a):this.data.toString(a)},a}();g=function(){function a(){this._listeners={};this.maxListeners=
10}return a.prototype.addListener=function(a,c){return"undefined"==typeof this._listeners[a]&&(this._listeners[a]=[]),this._listeners[a].push(c)>this.maxListeners&&process.stdout.write("Warning: Event "+a+" has more than "+this.maxListeners+" listeners.\n"),this.emit("newListener",a,c),this},a.prototype.on=function(a,c){return this.addListener(a,c)},a.prototype.once=function(a,c){var b=!1,e=function(){this.removeListener(a,e);b||(b=!0,c.apply(this,arguments))};return this.addListener(a,e)},a.prototype._emitRemoveListener=
function(a,c){var b;if(this._listeners.removeListener&&0<this._listeners.removeListener.length)for(b=0;b<c.length;b++)this.emit("removeListener",a,c[b])},a.prototype.removeListener=function(a,c){var b=this._listeners[a];if("undefined"!=typeof b){var e=b.indexOf(c);-1<e&&b.splice(e,1)}return this.emit("removeListener",a,c),this},a.prototype.removeAllListeners=function(a){var c;if("undefined"!=typeof a)c=this._listeners[a],this._listeners[a]=[],this._emitRemoveListener(a,c);else for(a=Object.keys(this._listeners),
c=0;c<a.length;c++)this.removeAllListeners(a[c]);return this},a.prototype.setMaxListeners=function(a){this.maxListeners=a},a.prototype.listeners=function(a){return"undefined"==typeof this._listeners[a]&&(this._listeners[a]=[]),this._listeners[a].slice(0)},a.prototype.emit=function(a){for(var c=[],b=1;b<arguments.length;b++)c[b-1]=arguments[b];var b=this._listeners[a],e=!1;if("undefined"!=typeof b){var f;for(f=0;f<b.length;f++)e=!0,b[f].apply(this,c)}return e},a}();l.AbstractEventEmitter=g;g=function(a){function d(c,
b){a.call(this);this.writable=c;this.readable=b;this.encoding=null;this.flowing=!1;this.buffer=[];this.endEvent=null;this.ended=!1;this.drained=!0}return n(d,a),d.prototype.addListener=function(c,b){var d=a.prototype.addListener.call(this,c,b),e=this;return"data"!==c||this.flowing?"readable"===c&&0<this.buffer.length&&setTimeout(function(){e.emit("readable")},0):this.resume(),d},d.prototype._processArgs=function(a,b,d){return"string"==typeof b?new p(a,b,d):new p(a,null,b)},d.prototype._processEvents=
function(){this.drained!==(0===this.buffer.length)&&this.drained&&this.emit("readable");this.flowing&&0!==this.buffer.length&&this.emit("data",this.read());this.drained=0===this.buffer.length},d.prototype.emitEvent=function(a,b){this.emit(a,b.getData(this.encoding));b.cb&&b.cb()},d.prototype.write=function(a,d,k){if(this.ended)throw new e(b.EPERM,"Cannot write to an ended stream.");a=this._processArgs(a,d,k);return this._push(a),this.flowing},d.prototype.end=function(a,d,k){if(this.ended)throw new e(b.EPERM,
"Stream is already closed.");a=this._processArgs(a,d,k);this.ended=!0;this.endEvent=a;this._processEvents()},d.prototype.read=function(a){var b,d,e,g=[],n=[],r=0;e=0;var m="number"!=typeof a;m&&(a=4294967295);for(e=0;e<this.buffer.length&&a>r;e++)b=this.buffer[e],g.push(b.getData()),b.cb&&n.push(b.cb),r+=b.size,b=b.cb;if(!m&&a>r)return null;if(this.buffer=this.buffer.slice(g.length),e=r>a?a:r,d=f.concat(g),r>a&&(b&&n.pop(),this._push(new p(d.slice(a),null,b))),0<n.length&&setTimeout(function(){var a;
for(a=0;a<n.length;a++)n[a]()},0),this.ended&&0===this.buffer.length&&null!==this.endEvent){var C=this.endEvent,A=this;this.endEvent=null;setTimeout(function(){A.emitEvent("end",C)},0)}return 0===g.length?(this.emit("_read"),null):null===this.encoding?d.slice(0,e):d.toString(this.encoding,0,e)},d.prototype.setEncoding=function(a){this.encoding=a},d.prototype.pause=function(){this.flowing=!1},d.prototype.resume=function(){this.flowing=!0;this._processEvents()},d.prototype.pipe=function(a,d){throw new e(b.EPERM,
"Unimplemented.");},d.prototype.unpipe=function(a){},d.prototype.unshift=function(a){if(this.ended)throw new e(b.EPERM,"Stream has ended.");this.buffer.unshift(new p(a,this.encoding));this._processEvents()},d.prototype._push=function(a){this.buffer.push(a);this._processEvents()},d.prototype.wrap=function(a){throw new e(b.EPERM,"Unimplemented.");},d}(g);l.AbstractDuplexStream=g},{"./api_error":14,"./buffer":16}],26:[function(g,q,l){function n(a,c){if("function"!=typeof a)throw new k(y.EINVAL,"Callback must be a function.");
switch("undefined"==typeof __numWaiting&&(__numWaiting=0),__numWaiting++,c){case 1:return function(c){setImmediate(function(){return __numWaiting--,a(c)})};case 2:return function(c,b){setImmediate(function(){return __numWaiting--,a(c,b)})};case 3:return function(c,b,d){setImmediate(function(){return __numWaiting--,a(c,b,d)})};default:throw Error("Invalid invocation of wrapCb.");}}function f(a){if("function"!=typeof a.write)throw new k(y.EBADF,"Invalid file descriptor.");}function e(a,c){switch(typeof a){case "number":return a;
case "string":var b=parseInt(a,8);if(NaN!==b)return b;default:return c}}function b(a){if(0<=a.indexOf("\x00"))throw new k(y.EINVAL,"Path must be a string without null bytes.");if(""===a)throw new k(y.EINVAL,"Path must not be empty.");return h.resolve(a)}function p(a,c,b,d){switch(typeof a){case "object":return{encoding:"undefined"!=typeof a.encoding?a.encoding:c,flag:"undefined"!=typeof a.flag?a.flag:b,mode:e(a.mode,d)};case "string":return{encoding:a,flag:b,mode:d};default:return{encoding:c,flag:b,
mode:d}}}function a(){}l=g("./api_error");var d=g("./file_flag"),c=g("./buffer"),h=g("./node_path"),k=l.ApiError,y=l.ErrorCode,G=d.FileFlag,F=c.Buffer;g=function(){function c(){}return c._initialize=function(a){if(!a.constructor.isAvailable())throw new k(y.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return c.root=a},c._toUnixTimestamp=function(a){if("number"==typeof a)return a;if(a instanceof Date)return a.getTime()/1E3;throw Error("Cannot parse time: "+a);},c.getRootFS=
function(){return c.root?c.root:null},c.rename=function(d,e,k){void 0===k&&(k=a);k=n(k,1);try{c.root.rename(b(d),b(e),k)}catch(h){k(h)}},c.renameSync=function(a,d){c.root.renameSync(b(a),b(d))},c.exists=function(d,e){void 0===e&&(e=a);var k=n(e,1);try{return c.root.exists(b(d),k)}catch(h){return k(!1)}},c.existsSync=function(a){try{return c.root.existsSync(b(a))}catch(d){return!1}},c.stat=function(d,e){void 0===e&&(e=a);var k=n(e,2);try{return c.root.stat(b(d),!1,k)}catch(h){return k(h,null)}},c.statSync=
function(a){return c.root.statSync(b(a),!1)},c.lstat=function(d,e){void 0===e&&(e=a);var k=n(e,2);try{return c.root.stat(b(d),!0,k)}catch(h){return k(h,null)}},c.lstatSync=function(a){return c.root.statSync(b(a),!0)},c.truncate=function(d,e,h){void 0===e&&(e=0);void 0===h&&(h=a);var f=0;"function"==typeof e?h=e:"number"==typeof e&&(f=e);e=n(h,1);try{if(0>f)throw new k(y.EINVAL);return c.root.truncate(b(d),f,e)}catch(g){return e(g)}},c.truncateSync=function(a,d){if(void 0===d&&(d=0),0>d)throw new k(y.EINVAL);
return c.root.truncateSync(b(a),d)},c.unlink=function(d,e){void 0===e&&(e=a);var k=n(e,1);try{return c.root.unlink(b(d),k)}catch(h){return k(h)}},c.unlinkSync=function(a){return c.root.unlinkSync(b(a))},c.open=function(d,k,h,f){void 0===f&&(f=a);var g=e(h,420);h=n("function"==typeof h?h:f,2);try{return c.root.open(b(d),G.getFileFlag(k),g,h)}catch(y){return h(y,null)}},c.openSync=function(a,d,e){return void 0===e&&(e=420),c.root.openSync(b(a),G.getFileFlag(d),e)},c.readFile=function(d,e,h){void 0===
e&&(e={});void 0===h&&(h=a);var f=p(e,null,"r",null);e=n("function"==typeof e?e:h,2);try{var g=G.getFileFlag(f.flag);return g.isReadable()?c.root.readFile(b(d),f.encoding,g,e):e(new k(y.EINVAL,"Flag passed to readFile must allow for reading."))}catch(l){return e(l,null)}},c.readFileSync=function(a,d){void 0===d&&(d={});var e=p(d,null,"r",null),h=G.getFileFlag(e.flag);if(!h.isReadable())throw new k(y.EINVAL,"Flag passed to readFile must allow for reading.");return c.root.readFileSync(b(a),e.encoding,
h)},c.writeFile=function(d,e,h,f){void 0===h&&(h={});void 0===f&&(f=a);var g=p(h,"utf8","w",420);h=n("function"==typeof h?h:f,1);try{var l=G.getFileFlag(g.flag);return l.isWriteable()?c.root.writeFile(b(d),e,g.encoding,l,g.mode,h):h(new k(y.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(t){return h(t)}},c.writeFileSync=function(a,d,e){e=p(e,"utf8","w",420);var h=G.getFileFlag(e.flag);if(!h.isWriteable())throw new k(y.EINVAL,"Flag passed to writeFile must allow for writing.");return c.root.writeFileSync(b(a),
d,e.encoding,h,e.mode)},c.appendFile=function(d,e,h,f){void 0===f&&(f=a);var g=p(h,"utf8","a",420);h=n("function"==typeof h?h:f,1);try{var l=G.getFileFlag(g.flag);if(!l.isAppendable())return h(new k(y.EINVAL,"Flag passed to appendFile must allow for appending."));c.root.appendFile(b(d),e,g.encoding,l,g.mode,h)}catch(t){h(t)}},c.appendFileSync=function(a,d,e){e=p(e,"utf8","a",420);var h=G.getFileFlag(e.flag);if(!h.isAppendable())throw new k(y.EINVAL,"Flag passed to appendFile must allow for appending.");
return c.root.appendFileSync(b(a),d,e.encoding,h,e.mode)},c.fstat=function(c,b){void 0===b&&(b=a);var d=n(b,2);try{f(c),c.stat(d)}catch(e){d(e)}},c.fstatSync=function(a){return f(a),a.statSync()},c.close=function(c,b){void 0===b&&(b=a);var d=n(b,1);try{f(c),c.close(d)}catch(e){d(e)}},c.closeSync=function(a){return f(a),a.closeSync()},c.ftruncate=function(c,b,d){void 0===d&&(d=a);var e="number"==typeof b?b:0;b=n("function"==typeof b?b:d,1);try{if(f(c),0>e)throw new k(y.EINVAL);c.truncate(e,b)}catch(h){b(h)}},
c.ftruncateSync=function(a,c){return void 0===c&&(c=0),f(a),a.truncateSync(c)},c.fsync=function(c,b){void 0===b&&(b=a);var d=n(b,1);try{f(c),c.sync(d)}catch(e){d(e)}},c.fsyncSync=function(a){return f(a),a.syncSync()},c.fdatasync=function(c,b){void 0===b&&(b=a);var d=n(b,1);try{f(c),c.datasync(d)}catch(e){d(e)}},c.fdatasyncSync=function(a){f(a);a.datasyncSync()},c.write=function(c,b,d,e,h,g){void 0===g&&(g=a);var r=null;if("string"==typeof b){var z="utf8";switch(typeof d){case "function":g=d;break;
case "number":r=d;z="string"==typeof e?e:"utf8";g="function"==typeof h?h:g;break;default:return("function"==typeof e?e:"function"==typeof h?h:g)(new k(y.EINVAL,"Invalid arguments."))}b=new F(b,z);d=0;e=b.length}else r="number"==typeof h?h:null,g="function"==typeof h?h:g;h=n(g,3);try{f(c),null==r&&(r=c.getPos()),c.write(b,d,e,r,h)}catch(p){h(p)}},c.writeSync=function(a,c,b,d,e){var h=0;"string"==typeof c?(e="number"==typeof b?b:null,h=0,c=new F(c,"string"==typeof d?d:"utf8"),d=c.length):(h=b,e="number"==
typeof e?e:null);return f(a),null==e&&(e=a.getPos()),a.writeSync(c,h,d,e)},c.read=function(c,b,d,e,h,k){void 0===k&&(k=a);var g,r;"number"==typeof b?(k="function"==typeof h?h:k,g=0,r=new F(b),h=n(function(a,c,b){return a?k(a):void k(a,b.toString(e),c)},3)):(r=b,g=d,b=e,d=h,h=n(k,3));try{f(c),null==d&&(d=c.getPos()),c.read(r,g,b,d,h)}catch(y){h(y)}},c.readSync=function(a,c,b,d,e){var h,k=!1;if("number"==typeof c){h=c;e=b;var g=d;b=0;c=new F(h);k=!0}else h=d;f(a);null==e&&(e=a.getPos());a=a.readSync(c,
b,h,e);return k?[c.toString(g),a]:a},c.fchown=function(c,b,d,e){void 0===e&&(e=a);e=n(e,1);try{f(c),c.chown(b,d,e)}catch(h){e(h)}},c.fchownSync=function(a,c,b){return f(a),a.chownSync(c,b)},c.fchmod=function(c,b,d){void 0===d&&(d=a);d=n(d,1);try{b="string"==typeof b?parseInt(b,8):b,f(c),c.chmod(b,d)}catch(e){d(e)}},c.fchmodSync=function(a,c){return c="string"==typeof c?parseInt(c,8):c,f(a),a.chmodSync(c)},c.futimes=function(c,b,d,e){void 0===e&&(e=a);e=n(e,1);try{f(c),"number"==typeof b&&(b=new Date(1E3*
b)),"number"==typeof d&&(d=new Date(1E3*d)),c.utimes(b,d,e)}catch(h){e(h)}},c.futimesSync=function(a,c,b){return f(a),"number"==typeof c&&(c=new Date(1E3*c)),"number"==typeof b&&(b=new Date(1E3*b)),a.utimesSync(c,b)},c.rmdir=function(d,e){void 0===e&&(e=a);var h=n(e,1);try{d=b(d),c.root.rmdir(d,h)}catch(k){h(k)}},c.rmdirSync=function(a){return a=b(a),c.root.rmdirSync(a)},c.mkdir=function(d,e,h){void 0===h&&(h=a);"function"==typeof e&&(h=e,e=511);h=n(h,1);try{d=b(d),c.root.mkdir(d,e,h)}catch(k){h(k)}},
c.mkdirSync=function(a,d){return void 0===d&&(d=511),d="string"==typeof d?parseInt(d,8):d,a=b(a),c.root.mkdirSync(a,d)},c.readdir=function(d,e){void 0===e&&(e=a);var h=n(e,2);try{d=b(d),c.root.readdir(d,h)}catch(k){h(k)}},c.readdirSync=function(a){return a=b(a),c.root.readdirSync(a)},c.link=function(d,e,h){void 0===h&&(h=a);h=n(h,1);try{d=b(d),e=b(e),c.root.link(d,e,h)}catch(k){h(k)}},c.linkSync=function(a,d){return a=b(a),d=b(d),c.root.linkSync(a,d)},c.symlink=function(d,e,h,f){void 0===f&&(f=a);
var g="string"==typeof h?h:"file";h=n("function"==typeof h?h:f,1);try{if("file"!==g&&"dir"!==g)return h(new k(y.EINVAL,"Invalid type: "+g));d=b(d);e=b(e);c.root.symlink(d,e,g,h)}catch(p){h(p)}},c.symlinkSync=function(a,d,e){if(null==e)e="file";else if("file"!==e&&"dir"!==e)throw new k(y.EINVAL,"Invalid type: "+e);return a=b(a),d=b(d),c.root.symlinkSync(a,d,e)},c.readlink=function(d,e){void 0===e&&(e=a);var h=n(e,2);try{d=b(d),c.root.readlink(d,h)}catch(k){h(k)}},c.readlinkSync=function(a){return a=
b(a),c.root.readlinkSync(a)},c.chown=function(d,e,h,k){void 0===k&&(k=a);k=n(k,1);try{d=b(d),c.root.chown(d,!1,e,h,k)}catch(f){k(f)}},c.chownSync=function(a,d,e){a=b(a);c.root.chownSync(a,!1,d,e)},c.lchown=function(d,e,h,k){void 0===k&&(k=a);k=n(k,1);try{d=b(d),c.root.chown(d,!0,e,h,k)}catch(f){k(f)}},c.lchownSync=function(a,d,e){return a=b(a),c.root.chownSync(a,!0,d,e)},c.chmod=function(d,e,h){void 0===h&&(h=a);h=n(h,1);try{e="string"==typeof e?parseInt(e,8):e,d=b(d),c.root.chmod(d,!1,e,h)}catch(k){h(k)}},
c.chmodSync=function(a,d){return d="string"==typeof d?parseInt(d,8):d,a=b(a),c.root.chmodSync(a,!1,d)},c.lchmod=function(d,e,h){void 0===h&&(h=a);h=n(h,1);try{e="string"==typeof e?parseInt(e,8):e,d=b(d),c.root.chmod(d,!0,e,h)}catch(k){h(k)}},c.lchmodSync=function(a,d){return a=b(a),d="string"==typeof d?parseInt(d,8):d,c.root.chmodSync(a,!0,d)},c.utimes=function(d,e,h,k){void 0===k&&(k=a);k=n(k,1);try{d=b(d),"number"==typeof e&&(e=new Date(1E3*e)),"number"==typeof h&&(h=new Date(1E3*h)),c.root.utimes(d,
e,h,k)}catch(f){k(f)}},c.utimesSync=function(a,d,e){return a=b(a),"number"==typeof d&&(d=new Date(1E3*d)),"number"==typeof e&&(e=new Date(1E3*e)),c.root.utimesSync(a,d,e)},c.realpath=function(d,e,h){var k="object"==typeof e?e:{};h="function"==typeof e?e:a;e=n(h,2);try{d=b(d),c.root.realpath(d,k,e)}catch(f){e(f)}},c.realpathSync=function(a,d){return void 0===d&&(d={}),a=b(a),c.root.realpathSync(a,d)},c.root=null,c}();q.exports=g},{"./api_error":14,"./buffer":16,"./file_flag":22,"./node_path":28}],
27:[function(g,q,l){var n=g("./buffer").Buffer;!function(e){e[e.FILE=32768]="FILE";e[e.DIRECTORY=16384]="DIRECTORY";e[e.SYMLINK=40960]="SYMLINK"}(l.FileType||(l.FileType={}));var f=l.FileType;g=function(){function e(b,e,a,d,c,h){if(void 0===d&&(d=new Date),void 0===c&&(c=new Date),void 0===h&&(h=new Date),this.size=e,this.mode=a,this.atime=d,this.mtime=c,this.ctime=h,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,null==this.mode)switch(b){case f.FILE:this.mode=
420;break;default:this.mode=511}this.blocks=Math.ceil(e/512);4096>this.mode&&(this.mode|=b)}return e.prototype.toBuffer=function(){var b=new n(32);return b.writeUInt32LE(this.size,0),b.writeUInt32LE(this.mode,4),b.writeDoubleLE(this.atime.getTime(),8),b.writeDoubleLE(this.mtime.getTime(),16),b.writeDoubleLE(this.ctime.getTime(),24),b},e.fromBuffer=function(b){var f=b.readUInt32LE(0),a=b.readUInt32LE(4),d=b.readDoubleLE(8),c=b.readDoubleLE(16);b=b.readDoubleLE(24);return new e(61440&a,f,4095&a,new Date(d),
new Date(c),new Date(b))},e.prototype.clone=function(){return new e(61440&this.mode,this.size,4095&this.mode,this.atime,this.mtime,this.ctime)},e.prototype.isFile=function(){return(61440&this.mode)===f.FILE},e.prototype.isDirectory=function(){return(61440&this.mode)===f.DIRECTORY},e.prototype.isSymbolicLink=function(){return(61440&this.mode)===f.SYMLINK},e.prototype.chmod=function(b){this.mode=61440&this.mode|b},e.prototype.isSocket=function(){return!1},e.prototype.isBlockDevice=function(){return!1},
e.prototype.isCharacterDevice=function(){return!1},e.prototype.isFIFO=function(){return!1},e}();l.Stats=g},{"./buffer":16}],28:[function(g,q,l){var n=g("./node_process").process;g=function(){function f(){}return f.normalize=function(e){""===e&&(e=".");var b=e.charAt(0)===f.sep;e=f._removeDuplicateSeps(e);for(var g=e.split(f.sep),a=[],d=0;d<g.length;d++){var c=g[d];"."!==c&&(".."===c&&(b||!b&&0<a.length&&".."!==a[0])?a.pop():a.push(c))}if(!b&&2>a.length)switch(a.length){case 1:""===a[0]&&a.unshift(".");
break;default:a.push(".")}return e=a.join(f.sep),b&&e.charAt(0)!==f.sep&&(e=f.sep+e),e},f.join=function(){for(var e=[],b=0;b<arguments.length;b++)e[b-0]=arguments[b];for(var b=[],g=0;g<e.length;g++){var a=e[g];if("string"!=typeof a)throw new TypeError("Invalid argument type to path.join: "+typeof a);""!==a&&b.push(a)}return f.normalize(b.join(f.sep))},f.resolve=function(){for(var e=[],b=0;b<arguments.length;b++)e[b-0]=arguments[b];for(var b=[],g=0;g<e.length;g++){var a=e[g];if("string"!=typeof a)throw new TypeError("Invalid argument type to path.join: "+
typeof a);""!==a&&(a.charAt(0)===f.sep&&(b=[]),b.push(a))}e=f.normalize(b.join(f.sep));if(1<e.length&&e.charAt(e.length-1)===f.sep)return e.substr(0,e.length-1);e.charAt(0)!==f.sep&&("."!==e.charAt(0)||1!==e.length&&e.charAt(1)!==f.sep||(e=1===e.length?"":e.substr(2)),b=n.cwd(),e=""!==e?this.normalize(b+("/"!==b?f.sep:"")+e):b);return e},f.relative=function(e,b){var g;e=f.resolve(e);b=f.resolve(b);var a=e.split(f.sep),d=b.split(f.sep);d.shift();a.shift();var c=0,h=[];for(g=0;g<a.length;g++)if(a[g]!==
d[g]){c=a.length-g;break}h=d.slice(g);1===a.length&&""===a[0]&&(c=0);c>a.length&&(c=a.length);a="";for(g=0;c>g;g++)a+="../";return a+=h.join(f.sep),1<a.length&&a.charAt(a.length-1)===f.sep&&(a=a.substr(0,a.length-1)),a},f.dirname=function(e){e=f._removeDuplicateSeps(e);var b=e.charAt(0)===f.sep;e=e.split(f.sep);return""===e.pop()&&0<e.length&&e.pop(),1<e.length||1===e.length&&!b?e.join(f.sep):b?f.sep:"."},f.basename=function(e,b){if(void 0===b&&(b=""),""===e)return e;e=f.normalize(e);var g=e.split(f.sep),
a=g[g.length-1];return""===a&&1<g.length?g[g.length-2]:0<b.length&&a.substr(a.length-b.length)===b?a.substr(0,a.length-b.length):a},f.extname=function(e){e=f.normalize(e);var b=e.split(f.sep);if(e=b.pop(),""===e&&0<b.length&&(e=b.pop()),".."===e)return"";b=e.lastIndexOf(".");return-1===b||0===b?"":e.substr(b)},f.isAbsolute=function(e){return 0<e.length&&e.charAt(0)===f.sep},f._makeLong=function(e){return e},f._removeDuplicateSeps=function(e){return e.replace(this._replaceRegex,this.sep)},f.sep="/",
f._replaceRegex=RegExp("//+","g"),f.delimiter=":",f}();q.exports=g},{"./node_process":29}],29:[function(g,q,l){var n=this.__extends||function(b,e){function a(){this.constructor=b}for(var d in e)e.hasOwnProperty(d)&&(b[d]=e[d]);a.prototype=e.prototype;b.prototype=new a},f=null,e=function(b){function e(){b.call(this,!0,!0);this.isRaw=!1;this.columns=80;this.rows=120;this.isTTY=!0}return n(e,b),e.prototype.setReadMode=function(a){this.isRaw!==a&&(this.isRaw=a,this.emit("modeChange"))},e.prototype.changeColumns=
function(a){a!==this.columns&&(this.columns=a,this.emit("resize"))},e.prototype.changeRows=function(a){a!==this.rows&&(this.rows=a,this.emit("resize"))},e.isatty=function(a){return a instanceof e},e}(g("./node_eventemitter").AbstractDuplexStream);l.TTY=e;q=function(){function b(){this.startTime=Date.now();this._cwd="/";this.platform="browser";this.argv=[];this.stdout=new e;this.stderr=new e;this.stdin=new e}return b.prototype.chdir=function(b){null===f&&(f=g("./node_path"));this._cwd=f.resolve(b)},
b.prototype.cwd=function(){return this._cwd},b.prototype.uptime=function(){return(Date.now()-this.startTime)/1E3|0},b}();l.Process=q;l.process=new q},{"./node_eventemitter":25,"./node_path":28}],30:[function(g,q,l){l.FindUtil=function(k){var g;a:switch(typeof k){case "object":g=""+k;break a;case "string":g=k;break a;default:throw Error("Invalid encoding argument specified");}switch(k=g,k=k.toLowerCase()){case "utf8":case "utf-8":return n;case "ascii":return f;case "binary":return b;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return a;
case "hex":return d;case "base64":return p;case "binary_string":return c;case "binary_string_ie":return h;case "extended_ascii":return e;default:throw Error("Unknown encoding: "+k);}};var n=function(){function a(){}return a.str2byte=function(a,c){for(var b=0,d=0,e=c.length,h=0;b<a.length&&e>d;){var k=a.charCodeAt(b++),f=a.charCodeAt(b);if(55296<=k&&56319>=k&&56320<=f&&57343>=f){if(d+3>=e)break;h++;k=(1023&k|1024)<<10|1023&f;c.writeUInt8(k>>18|240,d++);c.writeUInt8(k>>12&63|128,d++);c.writeUInt8(k>>
6&63|128,d++);c.writeUInt8(63&k|128,d++);b++}else if(128>k)c.writeUInt8(k,d++),h++;else if(2048>k){if(d+1>=e)break;h++;c.writeUInt8(k>>6|192,d++);c.writeUInt8(63&k|128,d++)}else if(65536>k){if(d+2>=e)break;h++;c.writeUInt8(k>>12|224,d++);c.writeUInt8(k>>6&63|128,d++);c.writeUInt8(63&k|128,d++)}}return d},a.byte2str=function(a){for(var c=[],b=0;b<a.length;){var d=a.readUInt8(b++);if(128>d)c.push(String.fromCharCode(d));else{if(192>d)throw Error("Found incomplete part of character in string.");if(224>
d)c.push(String.fromCharCode((31&d)<<6|63&a.readUInt8(b++)));else if(240>d)c.push(String.fromCharCode((15&d)<<12|(63&a.readUInt8(b++))<<6|63&a.readUInt8(b++)));else{if(!(248>d))throw Error("Unable to represent UTF-8 string as UTF-16 JavaScript string.");var e=a.readUInt8(b+2);c.push(String.fromCharCode(1023&((7&d)<<8|(63&a.readUInt8(b++))<<2|(63&a.readUInt8(b++))>>4)|55296));c.push(String.fromCharCode((15&e)<<6|63&a.readUInt8(b++)|56320))}}}return c.join("")},a.byteLength=function(a){var c=encodeURIComponent(a).match(/%[89ABab]/g);
return a.length+(c?c.length:0)},a}();l.UTF8=n;var f=function(){function a(){}return a.str2byte=function(a,c){for(var b=a.length>c.length?c.length:a.length,d=0;b>d;d++)c.writeUInt8(a.charCodeAt(d)%256,d);return b},a.byte2str=function(a){for(var c=Array(a.length),b=0;b<a.length;b++)c[b]=String.fromCharCode(127&a.readUInt8(b));return c.join("")},a.byteLength=function(a){return a.length},a}();l.ASCII=f;var e=function(){function a(){}return a.str2byte=function(c,b){for(var d=c.length>b.length?b.length:
c.length,e=0;d>e;e++){var h=c.charCodeAt(e);if(127<h){var f=a.extendedChars.indexOf(c.charAt(e));-1<f&&(h=f+128)}b.writeUInt8(h,e)}return d},a.byte2str=function(c){for(var b=Array(c.length),d=0;d<c.length;d++){var e=c.readUInt8(d);127<e?b[d]=a.extendedChars[e-128]:b[d]=String.fromCharCode(e)}return b.join("")},a.byteLength=function(a){return a.length},a.extendedChars="\u00c7\u00fc\u00e9\u00e2\u00e4\u00e0\u00e5\u00e7\u00ea\u00eb\u00e8\u00ef\u00ee\u00ec\u00c4\u00c5\u00c9\u00e6\u00c6\u00f4\u00f6\u00f2\u00fb\u00f9\u00ff\u00d6\u00dc\u00f8\u00a3\u00d8\u00d7\u0192\u00e1\u00ed\u00f3\u00fa\u00f1\u00d1\u00aa\u00ba\u00bf\u00ae\u00ac\u00bd\u00bc\u00a1\u00ab\u00bb___\u00a6\u00a6\u00c1\u00c2\u00c0\u00a9\u00a6\u00a6++\u00a2\u00a5++--+-+\u00e3\u00c3++--\u00a6-+\u00a4\u00f0\u00d0\u00ca\u00cb\u00c8i\u00cd\u00ce\u00cf++__\u00a6\u00cc_\u00d3\u00df\u00d4\u00d2\u00f5\u00d5\u00b5\u00fe\u00de\u00da\u00db\u00d9\u00fd\u00dd\u00af\u00b4\u00ad\u00b1_\u00be\u00b6\u00a7\u00f7\u00b8\u00b0\u00a8\u00b7\u00b9\u00b3\u00b2_ ".split(""),
a}();l.ExtendedASCII=e;var b=function(){function a(){}return a.str2byte=function(a,c){for(var b=a.length>c.length?c.length:a.length,d=0;b>d;d++)c.writeUInt8(255&a.charCodeAt(d),d);return b},a.byte2str=function(a){for(var c=Array(a.length),b=0;b<a.length;b++)c[b]=String.fromCharCode(255&a.readUInt8(b));return c.join("")},a.byteLength=function(a){return a.length},a}();l.BINARY=b;var p=function(){function a(){}return a.byte2str=function(c){for(var b="",d=0;d<c.length;){var e=c.readUInt8(d++),h=d<c.length?
c.readUInt8(d++):NaN,f=d<c.length?c.readUInt8(d++):NaN,g=e>>2,e=(3&e)<<4|h>>4,n=(15&h)<<2|f>>6,l=63&f;isNaN(h)?n=l=64:isNaN(f)&&(l=64);b=b+a.num2b64[g]+a.num2b64[e]+a.num2b64[n]+a.num2b64[l]}return b},a.str2byte=function(c,b){var d=b.length,e="",h=0;c=c.replace(/[^A-Za-z0-9\+\/\=\-\_]/g,"");for(var f=0;h<c.length;){var g=a.b642num[c.charAt(h++)],n=a.b642num[c.charAt(h++)],l=a.b642num[c.charAt(h++)],p=a.b642num[c.charAt(h++)],t=(15&n)<<4|l>>2,z=(3&l)<<6|p;if(b.writeUInt8(g<<2|n>>4,f++),f===d)break;
if(64!==l&&(e+=b.writeUInt8(t,f++)),f===d)break;if(64!==p&&(e+=b.writeUInt8(z,f++)),f===d)break}return f},a.byteLength=function(a){return Math.floor(6*a.replace(/[^A-Za-z0-9\+\/\-\_]/g,"").length/8)},a.b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),a.num2b64=function(){for(var c=Array(a.b64chars.length),b=0;b<a.b64chars.length;b++)c[b]=a.b64chars[b];return c}(),a.b642num=function(){for(var c={},b=0;b<a.b64chars.length;b++)c[a.b64chars[b]]=b;return c["-"]=62,
c._=63,c}(),a}();l.BASE64=p;var a=function(){function a(){}return a.str2byte=function(a,c){var b=a.length;2*b>c.length&&(b=1===c.length%2?(c.length-1)/2:c.length/2);for(var d=0;b>d;d++)c.writeUInt16LE(a.charCodeAt(d),2*d);return 2*b},a.byte2str=function(a){if(0!==a.length%2)throw Error("Invalid UCS2 byte array.");for(var c=Array(a.length/2),b=0;b<a.length;b+=2)c[b/2]=String.fromCharCode(a.readUInt8(b)|a.readUInt8(b+1)<<8);return c.join("")},a.byteLength=function(a){return 2*a.length},a}();l.UCS2=
a;var d=function(){function a(){}return a.str2byte=function(a,c){if(1===a.length%2)throw Error("Invalid hex string");var b=a.length>>1;b>c.length&&(b=c.length);for(var d=0;b>d;d++){var e=this.hex2num[a.charAt(d<<1)],h=this.hex2num[a.charAt((d<<1)+1)];c.writeUInt8(e<<4|h,d)}return b},a.byte2str=function(a){for(var c=a.length,b=Array(c<<1),d=0,e=0;c>e;e++){var h=15&a.readUInt8(e),k=a.readUInt8(e)>>4;b[d++]=this.num2hex[k];b[d++]=this.num2hex[h]}return b.join("")},a.byteLength=function(a){return a.length>>
1},a.HEXCHARS="0123456789abcdef",a.num2hex=function(){for(var c=Array(a.HEXCHARS.length),b=0;b<a.HEXCHARS.length;b++)c[b]=a.HEXCHARS[b];return c}(),a.hex2num=function(){var c,b,d={};for(c=0;c<a.HEXCHARS.length;c++)b=a.HEXCHARS[c],d[b]=c;for(c=0;6>c;c++)b="ABCDEF"[c],d[b]=c+10;return d}(),a}();l.HEX=d;var c=function(){function a(){}return a.str2byte=function(c,b){if(0===c.length)return 0;var d=a.byteLength(c);d>b.length&&(d=b.length);var e=0,h=0,f=h+d,g=c.charCodeAt(e++);for(0!==g&&(b.writeUInt8(255&
g,0),h=1);f>h;h+=2)g=c.charCodeAt(e++),1===f-h&&b.writeUInt8(g>>8,h),2<=f-h&&b.writeUInt16BE(g,h);return d},a.byte2str=function(a){var c=a.length;if(0===c)return"";for(var b=Array((c>>1)+1),d=0,e=0;e<b.length;e++)0===e?1===c%2?b[e]=String.fromCharCode(256|a.readUInt8(d++)):b[e]=String.fromCharCode(0):b[e]=String.fromCharCode(a.readUInt8(d++)<<8|a.readUInt8(d++));return b.join("")},a.byteLength=function(a){if(0===a.length)return 0;var c=a.charCodeAt(0);a=a.length-1<<1;return 0!==c&&a++,a},a}();l.BINSTR=
c;var h=function(){function a(){}return a.str2byte=function(a,c){for(var b=a.length>c.length?c.length:a.length,d=0;b>d;d++)c.writeUInt8(a.charCodeAt(d)-32,d);return b},a.byte2str=function(a){for(var c=Array(a.length),b=0;b<a.length;b++)c[b]=String.fromCharCode(a.readUInt8(b)+32);return c.join("")},a.byteLength=function(a){return a.length},a}();l.BINSTRIE=h},{}],31:[function(g,q,l){l.isIE="undefined"!=typeof navigator&&(null!=/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||-1!==navigator.userAgent.indexOf("Trident"));
l.isWebWorker="undefined"==typeof window},{}],32:[function(g,q,l){var n=g("../core/browserfs"),f=g("../core/node_fs");q=g("../core/buffer");g=g("../core/buffer_core_arraybuffer");var e=q.Buffer,b=g.BufferCoreArrayBuffer,p=function(){function a(c){this.fs=c;this.FS=c.getFS();this.PATH=c.getPATH();this.ERRNO_CODES=c.getERRNO_CODES()}return a.prototype.open=function(a){var b=this.fs.realPath(a.node),d=this.FS;try{d.isFile(a.node.mode)&&(a.nfd=f.openSync(b,this.fs.flagsToPermissionString(a.flags)))}catch(e){if(!e.code)throw e;
throw new d.ErrnoError(this.ERRNO_CODES[e.code]);}},a.prototype.close=function(a){var b=this.FS;try{b.isFile(a.node.mode)&&a.nfd&&f.closeSync(a.nfd)}catch(d){if(!d.code)throw d;throw new b.ErrnoError(this.ERRNO_CODES[d.code]);}},a.prototype.read=function(a,d,k,g,n){var l,r=new b(d.buffer);d=new e(r,d.byteOffset+k,d.byteOffset+k+g);try{l=f.readSync(a.nfd,d,0,g,n)}catch(m){throw new this.FS.ErrnoError(this.ERRNO_CODES[m.code]);}return l},a.prototype.write=function(a,d,k,g,n){var l,r=new b(d.buffer);
d=new e(r,d.byteOffset+k,d.byteOffset+k+g);try{l=f.writeSync(a.nfd,d,0,g,n)}catch(m){throw new this.FS.ErrnoError(this.ERRNO_CODES[m.code]);}return l},a.prototype.llseek=function(a,b,d){if(1===d)b+=a.position;else if(2===d&&this.FS.isFile(a.node.mode))try{var e=f.fstatSync(a.nfd);b+=e.size}catch(g){throw new this.FS.ErrnoError(this.ERRNO_CODES[g.code]);}if(0>b)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return a.position=b,b},a}(),a=function(){function a(c){this.fs=c;this.FS=c.getFS();this.PATH=
c.getPATH();this.ERRNO_CODES=c.getERRNO_CODES()}return a.prototype.getattr=function(a){var b;a=this.fs.realPath(a);try{b=f.lstatSync(a)}catch(d){if(!d.code)throw d;throw new this.FS.ErrnoError(this.ERRNO_CODES[d.code]);}return{dev:b.dev,ino:b.ino,mode:b.mode,nlink:b.nlink,uid:b.uid,gid:b.gid,rdev:b.rdev,size:b.size,atime:b.atime,mtime:b.mtime,ctime:b.ctime,blksize:b.blksize,blocks:b.blocks}},a.prototype.setattr=function(a,b){var d=this.fs.realPath(a);try{if(void 0!==b.mode&&(f.chmodSync(d,b.mode),
a.mode=b.mode),void 0!==b.timestamp){var e=new Date(b.timestamp);f.utimesSync(d,e,e)}}catch(g){if(!g.code)throw g;if("ENOTSUP"!==g.code)throw new this.FS.ErrnoError(this.ERRNO_CODES[g.code]);}if(void 0!==b.size)try{f.truncateSync(d,b.size)}catch(g){if(!g.code)throw g;throw new this.FS.ErrnoError(this.ERRNO_CODES[g.code]);}},a.prototype.lookup=function(a,b){var d=this.PATH.join2(this.fs.realPath(a),b),d=this.fs.getMode(d);return this.fs.createNode(a,b,d)},a.prototype.mknod=function(a,b,d,e){a=this.fs.createNode(a,
b,d,e);b=this.fs.realPath(a);try{this.FS.isDir(a.mode)?f.mkdirSync(b,a.mode):f.writeFileSync(b,"",{mode:a.mode})}catch(g){if(!g.code)throw g;throw new this.FS.ErrnoError(this.ERRNO_CODES[g.code]);}return a},a.prototype.rename=function(a,b,d){a=this.fs.realPath(a);b=this.PATH.join2(this.fs.realPath(b),d);try{f.renameSync(a,b)}catch(e){if(!e.code)throw e;throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);}},a.prototype.unlink=function(a,b){var d=this.PATH.join2(this.fs.realPath(a),b);try{f.unlinkSync(d)}catch(e){if(!e.code)throw e;
throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);}},a.prototype.rmdir=function(a,b){var d=this.PATH.join2(this.fs.realPath(a),b);try{f.rmdirSync(d)}catch(e){if(!e.code)throw e;throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);}},a.prototype.readdir=function(a){a=this.fs.realPath(a);try{return f.readdirSync(a)}catch(b){if(!b.code)throw b;throw new this.FS.ErrnoError(this.ERRNO_CODES[b.code]);}},a.prototype.symlink=function(a,b,d){a=this.PATH.join2(this.fs.realPath(a),b);try{f.symlinkSync(d,
a)}catch(e){if(!e.code)throw e;throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);}},a.prototype.readlink=function(a){a=this.fs.realPath(a);try{return f.readlinkSync(a)}catch(b){if(!b.code)throw b;throw new this.FS.ErrnoError(this.ERRNO_CODES[b.code]);}},a}();g=function(){function b(c,d,e){if(void 0===c&&(c=self.FS),void 0===d&&(d=self.PATH),void 0===e&&(e=self.ERRNO_CODES),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",
705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},"undefined"==typeof n)throw Error("BrowserFS is not loaded. Please load it before this library.");this.FS=c;this.PATH=d;this.ERRNO_CODES=e;this.node_ops=new a(this);this.stream_ops=new p(this)}return b.prototype.mount=function(a){return this.createNode(null,"/",this.getMode(a.opts.root),0)},b.prototype.createNode=function(a,b,d,e){e=this.FS;if(!e.isDir(d)&&!e.isFile(d)&&
!e.isLink(d))throw new e.ErrnoError(this.ERRNO_CODES.EINVAL);a=e.createNode(a,b,d);return a.node_ops=this.node_ops,a.stream_ops=this.stream_ops,a},b.prototype.getMode=function(a){var b;try{b=f.lstatSync(a)}catch(d){if(!d.code)throw d;throw new this.FS.ErrnoError(this.ERRNO_CODES[d.code]);}return b.mode},b.prototype.realPath=function(a){for(var b=[];a.parent!==a;)b.push(a.name),a=a.parent;return b.push(a.mount.opts.root),b.reverse(),this.PATH.join.apply(null,b)},b.prototype.flagsToPermissionString=
function(a){return a in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[a]:a},b.prototype.getFS=function(){return this.FS},b.prototype.getPATH=function(){return this.PATH},b.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES},b}();l.BFSEmscriptenFS=g;n.EmscriptenFS=g},{"../core/browserfs":15,"../core/buffer":16,"../core/buffer_core_arraybuffer":19,"../core/node_fs":26}],33:[function(g,q,l){var n=g("../core/node_fs_stats"),f=g("../core/node_path"),e=n.Stats;g=function(){function a(){this._index=
{};this.addPath("/",new p)}return a.prototype._split_path=function(a){var c=f.dirname(a);a=a.substr(c.length+("/"===c?0:1));return[c,a]},a.prototype.fileIterator=function(a){for(var c in this._index)for(var b=this._index[c],e=b.getListing(),f=0;f<e.length;f++){var g=b.getItem(e[f]);g.isFile()&&a(g.getData())}},a.prototype.addPath=function(a,c){if(null==c)throw Error("Inode must be specified");if("/"!==a[0])throw Error("Path must be absolute, got: "+a);if(this._index.hasOwnProperty(a))return this._index[a]===
c;var b=this._split_path(a),e=b[0],b=b[1],f=this._index[e];return void 0===f&&"/"!==a&&(f=new p,!this.addPath(e,f))||"/"!==a&&!f.addItem(b,c)?!1:(c.isFile()||(this._index[a]=c),!0)},a.prototype.removePath=function(a){var c=this._split_path(a),b=this._index[c[0]];if(void 0===b)return null;c=b.remItem(c[1]);if(null===c)return null;if(!c.isFile()){for(var b=c.getListing(),e=0;e<b.length;e++)this.removePath(a+"/"+b[e]);"/"!==a&&delete this._index[a]}return c},a.prototype.ls=function(a){a=this._index[a];
return void 0===a?null:a.getListing()},a.prototype.getInode=function(a){var c=this._split_path(a),b=c[0],c=c[1],e=this._index[b];return void 0===e?null:b===a?e:e.getItem(c)},a.from_listing=function(d){var c=new a,h=new p;c._index["/"]=h;for(d=[["",d,h]];0<d.length;){var f,g=d.pop(),h=g[0],l=g[1],g=g[2],q;for(q in l){var r=l[q],m=""+h+"/"+q;null!=r?(c._index[m]=f=new p,d.push([m,r,f])):f=new b(new e(n.FileType.FILE,-1,365));null!=g&&(g._ls[q]=f)}}return c},a}();l.FileIndex=g;var b=function(){function a(a){this.data=
a}return a.prototype.isFile=function(){return!0},a.prototype.isDir=function(){return!1},a.prototype.getData=function(){return this.data},a.prototype.setData=function(a){this.data=a},a}();l.FileInode=b;var p=function(){function a(){this._ls={}}return a.prototype.isFile=function(){return!1},a.prototype.isDir=function(){return!0},a.prototype.getStats=function(){return new e(n.FileType.DIRECTORY,4096,365)},a.prototype.getListing=function(){return Object.keys(this._ls)},a.prototype.getItem=function(a){var c;
return null!=(c=this._ls[a])?c:null},a.prototype.addItem=function(a,c){return a in this._ls?!1:(this._ls[a]=c,!0)},a.prototype.remItem=function(a){var c=this._ls[a];return void 0===c?null:(delete this._ls[a],c)},a}();l.DirInode=p},{"../core/node_fs_stats":27,"../core/node_path":28}],34:[function(g,q,l){var n=g("../core/node_fs_stats"),f=g("../core/buffer");g=function(){function e(b,e,a,d,c,h){this.id=b;this.size=e;this.mode=a;this.atime=d;this.mtime=c;this.ctime=h}return e.prototype.toStats=function(){return new n.Stats((61440&
this.mode)===n.FileType.DIRECTORY?n.FileType.DIRECTORY:n.FileType.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},e.prototype.getSize=function(){return 30+this.id.length},e.prototype.toBuffer=function(b){return void 0===b&&(b=new f.Buffer(this.getSize())),b.writeUInt32LE(this.size,0),b.writeUInt16LE(this.mode,4),b.writeDoubleLE(this.atime,6),b.writeDoubleLE(this.mtime,14),b.writeDoubleLE(this.ctime,22),b.write(this.id,30,this.id.length,"ascii"),b},e.prototype.update=
function(b){var e=!1;this.size!==b.size&&(this.size=b.size,e=!0);this.mode!==b.mode&&(this.mode=b.mode,e=!0);var a=b.atime.getTime();this.atime!==a&&(this.atime=a,e=!0);a=b.mtime.getTime();this.mtime!==a&&(this.mtime=a,e=!0);b=b.ctime.getTime();return this.ctime!==b&&(this.ctime=b,e=!0),e},e.fromBuffer=function(b){if(void 0===b)throw Error("NO");return new e(b.toString("ascii",30),b.readUInt32LE(0),b.readUInt16LE(4),b.readDoubleLE(6),b.readDoubleLE(14),b.readDoubleLE(22))},e.prototype.isFile=function(){return(61440&
this.mode)===n.FileType.FILE},e.prototype.isDirectory=function(){return(61440&this.mode)===n.FileType.DIRECTORY},e}();q.exports=g},{"../core/buffer":16,"../core/node_fs_stats":27}],35:[function(g,q,l){function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var c=16*Math.random()|0;return("x"==a?c:3&c|8).toString(16)})}function f(a,c){return a?(c(a),!1):!0}function e(a,c,b){return a?(c.abort(function(){b(a)}),!1):!0}var b=this.__extends||function(a,c){function b(){this.constructor=
a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);b.prototype=c.prototype;a.prototype=new b};q=g("../core/file_system");var p=g("../core/api_error"),a=g("../core/node_fs_stats"),d=g("../core/node_path"),c=g("../generic/inode"),h=g("../core/buffer");g=g("../generic/preload_file");var k=p.ApiError,y=h.Buffer,h=function(){function a(c){this.store=c;this.originalData={};this.modifiedKeys=[]}return a.prototype.stashOldValue=function(a,c){this.originalData.hasOwnProperty(a)||(this.originalData[a]=c)},a.prototype.markModified=
function(a){-1===this.modifiedKeys.indexOf(a)&&(this.modifiedKeys.push(a),this.originalData.hasOwnProperty(a)||(this.originalData[a]=this.store.get(a)))},a.prototype.get=function(a){var c=this.store.get(a);return this.stashOldValue(a,c),c},a.prototype.put=function(a,c,b){return this.markModified(a),this.store.put(a,c,b)},a.prototype["delete"]=function(a){this.markModified(a);this.store["delete"](a)},a.prototype.commit=function(){},a.prototype.abort=function(){var a,c,b;for(a=0;a<this.modifiedKeys.length;a++)c=
this.modifiedKeys[a],b=this.originalData[c],null===b?this.store["delete"](c):this.store.put(c,b,!0)},a}();l.SimpleSyncRWTransaction=h;var G=function(a){function c(b,d,e,h,f){a.call(this,b,d,e,h,f)}return b(c,a),c.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},c.prototype.closeSync=function(){this.syncSync()},c}(g.PreloadFile);l.SyncKeyValueFile=G;h=function(e){function h(a){e.call(this);this.store=a.store;this.makeRootDirectory()}
return b(h,e),h.isAvailable=function(){return!0},h.prototype.getName=function(){return this.store.name()},h.prototype.isReadOnly=function(){return!1},h.prototype.supportsSymlinks=function(){return!1},h.prototype.supportsProps=function(){return!1},h.prototype.supportsSynch=function(){return!0},h.prototype.makeRootDirectory=function(){var b=this.store.beginTransaction("readwrite");if(void 0===b.get("/")){var d=(new Date).getTime(),d=new c(n(),4096,511|a.FileType.DIRECTORY,d,d,d);b.put(d.id,new y("{}"),
!1);b.put("/",d.toBuffer(),!1);b.commit()}},h.prototype._findINode=function(a,c,b){var e=this,h=function(h){h=e.getDirListing(a,c,h);if(h[b])return h[b];throw k.ENOENT(d.resolve(c,b));};return"/"===c?""===b?"/":h(this.getINode(a,c,"/")):h(this.getINode(a,c+d.sep+b,this._findINode(a,d.dirname(c),d.basename(c))))},h.prototype.findINode=function(a,c){return this.getINode(a,c,this._findINode(a,d.dirname(c),d.basename(c)))},h.prototype.getINode=function(a,b,d){a=a.get(d);if(void 0===a)throw k.ENOENT(b);
return c.fromBuffer(a)},h.prototype.getDirListing=function(a,c,b){if(!b.isDirectory())throw k.ENOTDIR(c);a=a.get(b.id);if(void 0===a)throw k.ENOENT(c);return JSON.parse(a.toString())},h.prototype.addNewNode=function(a,c){for(var b;;)try{return b=n(),a.put(b,c,!1),b}catch(d){}throw new k(p.ErrorCode.EIO,"Unable to commit data to key-value store.");},h.prototype.commitNewFile=function(a,b,e,h,f){var g=d.dirname(b),m=d.basename(b),n=this.findINode(a,g),g=this.getDirListing(a,g,n),r=(new Date).getTime();
if("/"===b)throw k.EEXIST(b);if(g[m])throw k.EEXIST(b);try{var l=this.addNewNode(a,f),p=new c(l,f.length,h|e,r,r,r),q=this.addNewNode(a,p.toBuffer());g[m]=q;a.put(n.id,new y(JSON.stringify(g)),!0)}catch(F){throw a.abort(),F;}return a.commit(),p},h.prototype.empty=function(){this.store.clear();this.makeRootDirectory()},h.prototype.renameSync=function(a,c){var b=this.store.beginTransaction("readwrite"),e=d.dirname(a),h=d.basename(a),f=d.dirname(c),g=d.basename(c),m=this.findINode(b,e),n=this.getDirListing(b,
e,m);if(!n[h])throw k.ENOENT(a);var r=n[h];if(delete n[h],0===(f+"/").indexOf(a+"/"))throw new k(p.ErrorCode.EBUSY,e);var l,q;if(f===e?(l=m,q=n):(l=this.findINode(b,f),q=this.getDirListing(b,f,l)),q[g]){e=this.getINode(b,c,q[g]);if(!e.isFile())throw k.EPERM(c);try{b["delete"](e.id),b["delete"](q[g])}catch(F){throw b.abort(),F;}}q[g]=r;try{b.put(m.id,new y(JSON.stringify(n)),!0),b.put(l.id,new y(JSON.stringify(q)),!0)}catch(F){throw b.abort(),F;}b.commit()},h.prototype.statSync=function(a,c){return this.findINode(this.store.beginTransaction("readonly"),
a).toStats()},h.prototype.createFileSync=function(c,b,d){var e=this.store.beginTransaction("readwrite"),h=new y(0);d=this.commitNewFile(e,c,a.FileType.FILE,d,h);return new G(this,c,b,d.toStats(),h)},h.prototype.openFileSync=function(a,c){var b=this.store.beginTransaction("readonly"),d=this.findINode(b,a),b=b.get(d.id);if(void 0===b)throw k.ENOENT(a);return new G(this,a,c,d.toStats(),b)},h.prototype.removeEntry=function(a,c){var b=this.store.beginTransaction("readwrite"),e=d.dirname(a),h=this.findINode(b,
e),e=this.getDirListing(b,e,h),f=d.basename(a);if(!e[f])throw k.ENOENT(a);var g=e[f];delete e[f];f=this.getINode(b,a,g);if(!c&&f.isDirectory())throw k.EISDIR(a);if(c&&!f.isDirectory())throw k.ENOTDIR(a);try{b["delete"](f.id),b["delete"](g),b.put(h.id,new y(JSON.stringify(e)),!0)}catch(m){throw b.abort(),m;}b.commit()},h.prototype.unlinkSync=function(a){this.removeEntry(a,!1)},h.prototype.rmdirSync=function(a){this.removeEntry(a,!0)},h.prototype.mkdirSync=function(c,b){var d=this.store.beginTransaction("readwrite"),
e=new y("{}");this.commitNewFile(d,c,a.FileType.DIRECTORY,b,e)},h.prototype.readdirSync=function(a){var c=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(c,a,this.findINode(c,a)))},h.prototype._syncSync=function(a,c,b){var e=this.store.beginTransaction("readwrite"),h=this._findINode(e,d.dirname(a),d.basename(a));a=this.getINode(e,a,h);b=a.update(b);try{e.put(a.id,c,!0),b&&e.put(h,a.toBuffer(),!0)}catch(f){throw e.abort(),f;}e.commit()},h}(q.SynchronousFileSystem);l.SyncKeyValueFileSystem=
h;var F=function(a){function c(b,d,e,h,f){a.call(this,b,d,e,h,f)}return b(c,a),c.prototype.sync=function(a){var c=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(b){b||c.resetDirty();a(b)}):a()},c.prototype.close=function(a){this.sync(a)},c}(g.PreloadFile);l.AsyncKeyValueFile=F;q=function(h){function g(){h.apply(this,arguments)}return b(g,h),g.prototype.init=function(a,c){this.store=a;this.makeRootDirectory(c)},g.isAvailable=function(){return!0},g.prototype.getName=
function(){return this.store.name()},g.prototype.isReadOnly=function(){return!1},g.prototype.supportsSymlinks=function(){return!1},g.prototype.supportsProps=function(){return!1},g.prototype.supportsSynch=function(){return!1},g.prototype.makeRootDirectory=function(b){var d=this.store.beginTransaction("readwrite");d.get("/",function(h,f){if(h||void 0===f){var g=(new Date).getTime(),k=new c(n(),4096,511|a.FileType.DIRECTORY,g,g,g);d.put(k.id,new y("{}"),!1,function(a){e(a,d,b)&&d.put("/",k.toBuffer(),
!1,function(a){a?d.abort(function(){b(a)}):d.commit(b)})})}else d.commit(b)})},g.prototype._findINode=function(a,c,b,e){var h=this,g=function(a,h,f){a?e(a):f[b]?e(null,f[b]):e(k.ENOENT(d.resolve(c,b)))};"/"===c?""===b?e(null,"/"):this.getINode(a,c,"/",function(b,d){f(b,e)&&h.getDirListing(a,c,d,function(a,c){g(a,d,c)})}):this.findINodeAndDirListing(a,c,g)},g.prototype.findINode=function(a,c,b){var e=this;this._findINode(a,d.dirname(c),d.basename(c),function(d,h){f(d,b)&&e.getINode(a,c,h,b)})},g.prototype.getINode=
function(a,b,d,e){a.get(d,function(a,d){f(a,e)&&(void 0===d?e(k.ENOENT(b)):e(null,c.fromBuffer(d)))})},g.prototype.getDirListing=function(a,c,b,d){b.isDirectory()?a.get(b.id,function(a,b){if(f(a,d))try{d(null,JSON.parse(b.toString()))}catch(e){d(k.ENOENT(c))}}):d(k.ENOTDIR(c))},g.prototype.findINodeAndDirListing=function(a,c,b){var d=this;this.findINode(a,c,function(e,h){f(e,b)&&d.getDirListing(a,c,h,function(a,c){f(a,b)&&b(null,h,c)})})},g.prototype.addNewNode=function(a,c,b){var d,e=0,h=function(){5===
++e?b(new k(p.ErrorCode.EIO,"Unable to commit data to key-value store.")):(d=n(),a.put(d,c,!1,function(a,c){a||!c?h():b(null,d)}))};h()},g.prototype.commitNewFile=function(a,b,h,f,g,m){var z=this,n=d.dirname(b),r=d.basename(b),l=(new Date).getTime();return"/"===b?m(k.EEXIST(b)):void this.findINodeAndDirListing(a,n,function(d,n,p){e(d,a,m)&&(p[r]?a.abort(function(){m(k.EEXIST(b))}):z.addNewNode(a,g,function(b,d){if(e(b,a,m)){var k=new c(d,g.length,f|h,l,l,l);z.addNewNode(a,k.toBuffer(),function(c,
b){e(c,a,m)&&(p[r]=b,a.put(n.id,new y(JSON.stringify(p)),!0,function(c){e(c,a,m)&&a.commit(function(c){e(c,a,m)&&m(null,k)})}))})}}))})},g.prototype.empty=function(a){var c=this;this.store.clear(function(b){f(b,a)&&c.makeRootDirectory(a)})},g.prototype.rename=function(a,c,b){var h=this,f=this.store.beginTransaction("readwrite"),g=d.dirname(a),m=d.basename(a),n=d.dirname(c),r=d.basename(c),l={},q={},F=!1;if(0===(n+"/").indexOf(a+"/"))return b(new k(p.ErrorCode.EBUSY,g));var G=function(){if(!F&&q.hasOwnProperty(g)&&
q.hasOwnProperty(n)){var d=q[g],p=l[g],G=q[n],x=l[n];if(d[m]){var Y=d[m];delete d[m];var P=function(){G[r]=Y;f.put(p.id,new y(JSON.stringify(d)),!0,function(a){e(a,f,b)&&(g===n?f.commit(b):f.put(x.id,new y(JSON.stringify(G)),!0,function(a){e(a,f,b)&&f.commit(b)}))})};G[r]?h.getINode(f,c,G[r],function(a,d){e(a,f,b)&&(d.isFile()?f["delete"](d.id,function(a){e(a,f,b)&&f["delete"](G[r],function(a){e(a,f,b)&&P()})}):f.abort(function(a){b(k.EPERM(c))}))}):P()}else b(k.ENOENT(a))}},x=function(a){h.findINodeAndDirListing(f,
a,function(c,d,e){c?F||(F=!0,f.abort(function(){b(c)})):(l[a]=d,q[a]=e,G())})};x(g);g!==n&&x(n)},g.prototype.stat=function(a,c,b){c=this.store.beginTransaction("readonly");this.findINode(c,a,function(a,c){f(a,b)&&b(null,c.toStats())})},g.prototype.createFile=function(c,b,d,e){var h=this,g=this.store.beginTransaction("readwrite"),k=new y(0);this.commitNewFile(g,c,a.FileType.FILE,d,k,function(a,d){f(a,e)&&e(null,new F(h,c,b,d.toStats(),k))})},g.prototype.openFile=function(a,c,b){var d=this,e=this.store.beginTransaction("readonly");
this.findINode(e,a,function(h,g){f(h,b)&&e.get(g.id,function(e,h){f(e,b)&&(void 0===h?b(k.ENOENT(a)):b(null,new F(d,a,c,g.toStats(),h)))})})},g.prototype.removeEntry=function(a,c,b){var h=this,f=this.store.beginTransaction("readwrite"),g=d.dirname(a),m=d.basename(a);this.findINodeAndDirListing(f,g,function(d,g,n){if(e(d,f,b))if(n[m]){var r=n[m];delete n[m];h.getINode(f,a,r,function(d,h){e(d,f,b)&&(!c&&h.isDirectory()?f.abort(function(){b(k.EISDIR(a))}):c&&!h.isDirectory()?f.abort(function(){b(k.ENOTDIR(a))}):
f["delete"](h.id,function(a){e(a,f,b)&&f["delete"](r,function(a){e(a,f,b)&&f.put(g.id,new y(JSON.stringify(n)),!0,function(a){e(a,f,b)&&f.commit(b)})})}))})}else f.abort(function(){b(k.ENOENT(a))})})},g.prototype.unlink=function(a,b){this.removeEntry(a,!1,b)},g.prototype.rmdir=function(a,b){this.removeEntry(a,!0,b)},g.prototype.mkdir=function(b,c,d){var e=this.store.beginTransaction("readwrite"),h=new y("{}");this.commitNewFile(e,b,a.FileType.DIRECTORY,c,h,d)},g.prototype.readdir=function(a,b){var c=
this,d=this.store.beginTransaction("readonly");this.findINode(d,a,function(e,h){f(e,b)&&c.getDirListing(d,a,h,function(a,c){f(a,b)&&b(null,Object.keys(c))})})},g.prototype._sync=function(a,b,c,h){var f=this,g=this.store.beginTransaction("readwrite");this._findINode(g,d.dirname(a),d.basename(a),function(d,k){e(d,g,h)&&f.getINode(g,a,k,function(a,d){if(e(a,g,h)){var f=d.update(c);g.put(d.id,b,!0,function(a){e(a,g,h)&&(f?g.put(k,d.toBuffer(),!0,function(a){e(a,g,h)&&g.commit(h)}):g.commit(h))})}})})},
g}(q.BaseFileSystem);l.AsyncKeyValueFileSystem=q},{"../core/api_error":14,"../core/buffer":16,"../core/file_system":23,"../core/node_fs_stats":27,"../core/node_path":28,"../generic/inode":34,"../generic/preload_file":36}],36:[function(g,q,l){var n=this.__extends||function(a,b){function d(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);d.prototype=b.prototype;a.prototype=new d};q=g("../core/file");var f=g("../core/buffer"),e=g("../core/api_error"),b=g("../core/node_fs"),p=e.ApiError,
a=e.ErrorCode,d=f.Buffer;g=function(c){function e(a,b,h,f,g){if(c.call(this),this._pos=0,this._dirty=!1,this._fs=a,this._path=b,this._flag=h,this._stat=f,null!=g?this._buffer=g:this._buffer=new d(0),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.");}return n(e,c),e.prototype.isDirty=function(){return this._dirty},e.prototype.resetDirty=function(){this._dirty=
!1},e.prototype.getBuffer=function(){return this._buffer},e.prototype.getStats=function(){return this._stat},e.prototype.getFlag=function(){return this._flag},e.prototype.getPath=function(){return this._path},e.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},e.prototype.advancePos=function(a){return this._pos+=a},e.prototype.setPos=function(a){return this._pos=a},e.prototype.sync=function(a){try{this.syncSync(),a()}catch(b){a(b)}},e.prototype.syncSync=function(){throw new p(a.ENOTSUP);
},e.prototype.close=function(a){try{this.closeSync(),a()}catch(b){a(b)}},e.prototype.closeSync=function(){throw new p(a.ENOTSUP);},e.prototype.stat=function(a){try{a(null,this._stat.clone())}catch(b){a(b)}},e.prototype.statSync=function(){return this._stat.clone()},e.prototype.truncate=function(a,c){try{this.truncateSync(a),this._flag.isSynchronous()&&!b.getRootFS().supportsSynch()&&this.sync(c),c()}catch(d){return c(d)}},e.prototype.truncateSync=function(c){if(this._dirty=!0,!this._flag.isWriteable())throw new p(a.EPERM,
"File not opened with a writeable mode.");if(this._stat.mtime=new Date,c>this._buffer.length)return c=new d(c-this._buffer.length),c.fill(0),this.writeSync(c,0,c.length,this._buffer.length),void(this._flag.isSynchronous()&&b.getRootFS().supportsSynch()&&this.syncSync());this._stat.size=c;var e=new d(c);this._buffer.copy(e,0,0,c);this._buffer=e;this._flag.isSynchronous()&&b.getRootFS().supportsSynch()&&this.syncSync()},e.prototype.write=function(a,b,c,d,e){try{e(null,this.writeSync(a,b,c,d),a)}catch(h){e(h)}},
e.prototype.writeSync=function(b,c,e,h){if(this._dirty=!0,null==h&&(h=this.getPos()),!this._flag.isWriteable())throw new p(a.EPERM,"File not opened with a writeable mode.");var f=h+e;f>this._stat.size&&(this._stat.size=f,f>this._buffer.length)&&(f=new d(f),this._buffer.copy(f),this._buffer=f);b=b.copy(this._buffer,h,c,c+e);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),b):(this.setPos(h+b),b)},e.prototype.read=function(a,b,c,d,e){try{e(null,this.readSync(a,b,c,d),a)}catch(h){e(h)}},
e.prototype.readSync=function(b,c,d,e){if(!this._flag.isReadable())throw new p(a.EPERM,"File not opened with a readable mode.");null==e&&(e=this.getPos());e+d>this._stat.size&&(d=this._stat.size-e);b=this._buffer.copy(b,c,e,e+d);return this._stat.atime=new Date,this._pos=e+d,b},e.prototype.chmod=function(a,b){try{this.chmodSync(a),b()}catch(c){b(c)}},e.prototype.chmodSync=function(b){if(!this._fs.supportsProps())throw new p(a.ENOTSUP);this._dirty=!0;this._stat.chmod(b);this.syncSync()},e}(q.BaseFile);
l.PreloadFile=g;g=function(a){function b(d,e,h,f,g){a.call(this,d,e,h,f,g)}return n(b,a),b.prototype.sync=function(a){a()},b.prototype.syncSync=function(){},b.prototype.close=function(a){a()},b.prototype.closeSync=function(){},b}(g);l.NoSyncFile=g},{"../core/api_error":14,"../core/buffer":16,"../core/file":21,"../core/node_fs":26}],37:[function(g,q,l){function n(a){var b=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);b=b.replace(/[\s\S]/g,function(a){a=a.charCodeAt(0);return String.fromCharCode(255&
a,a>>8)})+a;a=Array(b.length);for(var c=0;c<b.length;c++)a[c]=b.charCodeAt(c);return a}function f(a,b,c,d){switch(c){case "buffer":case "json":break;default:return d(new k(y.EINVAL,"Invalid download type: "+c))}var e=new XMLHttpRequest;e.open("GET",b,a);e.setRequestHeader("Accept-Charset","x-user-defined");e.onreadystatechange=function(a){var b;if(4===e.readyState){if(200!==e.status)return d(new k(e.status,"XHR error."));switch(c){case "buffer":return b=n(e.responseBody),d(null,new G(b));case "json":return d(null,
JSON.parse(e.responseText))}}};e.send()}function e(a,b,c){f(!0,a,b,c)}function b(a,b){var c;return f(!1,a,b,function(a,b){if(a)throw a;c=b}),c}function p(a,b,c){var d=new XMLHttpRequest;d.open("GET",a,!0);var e=!0;switch(b){case "buffer":d.responseType="arraybuffer";break;case "json":try{d.responseType="json",e="json"===d.responseType}catch(h){e=!1}break;default:return c(new k(y.EINVAL,"Invalid download type: "+b))}d.onreadystatechange=function(a){if(4===d.readyState){if(200!==d.status)return c(new k(d.status,
"XHR error."));switch(b){case "buffer":return c(null,new G(d.response?d.response:0));case "json":return e?c(null,d.response):c(null,JSON.parse(d.responseText))}}};d.send()}function a(a,b){var c=new XMLHttpRequest;c.open("GET",a,!1);var d=null,e=null;if(c.overrideMimeType("text/plain; charset=x-user-defined"),c.onreadystatechange=function(a){if(4===c.readyState){if(200!==c.status)return void(e=new k(c.status,"XHR error."));switch(b){case "buffer":a=c.responseText;d=new G(a.length);for(var h=0;h<a.length;h++)d.writeUInt8(a.charCodeAt(h),
h);break;case "json":return void(d=JSON.parse(c.responseText))}}},c.send(),e)throw e;return d}function d(a,b){var c=new XMLHttpRequest;switch(c.open("GET",a,!1),b){case "buffer":c.responseType="arraybuffer";break;case "json":break;default:throw new k(y.EINVAL,"Invalid download type: "+b);}var d,e;if(c.onreadystatechange=function(a){if(4===c.readyState)if(200===c.status)switch(b){case "buffer":d=new G(c.response);break;case "json":d=JSON.parse(c.response)}else e=new k(c.status,"XHR error.")},c.send(),
e)throw e;return d}function c(a,b,c){var d=new XMLHttpRequest;d.open("HEAD",b,a);d.onreadystatechange=function(a){if(4===d.readyState){if(200!=d.status)return c(new k(d.status,"XHR HEAD error."));try{return c(null,parseInt(d.getResponseHeader("Content-Length"),10))}catch(b){return c(new k(y.EIO,"XHR HEAD error: Could not read content-length."))}}};d.send()}q=g("../core/util");var h=g("../core/buffer");g=g("../core/api_error");var k=g.ApiError,y=g.ErrorCode,G=h.Buffer;l.asyncDownloadFile=q.isIE&&"undefined"==
typeof Blob?e:p;l.syncDownloadFile=q.isIE&&"undefined"==typeof Blob?b:q.isIE&&"undefined"!=typeof Blob?d:a;l.getFileSizeSync=function(a){var b;return c(!1,a,function(a,c){if(a)throw a;b=c}),b};l.getFileSizeAsync=function(a,b){c(!0,a,b)}},{"../core/api_error":14,"../core/buffer":16,"../core/util":31}],38:[function(g,q,l){var n=g("./core/global");if(Date.now||(Date.now=function(){return(new Date).getTime()}),Array.isArray||(Array.isArray=function(b){return"[object Array]"===Object.prototype.toString.call(b)}),
Object.keys||(Object.keys=function(){var b=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),a="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),d=a.length;return function(c){if("object"!=typeof c&&("function"!=typeof c||null===c))throw new TypeError("Object.keys called on non-object");var h,f=[];for(h in c)b.call(c,h)&&f.push(h);if(e)for(h=0;d>h;h++)b.call(c,a[h])&&f.push(a[h]);return f}}()),"b"!=="ab".substr(-1)&&
(String.prototype.substr=function(b){return function(e,a){return 0>e&&(e=this.length+e),b.call(this,e,a)}}(String.prototype.substr)),Array.prototype.forEach||(Array.prototype.forEach=function(b,e){for(var a=0;a<this.length;++a)a in this&&b.call(e,this[a],a,this)}),"undefined"==typeof setImmediate){var f=[];if(function(){if("undefined"!=typeof n.importScripts||!n.postMessage)return!1;var b=!0,e=n.onmessage;return n.onmessage=function(){b=!1},n.postMessage("","*"),n.onmessage=e,b}())n.setImmediate=
function(b){f.push(b);n.postMessage("zero-timeout-message","*")},l=function(b){if(b.source===self&&"zero-timeout-message"===b.data&&(b.stopPropagation?b.stopPropagation():b.cancelBubble=!0,0<f.length))return f.shift()()},n.addEventListener?n.addEventListener("message",l,!0):n.attachEvent("onmessage",l);else if(n.MessageChannel){var e=new n.MessageChannel;e.port1.onmessage=function(b){return 0<f.length?f.shift()():void 0};n.setImmediate=function(b){f.push(b);e.port2.postMessage("")}}else n.setImmediate=
function(b){return setTimeout(b,0)}}Array.prototype.indexOf||(Array.prototype.indexOf=function(b,e){if(void 0===e&&(e=0),!this)throw new TypeError;var a=this.length;if(0===a||d>=a)return-1;var d=e;for(0>d&&(d=a+d);a>d;d++)if(this[d]===b)return d;return-1});Array.prototype.forEach||(Array.prototype.forEach=function(b,e){var a,d;a=0;for(d=this.length;d>a;++a)a in this&&b.call(e,this[a],a,this)});Array.prototype.map||(Array.prototype.map=function(b,e){var a,d,c;if(null==this)throw new TypeError(" this is null or not defined");
var h=Object(this),f=h.length>>>0;if("function"!=typeof b)throw new TypeError(b+" is not a function");e&&(a=e);d=Array(f);for(c=0;f>c;){var g,n;c in h&&(g=h[c],n=b.call(a,g,c,h),d[c]=n);c++}return d});"undefined"!=typeof document&&void 0===window.chrome&&document.write("\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\n<script type='text/vbscript'>\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n IEBinaryToArray_ByteStr = CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n Dim lastIndex\r\n lastIndex = LenB(Binary)\r\n if lastIndex mod 2 Then\r\n IEBinaryToArray_ByteStr_Last = Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n Else\r\n IEBinaryToArray_ByteStr_Last = \"\"\r\n End If\r\nEnd Function\r\n\x3c/script>\r\n");
g("./generic/emscripten_fs");g("./backend/IndexedDB");g("./backend/XmlHttpRequest");g("./backend/async_mirror");g("./backend/dropbox");g("./backend/html5fs");g("./backend/in_memory");g("./backend/localStorage");g("./backend/mountable_file_system");g("./backend/overlay");g("./backend/workerfs");g("./backend/zipfs");q.exports=g("./core/browserfs")},{"./backend/IndexedDB":3,"./backend/XmlHttpRequest":4,"./backend/async_mirror":5,"./backend/dropbox":6,"./backend/html5fs":7,"./backend/in_memory":8,"./backend/localStorage":9,
"./backend/mountable_file_system":10,"./backend/overlay":11,"./backend/workerfs":12,"./backend/zipfs":13,"./core/browserfs":15,"./core/global":24,"./generic/emscripten_fs":32}]},{},[38])(38)});var FS=null,Crazyerics=function(){var u=this;$(document).ready(function(){u._clientdata=u._decompress.json(clientdata);var g=u._clientdata.openonload||{};"system"in g&&"title"in g&&"file"in g&&u._bootstrap(g.system,g.title,g.file);u._buildRecentlyPlayed(u._clientdata.playhistory);$("#searchform select").selectOrDie({customID:"selectordie",customClass:"tooltip",onChange:function(){u.replaceSuggestions($(this).val())}});$("#searchform input").autoComplete({minChars:3,cache:!1,delay:300,source:function(g,
l){var n=$("#searchform select").val();$.getJSON("/search/"+n+"/"+g,function(f){l(u._decompress.json(f))})},renderItem:function(g,l){var n=$('<div class="autocomplete-suggestion" data-title="'+g[0]+'" data-file="'+g[1]+'" data-system="'+g[2]+'" data-searchscore="'+g[3]+'"></div>');n.append(u._getBoxFront(g[2],g[0],50));n.append("<div>"+g[0]+"</div>");return $("<div/>").append(n).html()},onSelect:function(g,l,n){u._bootstrap(n.data("system"),n.data("title"),n.data("file"))}});$("#emulatorwrapperoverlay").on("click",
function(){$("#emulator").focus();$("#emulatorcontrolswrapper").removeClass()}).hover(function(g){g.stopPropagation()},function(g){g.stopPropagation()});$("#emulatorcontrolswrapper").on("mousedown mouseup click",function(g){g.preventDefault();$("#emulator").focus()});$("#emulatorwrapper").hover(function(g){$("#emulatorcontrolswrapper").removeClass()},function(g){$("#emulatorcontrolswrapper").addClass("closed")});$("#gamedetailswrapper").hover(function(g){$("#gamecontrolslist").removeClass()},function(g){$("#gamecontrolslist").addClass("closed")});
$("#emulatorcontrolswrapper li.fullscreen").click(function(){u._simulateEmulatorKeypress(70)});$("#emulatorcontrolswrapper li.savestate").click(function(){u._simulateEmulatorKeypress(49)});$("#emulatorcontrolswrapper li.loadstate").click(function(){u._simulateEmulatorKeypress(52)});$("#emulatorcontrolswrapper li.mute").click(function(){u._simulateEmulatorKeypress(77)});$("#emulatorcontrolswrapper li.decrementslot").click(function(){u._simulateEmulatorKeypress(50)});$("#emulatorcontrolswrapper li.incrementslot").click(function(){u._simulateEmulatorKeypress(51)});
$("#emulatorcontrolswrapper li.fastforward").click(function(){u._simulateEmulatorKeypress(32)});$("#emulatorcontrolswrapper li.pause").click(function(){u._simulateEmulatorKeypress(80)});$("#emulatorcontrolswrapper li.reset").click(function(){u._simulateEmulatorKeypress(72)});$("#emulatorcontrolswrapper li.rewind").click(function(){u._simulateEmulatorKeypress(82,5E3)});$("#gamecontrolslist li.controls").on("mousedown",function(){$("#emulator").is(":focus")&&(u._pauseOverride=!0)}).on("mouseup",function(g){u._pauseOverride&&
($("#emulator").focus(),u._pauseOverride=!1);$("#controlsslider").animate({width:"toggle",padding:"toggle"},500);0==$(this).attr("data-click-state")?($(this).attr("data-click-state",1),$(this).find("img").animateRotate(0,90,500)):($(this).attr("data-click-state",0),$(this).find("img").animateRotate(90,0,500))});u.replaceSuggestions("all");u._toolTips()})};Crazyerics.prototype._clientdata=null;Crazyerics.prototype._Module=null;Crazyerics.prototype._ModuleLoading=!1;
Crazyerics.prototype._pauseOverride=!1;Crazyerics.prototype._activeFile=null;Crazyerics.prototype._keypresslocked=!1;Crazyerics.prototype._tips="Back out of that mistake you made by holding the R key to rewind the game;Press the Space key to fast forward through those boring story scenes;If your browser supports it, you can go fullscreen by pressing the F key;You can save your progress by pressing the 1 key, return to it anytime with the 4 key;We'll store all of your save states as long as you return within two weeks;Pause your game with the P key;Select a system filter to generate a new list of suggested games;To search for more obsurace or forgeign titles, select a system filter first".split(";");
Crazyerics.prototype._playhistory={};Crazyerics.prototype._socket=null;
Crazyerics.prototype.replaceSuggestions=function(u,g){var q=this;g=g||100;$("#suggestionswrapper").hide();$("#loading").removeClass("close");$.getJSON("/suggest/"+u+"/"+g,function(g){g=q._decompress.json(g);$("#suggestionswrapper li").remove();for(var n=$("#suggestionswrapper ul"),f=0;f<g.length;++f){var e=q._buildGameLink(g[f].system,g[f].title,g[f].file,120);$(n[f%n.length]).append(e.li)}$("#suggestionswrapper").waitForImages().progress(function(b,e,a){$("#loading .loadingtext").text(b+"%");b===
e-1&&($("#suggestionswrapper").slideDown(),$("#loading").addClass("close"))});q._toolTips()})};
Crazyerics.prototype._bootstrap=function(u,g,q,l){var n=this,f=n._compress.gamekey(u,g,q);if(!n._ModuleLoading){n._ModuleLoading=!0;n._pauseOverride=!1;$("#gameloadingname").text(g);$("#gamedetailsboxfront img").addClass("close");$("#gamedetailswrapper").fadeOut();$("#startmessage").slideUp(1E3);$("#emulatorwrapper").slideDown(1E3);$("#gameloadingoverlaycontentimage").empty();var e=n._getBoxFront(u,g,170);e.addClass("tada");e.load(function(){$(this).fadeIn(200)});$("#gameloadingoverlaycontentimage").append(e);
var b=setInterval(function(){$("#tip").fadeOut(500,function(){var b=Crazyerics.prototype._tips[Math.floor(Math.random()*Crazyerics.prototype._tips.length)];$("#gameloadingoverlay").is(":animated")||$("#tip").empty().append("Tip: "+b).fadeIn(500)})},5E3);$("#gameloadingoverlay").fadeIn(500,function(){$("#gamecontrolslist li").each(function(){1==$(this).attr("data-click-state")&&$(this).mouseup()});$("#gameloadingoverlaycontent").removeClass();$("#emulatorcontrolswrapper").show();n._cleanupEmulator();
$("#emulatorcanvas").append('<canvas tabindex="0" id="emulator"></canvas>');var e=$.Deferred(),a=$.Deferred(),d=$.Deferred();$.when(e,a,d).done(function(a,d,e){var p=a[0],G=a[1];a=a[2];d=d[1];e=e.states;n._Module=p;FS=G;n.emulatorframe=a;n._setupKeypressInterceptor(u,g,q);n._buildFileSystem(p,u,q,d,e);p.emulatorFileWritten=function(a,b){n._emulatorFileWritten(f,u,g,q,a,b)};p.callMain(p.arguments);var F=function(){n._buildGameContent(u,g,function(){});$("#gameloadingoverlaycontent").addClass("close");
$("#gameloadingoverlay").fadeOut(1E3,function(){$("#tips").stop().hide();clearInterval(b);setTimeout(function(){n._ModuleLoading=!1;$("#emulatorcontrolswrapper").addClass("closed");$("#gamecontrolslist li").each(function(){0==$(this).attr("data-click-state")&&$(this).mouseup()})},3E3)});$("#emulator").blur(function(a){n._pauseOverride||(p.pauseMainLoop(),$("#emulatorwrapperoverlay").fadeIn())}).focus(function(){p.resumeMainLoop();$("#emulatorwrapperoverlay").hide()}).focus()};l?n._asyncLoop(parseInt(l,
10),function(a){n._simulateEmulatorKeypress(51,10,function(){a.next()})},function(){n._simulateEmulatorKeypress(52);F()}):F()});n._loademulator(u,e);n._loadGameData(f,u,g,q,a);n._loadGame(f,u,g,q,d)})}};
Crazyerics.prototype._buildGameContent=function(u,g,q){var l=this._getBoxFront(u,g,170),n=document.createElement("img");n.addEventListener("load",function(){$("#gamedetailsboxfront").empty().append(l);$("#gametitle").empty().hide().append(g);var f=232<this.height?this.height:232;$("#gamedetailsboxfront img").addClass("close");$("#gamedetailsbackground").animate({height:f},1E3,function(){$("#gamedetailswrapper").fadeIn(1E3,function(){$("#gametitle").bigText({textAlign:"left",horizontalAlign:"left"});
$("#gametitle").fadeIn(500);$("#gamedetailsboxfront img").removeClass();$("#controlsslider").empty();$.get("/layout/controls/"+u,function(e){$("#controlsslider").append(e)});q()})})},!0);l.load(function(){n.setAttribute("src",l.attr("src"))})};
Crazyerics.prototype._cleanupEmulator=function(){$(document).unbind("fullscreenchange");$(document).unbind("mozfullscreenchange");$(document).unbind("webkitfullscreenchange");$(document).unbind("pointerlockchange");$(document).unbind("mozpointerlockchange");$(document).unbind("webkitpointerlockchange");FS&&(FS=null);if(this._Module){try{this._Module.exit()}catch(u){}this._Module=null}this.emulatorframe&&(this.emulatorframe.remove(),this.emulatorframe=null);$("#emulator").remove()};
Crazyerics.prototype._simulateEmulatorKeypress=function(u,g,q){var l=this;g=g||10;if(this._Module&&this._Module.RI&&this._Module.RI.eventHandler&&!l._keypresslocked){l._keypresslocked=!0;var n;n=$.Event("keydown");n.keyCode=u;n.which=u;this._Module.RI.eventHandler(n);setTimeout(function(){n=$.Event("keyup");n.keyCode=u;n.which=u;l._Module.RI.eventHandler(n);setTimeout(function(){l._keypresslocked=!1;q&&q()},100)},g);$("#emulator").focus()}};
Crazyerics.prototype._setupKeypressInterceptor=function(u,g,q){var l=this;if(this._Module&&this._Module.RI&&this._Module.RI.eventHandler){var n=this._Module.RI.eventHandler;this._Module.RI.eventHandler=function(f){switch(f.type){case "keyup":switch(f.keyCode){case 70:l._Module.requestFullScreen(!0,!0)}}n(f)}}};
Crazyerics.prototype._loademulator=function(u,g){var q=$("<iframe/>",{src:"/load/emulator/"+u,style:"display:none",load:function(){var l=this.contentWindow.FS,n=this.contentWindow.Module;n.monitorRunDependencies=function(f){0===f&&g.resolve(n,l,q)};0===n.totalDependencies&&g.resolve(n,l,q)}});$("body").append(q)};
Crazyerics.prototype._loadGameData=function(u,g,q,l,n){var f=this._clientdata.rompath;this._clientdata.flattenedromfiles?(u=this._compress.json({0:q,1:l}),f+="/"+g+"/"+encodeURIComponent(encodeURIComponent(u))):f+="/"+g+"/"+q+"/"+l;$.get(f,function(e){var b;try{b=pako.inflate(e)}catch(f){n.resolve(f);return}n.resolve(null,b)})};
Crazyerics.prototype._loadGame=function(u,g,q,l,n){var f=this;$.get("/load/game?key="+encodeURIComponent(u),function(e){f._addToPlayHistory(u,g,q,l);n.resolve({states:e.states,files:f._decompress.json(e.files)})})};
Crazyerics.prototype._buildFileSystem=function(u,g,q,l,n){u.FS_createDataFile("/",q,l,!0,!0);u.arguments=["-v","/"+q];u.FS_createFolder("/","etc",!0,!0);this._clientdata.retroarch&&this._clientdata.retroarch[g]&&u.FS_createDataFile("/etc","retroarch.cfg",this._clientdata.retroarch[g],!0,!0);for(var f in n)g=this._decompress.bytearray(n[f]),l="/"+q.replace(RegExp(".[a-z0-9]{1,3}$","gi"),"")+".state"+(0==f?"":f),u.FS_createDataFile("/",l,g,!0,!0)};
Crazyerics.prototype._emulatorFileWritten=function(u,g,q,l,n,f){var e=this;if(n=n.match(/\.state(\d*)$/)){var b=""===n[1]?0:n[1];f=e._compress.bytearray(f);$.ajax({url:"/states/save?key="+encodeURIComponent(u)+"&slot="+b,data:f,processData:!1,contentType:"text/plain",type:"POST",complete:function(f){f={};f[b]=Date.now();e._addToPlayHistory(u,g,q,l,null,f)}})}};
Crazyerics.prototype._buildRecentlyPlayed=function(u,g){for(var q in u)this._addToPlayHistory(q,u[q].system,u[q].title,u[q].file,u[q].played,u[q].slots);$.isEmptyObject(u)?$("#startfirst").animate({height:"toggle",opacity:"toggle"},500):$("#startplayed").animate({height:"toggle",opacity:"toggle"},500)};
Crazyerics.prototype._addToPlayHistory=function(u,g,q,l,n,f){var e;if(u in this._playhistory){if(this._playhistory[u].played=Date.now(),f)for(e in f)this._addStateToPlayHistory(this._playhistory[u],this._playhistory[u].stateswrapper,e,f[e])}else{var b=this._buildGameLink(g,q,l,120,!0,f);b.li.addClass("close");b.img.load(function(){b.li.removeClass("close")});b.remove.addClass("tooltip").attr("title","Remove this game and all saved states").on("click",function(){b.li.addClass("slideup");$.ajax({url:"/states/delete?key="+
encodeURIComponent(u),type:"DELETE",complete:function(){setTimeout(function(){b.li.remove()},500)}})});var p=$('<div class="statewrapper"></div>');b.li.append(p);this._playhistory[u]={system:g,title:q,file:l,played:n||Date.now(),slots:f||{},stateswrapper:p};if(f)for(e in f)this._addStateToPlayHistory(this._playhistory[u],p,e,f[e]);g=$("#recentplayedwrapper ul");q=g[0];for(l=0;l<g.length;++l)q=$(g[l]).children().length<$(q).children().length?g[l]:q;$(q).append(b.li);$("#recentplayedwrapper").show()}this._toolTips()};
Crazyerics.prototype._addStateToPlayHistory=function(u,g,q,l){var n=this;l=new Date(l);l=$.format.date(l,"E MM/dd/yyyy h:mm:ss a");var f=$('<div data-slot="'+q+'" class="statebutton zoom tooltip" title="Load State Saved '+l+'">'+q+"</div>").on("mousedown",function(){n._pauseOverride=!0}).on("mouseup",function(){n._bootstrap(u.system,u.title,u.file,q);window.scrollTo(0,0)}),e=!1;g.children().each(function(){var b=parseInt($(this).attr("data-slot"),10);q=parseInt(q,10);if(b===q)return f.insertBefore(this),
$(this).remove(),e=!0,!1;if(b>q)return f.insertBefore(this),e=!0,!1});e||g.append(f)};
Crazyerics.prototype._buildGameLink=function(u,g,q,l,n){var f=this;n=n||!1;var e=$('<li class="gamelink"></li>');l=f._getBoxFront(u,g,l);l.addClass("tooltip close");l.attr("title",g);l.load(function(){$(this).removeClass("close").on("mousedown",function(){f._pauseOverride=!0}).on("mouseup",function(){f._bootstrap(u,g,q);window.scrollTo(0,0)})});var b=$('<div class="box zoom"></div>');b.append(l);e.append(b);var p=null;n&&(p=$('<div class="remove"></div>'),b.append(p).on("mouseover",function(){$(p).show()}).on("mouseout",
function(){$(p).hide()}));return{li:e,img:l,remove:p}};Crazyerics.prototype._getBoxFront=function(u,g,q){this._clientdata.flattenedboxfiles&&(g=encodeURIComponent(encodeURIComponent(this._compress.string(g))));return $("<img onerror=\"this.src='"+this._clientdata.assetpath+"/images/blanks/"+u+"_"+q+'.png\'" src="'+this._clientdata.boxpath+"/"+u+"/"+g+"/"+q+'.jpg" />')};Crazyerics.prototype._toolTips=function(){$(".tooltip").tooltipster({theme:"tooltipster-shadow",animation:"grow",delay:100})};
Crazyerics.prototype._generateLink=function(u,g,q){return this._compress.string(encodeURI(u+"/"+g+"/"+q))};Crazyerics.prototype._compress={bytearray:function(u){u=pako.deflate(u,{to:"string"});return btoa(u)},json:function(u){u=JSON.stringify(u);u=pako.deflate(u,{to:"string"});return btoa(u)},string:function(u){u=pako.deflate(u,{to:"string"});return btoa(u)},gamekey:function(u,g,q){return this.json({system:u,title:g,file:q})}};
Crazyerics.prototype._decompress={bytearray:function(u){u=new Uint8Array(atob(u).split("").map(function(g){return g.charCodeAt(0)}));return pako.inflate(u)},json:function(u){u=atob(u);u=pako.inflate(u,{to:"string"});return JSON.parse(u)},string:function(u){u=atob(u);return pako.inflate(u,{to:"string"})}};
$.fn.animateRotate=function(u,g,q,l,n){var f=$.speed(q,l,n),e=f.step;return this.each(function(b,n){f.complete=$.proxy(f.complete,n);f.step=function(a){$.style(n,"transform","rotate("+a+"deg)");if(e)return e.apply(n,arguments)};$({deg:u}).animate({deg:g},f)})};Crazyerics.prototype._asyncLoop=function(u,g,q){var l=0,n=!1,f={next:function(){n||(l<u?(l++,g(f)):(n=!0,q()))},iteration:function(){return l-1},"break":function(){n=!0;q()}};f.next();return f};var crazyerics=new Crazyerics;!function(u){u.fn.autoComplete=function(g){var q=u.extend({},u.fn.autoComplete.defaults,g);return"string"==typeof g?(this.each(function(){var l=u(this);"destroy"==g&&(u(window).off("resize.autocomplete",l.updateSC),l.off("blur.autocomplete focus.autocomplete keydown.autocomplete keyup.autocomplete"),l.data("autocomplete")?l.attr("autocomplete",l.data("autocomplete")):l.removeAttr("autocomplete"),u(l.data("sc")).remove(),l.removeData("sc").removeData("autocomplete"))}),this):this.each(function(){function g(f){var e=
n.val();if(n.cache[e]=f,f.length&&e.length>=q.minChars){for(var b="",l=0;l<f.length;l++)b+=q.renderItem(f[l],e);n.sc.html(b);n.updateSC(0)}else n.sc.hide()}var n=u(this);n.sc=u('<div class="autocomplete-suggestions '+q.menuClass+'"></div>');n.data("sc",n.sc).data("autocomplete",n.attr("autocomplete"));n.attr("autocomplete","off");n.cache={};n.last_val="";n.updateSC=function(f,e){if(n.sc.css({top:n.offset().top+n.outerHeight(),left:n.offset().left,width:n.outerWidth()}),!f&&(n.sc.show(),n.sc.maxHeight||
(n.sc.maxHeight=parseInt(n.sc.css("max-height"))),n.sc.suggestionHeight||(n.sc.suggestionHeight=u(".autocomplete-suggestion",n.sc).first().outerHeight()),n.sc.suggestionHeight))if(e){var b=n.sc.scrollTop(),g=e.offset().top-n.sc.offset().top;0<g+n.sc.suggestionHeight-n.sc.maxHeight?n.sc.scrollTop(g+n.sc.suggestionHeight+b-n.sc.maxHeight):0>g&&n.sc.scrollTop(g+b)}else n.sc.scrollTop(0)};u(window).on("resize.autocomplete",n.updateSC);n.sc.appendTo("body");n.sc.on("mouseleave",".autocomplete-suggestion",
function(){u(".autocomplete-suggestion.selected").removeClass("selected")});n.sc.on("mouseenter",".autocomplete-suggestion",function(){u(".autocomplete-suggestion.selected").removeClass("selected");u(this).addClass("selected")});n.sc.on("mousedown",".autocomplete-suggestion",function(f){var e=u(this),b=e.data("val");(b||e.hasClass("autocomplete-suggestion"))&&(n.val(b),q.onSelect(f,b,e),n.sc.hide())});n.on("blur.autocomplete",function(){try{over_sb=u(".autocomplete-suggestions:hover").length}catch(f){over_sb=
0}over_sb?n.is(":focus")||setTimeout(function(){n.focus()},20):(n.last_val=n.val(),n.sc.hide(),setTimeout(function(){n.sc.hide()},350))});q.minChars||n.on("focus.autocomplete",function(){n.last_val="\n";n.trigger("keyup.autocomplete")});n.on("keydown.autocomplete",function(f){if((40==f.which||38==f.which)&&n.sc.html()){var e,b=u(".autocomplete-suggestion.selected",n.sc);return b.length?(e=40==f.which?b.next(".autocomplete-suggestion"):b.prev(".autocomplete-suggestion"),e.length?(b.removeClass("selected"),
n.val(e.addClass("selected").data("val"))):(b.removeClass("selected"),n.val(n.last_val),e=0)):(e=40==f.which?u(".autocomplete-suggestion",n.sc).first():u(".autocomplete-suggestion",n.sc).last(),n.val(e.addClass("selected").data("val"))),n.updateSC(0,e),!1}if(27==f.which)n.val(n.last_val).sc.hide();else if(13==f.which||9==f.which)b=u(".autocomplete-suggestion.selected",n.sc),b.length&&n.sc.is(":visible")&&(q.onSelect(f,b.data("val"),b),setTimeout(function(){n.sc.hide()},20))});n.on("keyup.autocomplete",
function(f){if(!~u.inArray(f.which,[13,27,35,36,37,38,39,40])){var e=n.val();if(e.length>=q.minChars){if(e!=n.last_val){if(n.last_val=e,clearTimeout(n.timer),q.cache){if(e in n.cache)return void g(n.cache[e]);for(f=1;f<e.length-q.minChars;f++){var b=e.slice(0,e.length-f);if(b in n.cache&&!n.cache[b].length)return void g([])}}n.timer=setTimeout(function(){q.source(e,g)},q.delay)}}else n.last_val=e,n.sc.hide()}})})};u.fn.autoComplete.defaults={source:0,minChars:3,delay:150,cache:1,menuClass:"",renderItem:function(g,
q){var l=new RegExp("("+q.split(" ").join("|")+")","gi");return'<div class="autocomplete-suggestion" data-val="'+g+'">'+g.replace(l,"<b>$1</b>")+"</div>"},onSelect:function(g,q,l){}}}(jQuery);(function(u){var g={rotateText:null,fontSizeFactor:.8,maximumFontSize:null,limitingDimension:"both",horizontalAlign:"center",verticalAlign:"center",textAlign:"center",whiteSpace:"nowrap"};u.fn.bigText=function(q){return this.each(function(){q=u.extend({},g,q);var l=u(this),n=l.parent();l.css("visibility","hidden");l.css({display:"inline-block",clear:"both","float":"left","font-size":1E3*q.fontSizeFactor+"px","line-height":"1000px","white-space":q.whiteSpace,"text-align":q.textAlign,position:"relative",
padding:0,margin:0,left:"50%",top:"50%"});var f=parseInt(n.css("padding-left")),e=parseInt(n.css("padding-top")),b=parseInt(n.css("padding-right")),p=parseInt(n.css("padding-bottom")),a=l.outerWidth(),d=l.outerHeight(),c={};if(null!==q.rotateText){if("number"!==typeof q.rotateText)throw"bigText error: rotateText value must be a number";a="rotate("+q.rotateText+"deg)";c={"-webkit-transform":a,"-ms-transform":a,"-moz-transform":a,"-o-transform":a,transform:a};l.css(c);d=Math.abs(Math.sin(q.rotateText*
Math.PI/180));c=Math.abs(Math.cos(q.rotateText*Math.PI/180));a=l.outerWidth()*c+l.outerHeight()*d;d=l.outerWidth()*d+l.outerHeight()*c}var f=(n.innerWidth()-f-b)/a,e=(n.innerHeight()-e-p)/d,h;"width"===q.limitingDimension.toLowerCase()?(h=Math.floor(1E3*f),n.height(h)):"height"===q.limitingDimension.toLowerCase()?h=Math.floor(1E3*e):f<e?h=Math.floor(1E3*f):f>=e&&(h=Math.floor(1E3*e));e=h*q.fontSizeFactor;null!==q.maximumFontSize&&e>q.maximumFontSize&&(e=q.maximumFontSize,h=e/q.fontSizeFactor);l.css({"font-size":Math.floor(e)+
"px","line-height":Math.ceil(h)+"px","margin-bottom":"0px","margin-right":"0px"});"height"===q.limitingDimension.toLowerCase()&&n.width(l.width()+4+"px");n={};switch(q.verticalAlign.toLowerCase()){case "top":n.top="0%";break;case "bottom":n.top="100%";n["margin-top"]=Math.floor(-l.innerHeight())+"px";break;default:n["margin-top"]=Math.floor(-l.innerHeight()/2)+"px"}switch(q.horizontalAlign.toLowerCase()){case "left":n.left="0%";break;case "right":n.left="100%";n["margin-left"]=Math.floor(-l.innerWidth())+
"px";break;default:n["margin-left"]=Math.floor(-l.innerWidth()/2)+"px"}l.css(n);l.css("visibility","visible")})}})(jQuery);var DateFormat={};
!function(u){var g="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),q="Sun Mon Tue Wed Thu Fri Sat".split(" "),l="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),n="January February March April May June July August September October November December".split(" "),f={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},e=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d{0,3}[Z\-+]?(\d{2}:?\d{2})?/;u.format=function(){function b(a){var b,
c,e,f,g,n="";return-1!==a.indexOf(".")&&(f=a.split("."),a=f[0],n=f[f.length-1]),g=a.split(":"),3===g.length?(b=g[0],c=g[1],e=g[2].replace(/\s.+/,"").replace(/[a-z]/gi,""),a=a.replace(/\s.+/,"").replace(/[a-z]/gi,""),{time:a,hour:b,minute:c,second:e,millis:n}):{time:"",hour:"",minute:"",second:"",millis:""}}function p(a,b){for(var c=b-String(a).length,e=0;c>e;e++)a="0"+a;return a}return{parseDate:function(a){var d,c={date:null,year:null,month:null,dayOfMonth:null,dayOfWeek:null,time:null};if("number"==
typeof a)return this.parseDate(new Date(a));if("function"==typeof a.getFullYear)c.year=String(a.getFullYear()),c.month=String(a.getMonth()+1),c.dayOfMonth=String(a.getDate()),c.time=b(a.toTimeString()+"."+a.getMilliseconds());else if(-1!=a.search(e))d=a.split(/[T\+-]/),c.year=d[0],c.month=d[1],c.dayOfMonth=d[2],c.time=b(d[3].split(".")[0]);else switch(d=a.split(" "),6===d.length&&isNaN(d[5])&&(d[d.length]="()"),d.length){case 6:c.year=d[5];a=d[1];c.month=f[a]||a;c.dayOfMonth=d[2];c.time=b(d[3]);break;
case 2:a=d[0].split("-");c.year=a[0];c.month=a[1];c.dayOfMonth=a[2];c.time=b(d[1]);break;case 7:case 9:case 10:c.year=d[3];a=d[1];c.month=f[a]||a;c.dayOfMonth=d[2];c.time=b(d[4]);break;case 1:a=d[0].split("");c.year=a[0]+a[1]+a[2]+a[3];c.month=a[5]+a[6];c.dayOfMonth=a[8]+a[9];c.time=b(a[13]+a[14]+a[15]+a[16]+a[17]+a[18]+a[19]+a[20]);break;default:return null}return c.date=c.time?new Date(c.year,c.month-1,c.dayOfMonth,c.time.hour,c.time.minute,c.time.second,c.time.millis):new Date(c.year,c.month-1,
c.dayOfMonth),c.dayOfWeek=String(c.date.getDay()),c},date:function(a,b){try{var c=this.parseDate(a);if(null===c)return a;for(var e,f=c.year,u=c.month,G=c.dayOfMonth,F=c.dayOfWeek,r=c.time,m=c="",C="",A=!1,D=0;D<b.length;D++){var O=b.charAt(D),H=b.charAt(D+1);if(A)"'"==O?(m+=""===c?"'":c,c="",A=!1):c+=O;else switch(c+=O,C="",c){case "ddd":var t=m,z,L=F;z=g[parseInt(L,10)]||L;m=t+z;c="";break;case "dd":if("d"===H)break;m+=p(G,2);c="";break;case "d":if("d"===H)break;m+=parseInt(G,10);c="";break;case "D":G=
1==G||21==G||31==G?parseInt(G,10)+"st":2==G||22==G?parseInt(G,10)+"nd":3==G||23==G?parseInt(G,10)+"rd":parseInt(G,10)+"th";m+=G;c="";break;case "MMMM":var t=m,L=u,K=parseInt(L,10)-1,m=t+(n[K]||L),c="";break;case "MMM":if("M"===H)break;var t=m,L=u,V=parseInt(L,10)-1,m=t+(l[V]||L),c="";break;case "MM":if("M"===H)break;m+=p(u,2);c="";break;case "M":if("M"===H)break;m+=parseInt(u,10);c="";break;case "y":case "yyy":if("y"===H)break;m+=c;c="";break;case "yy":if("y"===H)break;m+=String(f).slice(-2);c="";
break;case "yyyy":m+=f;c="";break;case "HH":m+=p(r.hour,2);c="";break;case "H":if("H"===H)break;m+=parseInt(r.hour,10);c="";break;case "hh":e=0===parseInt(r.hour,10)?12:13>r.hour?r.hour:r.hour-12;m+=p(e,2);c="";break;case "h":if("h"===H)break;e=0===parseInt(r.hour,10)?12:13>r.hour?r.hour:r.hour-12;m+=parseInt(e,10);c="";break;case "mm":m+=p(r.minute,2);c="";break;case "m":if("m"===H)break;m+=r.minute;c="";break;case "ss":m+=p(r.second.substring(0,2),2);c="";break;case "s":if("s"===H)break;m+=r.second;
c="";break;case "S":case "SS":if("S"===H)break;m+=c;c="";break;case "SSS":var E="000"+r.millis.substring(0,3),m=m+E.substring(E.length-3),c="";break;case "a":m+=12<=r.hour?"PM":"AM";c="";break;case "p":m+=12<=r.hour?"p.m.":"a.m.";c="";break;case "E":var t=m,R,L=F;R=q[parseInt(L,10)]||L;m=t+R;c="";break;case "'":c="";A=!0;break;default:m+=O,c=""}}return m+C}catch(Y){return console&&console.log&&console.log(Y),a}},prettyDate:function(a){var b,c,e;return("string"==typeof a||"number"==typeof a)&&(b=new Date(a)),
"object"==typeof a&&(b=new Date(a.toString())),c=((new Date).getTime()-b.getTime())/1E3,e=Math.floor(c/86400),isNaN(e)||0>e?void 0:60>c?"just now":120>c?"1 minute ago":3600>c?Math.floor(c/60)+" minutes ago":7200>c?"1 hour ago":86400>c?Math.floor(c/3600)+" hours ago":1===e?"Yesterday":7>e?e+" days ago":31>e?Math.ceil(e/7)+" weeks ago":31<=e?"more than 5 weeks ago":void 0},toBrowserTimeZone:function(a,b){return this.date(new Date(a),b||"MM/dd/yyyy HH:mm:ss")}}}()}(DateFormat);
(function(u){u.format=DateFormat.format})(jQuery);(function(u,g,q){function l(a,b){this.bodyOverflowX;this.callbacks={hide:[],show:[]};this.checkInterval=null;this.Content;this.$el=u(a);this.$elProxy;this.elProxyPosition;this.enabled=!0;this.options=u.extend({},e,b);this.mouseIsOverProxy=!1;this.namespace="tooltipster-"+Math.round(1E5*Math.random());this.Status="hidden";this.timerShow=this.timerHide=null;this.$tooltip;this.options.iconTheme=this.options.iconTheme.replace(".","");this.options.theme=this.options.theme.replace(".","");this._init()}
function n(a,b){var c=!0;u.each(a,function(e,f){if("undefined"===typeof b[e]||a[e]!==b[e])return c=!1});return c}function f(){var a=(q.body||q.documentElement).style,b="transition";if("string"==typeof a[b])return!0;v=["Moz","Webkit","Khtml","O","ms"];for(var b=b.charAt(0).toUpperCase()+b.substr(1),c=0;c<v.length;c++)if("string"==typeof a[v[c]+b])return!0;return!1}var e={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,debug:!0,delay:200,minWidth:0,
maxWidth:null,functionInit:function(a,b){},functionBefore:function(a,b){b()},functionReady:function(a,b){},functionAfter:function(a){},hideOnClick:!1,icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,multiple:!1,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,positionTrackerCallback:function(a){"hover"==this.option("trigger")&&this.option("autoClose")&&this.hide()},restoration:"current",speed:350,timer:0,theme:"tooltipster-default",
touchDevices:!0,trigger:"hover",updateAnimation:!0};l.prototype={_init:function(){var a=this;if(q.querySelector){var d=null;void 0===a.$el.data("tooltipster-initialTitle")&&(d=a.$el.attr("title"),void 0===d&&(d=null),a.$el.data("tooltipster-initialTitle",d));null!==a.options.content?a._content_set(a.options.content):a._content_set(d);d=a.options.functionInit.call(a.$el,a.$el,a.Content);"undefined"!==typeof d&&a._content_set(d);a.$el.removeAttr("title").addClass("tooltipstered");!b&&a.options.iconDesktop||
b&&a.options.iconTouch?("string"===typeof a.options.icon?(a.$elProxy=u('<span class="'+a.options.iconTheme+'"></span>'),a.$elProxy.text(a.options.icon)):a.$elProxy=a.options.iconCloning?a.options.icon.clone(!0):a.options.icon,a.$elProxy.insertAfter(a.$el)):a.$elProxy=a.$el;if("hover"==a.options.trigger){if(a.$elProxy.on("mouseenter."+a.namespace,function(){if(p||!b||a.options.touchDevices)a.mouseIsOverProxy=!0,a._show()}).on("mouseleave."+a.namespace,function(){if(p||!b||a.options.touchDevices)a.mouseIsOverProxy=
!1}),b&&a.options.touchDevices)a.$elProxy.on("touchstart."+a.namespace,function(){a._showNow()})}else if("click"==a.options.trigger)a.$elProxy.on("click."+a.namespace,function(){(p||!b||a.options.touchDevices)&&a._show()})}},_show:function(){var a=this;"shown"!=a.Status&&"appearing"!=a.Status&&(a.options.delay?a.timerShow=setTimeout(function(){("click"==a.options.trigger||"hover"==a.options.trigger&&a.mouseIsOverProxy)&&a._showNow()},a.options.delay):a._showNow())},_showNow:function(a){var d=this;
d.options.functionBefore.call(d.$el,d.$el,function(){if(d.enabled&&null!==d.Content){a&&d.callbacks.show.push(a);d.callbacks.hide=[];clearTimeout(d.timerShow);d.timerShow=null;clearTimeout(d.timerHide);d.timerHide=null;d.options.onlyOne&&u(".tooltipstered").not(d.$el).each(function(a,b){var c=u(b),d=c.data("tooltipster-ns");u.each(d,function(a,b){var d=c.data(b),e=d.status(),f=d.option("autoClose");"hidden"!==e&&"disappearing"!==e&&f&&d.hide()})});var c=function(){d.Status="shown";u.each(d.callbacks.show,
function(a,b){b.call(d.$el)});d.callbacks.show=[]};if("hidden"!==d.Status){var e=0;"disappearing"===d.Status?(d.Status="appearing",f()?(d.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+d.options.animation+"-show"),0<d.options.speed&&d.$tooltip.delay(d.options.speed),d.$tooltip.queue(c)):d.$tooltip.stop().fadeIn(c)):"shown"===d.Status&&c()}else{d.Status="appearing";e=d.options.speed;d.bodyOverflowX=u("body").css("overflow-x");u("body").css("overflow-x","hidden");var k=
"tooltipster-"+d.options.animation;d.$tooltip=u('<div class="tooltipster-base '+d.options.theme+'" style="'+(d.options.minWidth?"min-width:"+Math.round(d.options.minWidth)+"px;":"")+" "+(d.options.maxWidth?"max-width:"+Math.round(d.options.maxWidth)+"px;":"")+" "+(d.options.interactive?"pointer-events: auto;":"")+" "+("-webkit-transition-duration: "+d.options.speed+"ms; -webkit-animation-duration: "+d.options.speed+"ms; -moz-transition-duration: "+d.options.speed+"ms; -moz-animation-duration: "+d.options.speed+
"ms; -o-transition-duration: "+d.options.speed+"ms; -o-animation-duration: "+d.options.speed+"ms; -ms-transition-duration: "+d.options.speed+"ms; -ms-animation-duration: "+d.options.speed+"ms; transition-duration: "+d.options.speed+"ms; animation-duration: "+d.options.speed+"ms;")+'"><div class="tooltipster-content"></div></div>');f()&&d.$tooltip.addClass(k);d._content_insert();d.$tooltip.appendTo("body");d.reposition();d.options.functionReady.call(d.$el,d.$el,d.$tooltip);f()?(d.$tooltip.addClass(k+
"-show"),0<d.options.speed&&d.$tooltip.delay(d.options.speed),d.$tooltip.queue(c)):d.$tooltip.css("display","none").fadeIn(d.options.speed,c);d._interval_set();u(g).on("scroll."+d.namespace+" resize."+d.namespace,function(){d.reposition()});if(d.options.autoClose)if(u("body").off("."+d.namespace),"hover"==d.options.trigger){b&&setTimeout(function(){u("body").on("touchstart."+d.namespace,function(){d.hide()})},0);if(d.options.interactive){if(b)d.$tooltip.on("touchstart."+d.namespace,function(a){a.stopPropagation()});
var n=null;d.$elProxy.add(d.$tooltip).on("mouseleave."+d.namespace+"-autoClose",function(){clearTimeout(n);n=setTimeout(function(){d.hide()},d.options.interactiveTolerance)}).on("mouseenter."+d.namespace+"-autoClose",function(){clearTimeout(n)})}else d.$elProxy.on("mouseleave."+d.namespace+"-autoClose",function(){d.hide()});if(d.options.hideOnClick)d.$elProxy.on("click."+d.namespace+"-autoClose",function(){d.hide()})}else if("click"==d.options.trigger&&(setTimeout(function(){u("body").on("click."+
d.namespace+" touchstart."+d.namespace,function(){d.hide()})},0),d.options.interactive))d.$tooltip.on("click."+d.namespace+" touchstart."+d.namespace,function(a){a.stopPropagation()})}0<d.options.timer&&(d.timerHide=setTimeout(function(){d.timerHide=null;d.hide()},d.options.timer+e))}})},_interval_set:function(){var a=this;a.checkInterval=setInterval(function(){if(0===u("body").find(a.$el).length||0===u("body").find(a.$elProxy).length||"hidden"==a.Status||0===u("body").find(a.$tooltip).length)"shown"!=
a.Status&&"appearing"!=a.Status||a.hide(),a._interval_cancel();else if(a.options.positionTracker){var b=a._repositionInfo(a.$elProxy),c=!1;n(b.dimension,a.elProxyPosition.dimension)&&("fixed"===a.$elProxy.css("position")?n(b.position,a.elProxyPosition.position)&&(c=!0):n(b.offset,a.elProxyPosition.offset)&&(c=!0));c||(a.reposition(),a.options.positionTrackerCallback.call(a,a.$el))}},200)},_interval_cancel:function(){clearInterval(this.checkInterval);this.checkInterval=null},_content_set:function(a){"object"===
typeof a&&null!==a&&this.options.contentCloning&&(a=a.clone(!0));this.Content=a},_content_insert:function(){var a=this.$tooltip.find(".tooltipster-content");"string"!==typeof this.Content||this.options.contentAsHTML?a.empty().append(this.Content):a.text(this.Content)},_update:function(a){var b=this;b._content_set(a);null!==b.Content?"hidden"!==b.Status&&(b._content_insert(),b.reposition(),b.options.updateAnimation&&(f()?(b.$tooltip.css({width:"","-webkit-transition":"all "+b.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",
"-moz-transition":"all "+b.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+b.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+b.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+b.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!=b.Status&&(b.$tooltip.removeClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!==
b.Status&&b.$tooltip.css({"-webkit-transition":b.options.speed+"ms","-moz-transition":b.options.speed+"ms","-o-transition":b.options.speed+"ms","-ms-transition":b.options.speed+"ms",transition:b.options.speed+"ms"})},b.options.speed))},b.options.speed)):b.$tooltip.fadeTo(b.options.speed,.5,function(){"hidden"!=b.Status&&b.$tooltip.fadeTo(b.options.speed,1)}))):b.hide()},_repositionInfo:function(a){return{dimension:{height:a.outerHeight(!1),width:a.outerWidth(!1)},offset:a.offset(),position:{left:parseInt(a.css("left")),
top:parseInt(a.css("top"))}}},hide:function(a){var b=this;a&&b.callbacks.hide.push(a);b.callbacks.show=[];clearTimeout(b.timerShow);b.timerShow=null;clearTimeout(b.timerHide);b.timerHide=null;var c=function(){u.each(b.callbacks.hide,function(a,c){c.call(b.$el)});b.callbacks.hide=[]};"shown"==b.Status||"appearing"==b.Status?(b.Status="disappearing",a=function(){b.Status="hidden";"object"==typeof b.Content&&null!==b.Content&&b.Content.detach();b.$tooltip.remove();b.$tooltip=null;u(g).off("."+b.namespace);
u("body").off("."+b.namespace).css("overflow-x",b.bodyOverflowX);u("body").off("."+b.namespace);b.$elProxy.off("."+b.namespace+"-autoClose");b.options.functionAfter.call(b.$el,b.$el);c()},f()?(b.$tooltip.clearQueue().removeClass("tooltipster-"+b.options.animation+"-show").addClass("tooltipster-dying"),0<b.options.speed&&b.$tooltip.delay(b.options.speed),b.$tooltip.queue(a)):b.$tooltip.stop().fadeOut(b.options.speed,a)):"hidden"==b.Status&&c();return b},show:function(a){this._showNow(a);return this},
update:function(a){return this.content(a)},content:function(a){if("undefined"===typeof a)return this.Content;this._update(a);return this},reposition:function(){if(0!==u("body").find(this.$tooltip).length){var a=function(a,b){0>f.offset.top-u(g).scrollTop()-l-V-12&&-1<b.indexOf("top")&&(E=a);f.offset.top+f.dimension.height+l+12+V>u(g).scrollTop()+u(g).height()&&-1<b.indexOf("bottom")&&(E=a,K=f.offset.top-l-V-12)},b=function(){var a=u(g).scrollLeft();0>L-a&&(c=L-a,L=a);L+n-a>e&&(c=L-(e+a-n),L=e+a-n)};
this.$tooltip.css("width","");this.elProxyPosition=this._repositionInfo(this.$elProxy);var c=null,e=u(g).width(),f=this.elProxyPosition,n=this.$tooltip.outerWidth(!1);this.$tooltip.innerWidth();var l=this.$tooltip.outerHeight(!1);if(this.$elProxy.is("area")){var p=this.$elProxy.attr("shape"),r=this.$elProxy.parent().attr("name"),m=u('img[usemap="#'+r+'"]'),r=m.offset().left,q=m.offset().top,A=void 0!==this.$elProxy.attr("coords")?this.$elProxy.attr("coords").split(","):void 0;if("circle"==p)p=parseInt(A[0]),
m=parseInt(A[1]),A=parseInt(A[2]),f.dimension.height=2*A,f.dimension.width=2*A,f.offset.top=q+m-A,f.offset.left=r+p-A;else if("rect"==p){var p=parseInt(A[0]),m=parseInt(A[1]),D=parseInt(A[2]),A=parseInt(A[3]);f.dimension.height=A-m;f.dimension.width=D-p;f.offset.top=q+m;f.offset.left=r+p}else if("poly"==p){for(var O=D=m=p=0,H="even",t=0;t<A.length;t++){var z=parseInt(A[t]);"even"==H?(z>D&&(D=z,0===t&&(p=D)),z<p&&(p=z),H="odd"):(z>O&&(O=z,1==t&&(m=O)),z<m&&(m=z),H="even")}f.dimension.height=O-m;f.dimension.width=
D-p;f.offset.top=q+m;f.offset.left=r+p}else f.dimension.height=m.outerHeight(!1),f.dimension.width=m.outerWidth(!1),f.offset.top=q,f.offset.left=r}var L=0,K=q=0,V=parseInt(this.options.offsetY),r=parseInt(this.options.offsetX),E=this.options.position;"top"==E&&(q=f.offset.left+n-(f.offset.left+f.dimension.width),L=f.offset.left+r-q/2,K=f.offset.top-l-V-12,b(),a("bottom","top"));"top-left"==E&&(L=f.offset.left+r,K=f.offset.top-l-V-12,b(),a("bottom-left","top-left"));"top-right"==E&&(L=f.offset.left+
f.dimension.width+r-n,K=f.offset.top-l-V-12,b(),a("bottom-right","top-right"));"bottom"==E&&(q=f.offset.left+n-(f.offset.left+f.dimension.width),L=f.offset.left-q/2+r,K=f.offset.top+f.dimension.height+V+12,b(),a("top","bottom"));"bottom-left"==E&&(L=f.offset.left+r,K=f.offset.top+f.dimension.height+V+12,b(),a("top-left","bottom-left"));"bottom-right"==E&&(L=f.offset.left+f.dimension.width+r-n,K=f.offset.top+f.dimension.height+V+12,b(),a("top-right","bottom-right"));"left"==E&&(L=f.offset.left-r-n-
12,q=f.offset.left+r+f.dimension.width+12,a=f.offset.top+l-(f.offset.top+f.dimension.height),K=f.offset.top-a/2-V,0>L&&q+n>e?(a=2*parseFloat(this.$tooltip.css("border-width")),b=n+L-a,this.$tooltip.css("width",b+"px"),l=this.$tooltip.outerHeight(!1),L=f.offset.left-r-b-12-a,a=f.offset.top+l-(f.offset.top+f.dimension.height),K=f.offset.top-a/2-V):0>L&&(L=f.offset.left+r+f.dimension.width+12,c="left"));"right"==E&&(L=f.offset.left+r+f.dimension.width+12,q=f.offset.left-r-n-12,a=f.offset.top+l-(f.offset.top+
f.dimension.height),K=f.offset.top-a/2-V,L+n>e&&0>q?(a=2*parseFloat(this.$tooltip.css("border-width")),this.$tooltip.css("width",e-L-a+"px"),l=this.$tooltip.outerHeight(!1),a=f.offset.top+l-(f.offset.top+f.dimension.height),K=f.offset.top-a/2-V):L+n>e&&(L=f.offset.left-r-n-12,c="right"));this.options.arrow&&(a="tooltipster-arrow-"+E,b=1>this.options.arrowColor.length?this.$tooltip.css("background-color"):this.options.arrowColor,c?"left"==c?(a="tooltipster-arrow-right",c=""):"right"==c?(a="tooltipster-arrow-left",
c=""):c="left:"+Math.round(c)+"px;":c="","top"==E||"top-left"==E||"top-right"==E?(r=parseFloat(this.$tooltip.css("border-bottom-width")),q=this.$tooltip.css("border-bottom-color")):"bottom"==E||"bottom-left"==E||"bottom-right"==E?(r=parseFloat(this.$tooltip.css("border-top-width")),q=this.$tooltip.css("border-top-color")):"left"==E?(r=parseFloat(this.$tooltip.css("border-right-width")),q=this.$tooltip.css("border-right-color")):"right"==E?(r=parseFloat(this.$tooltip.css("border-left-width")),q=this.$tooltip.css("border-left-color")):
(r=parseFloat(this.$tooltip.css("border-bottom-width")),q=this.$tooltip.css("border-bottom-color")),1<r&&r++,A="",0!==r&&(A="",q="border-color: "+q+";",-1!==a.indexOf("bottom")?A="margin-top: -"+Math.round(r)+"px;":-1!==a.indexOf("top")?A="margin-bottom: -"+Math.round(r)+"px;":-1!==a.indexOf("left")?A="margin-right: -"+Math.round(r)+"px;":-1!==a.indexOf("right")&&(A="margin-left: -"+Math.round(r)+"px;"),A='<span class="tooltipster-arrow-border" style="'+A+" "+q+';"></span>'),this.$tooltip.find(".tooltipster-arrow").remove(),
this.$tooltip.append('<div class="'+a+' tooltipster-arrow" style="'+c+'">'+A+'<span style="border-color:'+b+';"></span></div>'));this.$tooltip.css({top:Math.round(K)+"px",left:Math.round(L)+"px"})}return this},enable:function(){this.enabled=!0;return this},disable:function(){this.hide();this.enabled=!1;return this},destroy:function(){var a=this;a.hide();a.$el[0]!==a.$elProxy[0]&&a.$elProxy.remove();a.$el.removeData(a.namespace).off("."+a.namespace);var b=a.$el.data("tooltipster-ns");1===b.length?
(b=null,"previous"===a.options.restoration?b=a.$el.data("tooltipster-initialTitle"):"current"===a.options.restoration&&(b="string"===typeof a.Content?a.Content:u("<div></div>").append(a.Content).html()),b&&a.$el.attr("title",b),a.$el.removeClass("tooltipstered").removeData("tooltipster-ns").removeData("tooltipster-initialTitle")):(b=u.grep(b,function(b,d){return b!==a.namespace}),a.$el.data("tooltipster-ns",b));return a},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:
void 0},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:void 0},option:function(a,b){if("undefined"==typeof b)return this.options[a];this.options[a]=b;return this},status:function(){return this.Status}};u.fn.tooltipster=function(){var a=arguments;if(0===this.length){if("string"===typeof a[0]){var b=!0;switch(a[0]){case "setDefaults":u.extend(e,a[1]);break;default:b=!1}return b?!0:this}return this}if("string"===typeof a[0]){var c="#*$~&";this.each(function(){var b=u(this).data("tooltipster-ns");
if(b=b?u(this).data(b[0]):null){if("function"===typeof b[a[0]])var d=b[a[0]](a[1],a[2]);else throw Error('Unknown method .tooltipster("'+a[0]+'")');if(d!==b)return c=d,!1}else throw Error("You called Tooltipster's \""+a[0]+'" method on an uninitialized element');});return"#*$~&"!==c?c:this}var f=[],g=(b=a[0]&&"undefined"!==typeof a[0].multiple)&&a[0].multiple||!b&&e.multiple,n=(b=a[0]&&"undefined"!==typeof a[0].debug)&&a[0].debug||!b&&e.debug;this.each(function(){var b=!1,c=u(this).data("tooltipster-ns"),
d=null;c?g?b=!0:n&&console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.'):b=!0;b&&(d=new l(this,a[0]),c||(c=[]),c.push(d.namespace),u(this).data("tooltipster-ns",c),u(this).data(d.namespace,d));f.push(d)});return g?f:this};var b=!!("ontouchstart"in g),p=!1;u("body").one("mousemove",function(){p=!0})})(jQuery,window,document);!function(u){"function"==typeof define&&define.amd?define(["jquery"],u):u(jQuery)}(function(u){u.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],hasImageAttributes:["srcset"]};u.expr[":"]["has-src"]=function(g){return u(g).is('img[src][src!=""]')};u.expr[":"].uncached=function(g){return u(g).is(":has-src")?!g.complete:!1};u.fn.waitForImages=function(){var g,q,l,n=0,f=0,e=u.Deferred();if(u.isPlainObject(arguments[0])?(l=arguments[0].waitForAll,
q=arguments[0].each,g=arguments[0].finished):1===arguments.length&&"boolean"===u.type(arguments[0])?l=arguments[0]:(g=arguments[0],q=arguments[1],l=arguments[2]),g=g||u.noop,q=q||u.noop,l=!!l,!u.isFunction(g)||!u.isFunction(q))throw new TypeError("An invalid callback was supplied.");return this.each(function(){var b=u(this),p=[],a=u.waitForImages.hasImageProperties||[],d=u.waitForImages.hasImageAttributes||[],c=/url\(\s*(['"]?)(.*?)\1\s*\)/g;l?b.find("*").addBack().each(function(){var b=u(this);b.is("img:has-src")&&
p.push({src:b.attr("src"),element:b[0]});u.each(a,function(a,d){var e,f=b.css(d);if(!f)return!0;for(;e=c.exec(f);)p.push({src:e[2],element:b[0]})});u.each(d,function(a,c){var d,e=b.attr(c);return e?(d=e.split(","),void u.each(d,function(a,c){c=u.trim(c).split(" ")[0];p.push({src:c,element:b[0]})})):!0})}):b.find("img:has-src").each(function(){p.push({src:this.src,element:this})});n=p.length;f=0;0===n&&(g.call(b[0]),e.resolveWith(b[0]));u.each(p,function(a,c){var d=new Image;u(d).one("load.waitForImages error.waitForImages",
function F(a){a=[f,n,"load"==a.type];return f++,q.apply(c.element,a),e.notifyWith(c.element,a),u(this).off("load.waitForImages error.waitForImages",F),f==n?(g.call(b[0]),e.resolveWith(b[0]),!1):void 0});d.src=c.src})}),e.promise()}});!function(u){"object"==typeof exports&&"undefined"!=typeof module?module.exports=u():"function"==typeof define&&define.amd?define([],u):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).pako=u()}(function(){return function g(q,l,n){function f(b,a){if(!l[b]){if(!q[b]){var d="function"==typeof require&&require;if(!a&&d)return d(b,!0);if(e)return e(b,!0);d=Error("Cannot find module '"+b+"'");throw d.code="MODULE_NOT_FOUND",d;}d=l[b]={exports:{}};
q[b][0].call(d.exports,function(a){var d=q[b][1][a];return f(d?d:a)},d,d.exports,g,q,l,n)}return l[b].exports}for(var e="function"==typeof require&&require,b=0;b<n.length;b++)f(n[b]);return f}({1:[function(g,q,l){function n(a,b){var d=new c(b);if(d.push(a,!0),d.err)throw d.msg;return d.result}var f=g("./zlib/deflate.js"),e=g("./utils/common"),b=g("./utils/strings"),p=g("./zlib/messages"),a=g("./zlib/zstream"),d=Object.prototype.toString,c=function(b){b=this.options=e.assign({level:-1,method:8,chunkSize:16384,
windowBits:15,memLevel:8,strategy:0,to:""},b||{});b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&16>b.windowBits&&(b.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new a;this.strm.avail_out=0;var c=f.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(0!==c)throw Error(p[c]);b.header&&f.deflateSetHeader(this.strm,b.header)};c.prototype.push=function(a,c){var g,n,l=this.strm,r=this.options.chunkSize;if(this.ended)return!1;
n=c===~~c?c:!0===c?4:0;"string"==typeof a?l.input=b.string2buf(a):"[object ArrayBuffer]"===d.call(a)?l.input=new Uint8Array(a):l.input=a;l.next_in=0;l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new e.Buf8(r),l.next_out=0,l.avail_out=r),g=f.deflate(l,n),1!==g&&0!==g)return this.onEnd(g),this.ended=!0,!1;0!==l.avail_out&&(0!==l.avail_in||4!==n&&2!==n)||this.onData("string"===this.options.to?b.buf2binstring(e.shrinkBuf(l.output,l.next_out)):e.shrinkBuf(l.output,l.next_out))}while((0<l.avail_in||
0===l.avail_out)&&1!==g);return 4===n?(g=f.deflateEnd(this.strm),this.onEnd(g),this.ended=!0,0===g):2===n?(this.onEnd(0),l.avail_out=0,!0):!0};c.prototype.onData=function(a){this.chunks.push(a)};c.prototype.onEnd=function(a){0===a&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks));this.chunks=[];this.err=a;this.msg=this.strm.msg};l.Deflate=c;l.deflate=n;l.deflateRaw=function(a,b){return b=b||{},b.raw=!0,n(a,b)};l.gzip=function(a,b){return b=b||
{},b.gzip=!0,n(a,b)}},{"./utils/common":3,"./utils/strings":4,"./zlib/deflate.js":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(g,q,l){function n(a,b){var c=new k(b);if(c.push(a,!0),c.err)throw c.msg;return c.result}var f=g("./zlib/inflate.js"),e=g("./utils/common"),b=g("./utils/strings"),p=g("./zlib/constants"),a=g("./zlib/messages"),d=g("./zlib/zstream"),c=g("./zlib/gzheader"),h=Object.prototype.toString,k=function(b){var g=this.options=e.assign({chunkSize:16384,windowBits:0,to:""},b||
{});g.raw&&0<=g.windowBits&&16>g.windowBits&&(g.windowBits=-g.windowBits,0===g.windowBits&&(g.windowBits=-15));!(0<=g.windowBits&&16>g.windowBits)||b&&b.windowBits||(g.windowBits+=32);15<g.windowBits&&48>g.windowBits&&0===(15&g.windowBits)&&(g.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new d;this.strm.avail_out=0;b=f.inflateInit2(this.strm,g.windowBits);if(b!==p.Z_OK)throw Error(a[b]);this.header=new c;f.inflateGetHeader(this.strm,this.header)};k.prototype.push=
function(a,c){var d,g,k,n,l,q=this.strm,O=this.options.chunkSize,H=!1;if(this.ended)return!1;g=c===~~c?c:!0===c?p.Z_FINISH:p.Z_NO_FLUSH;"string"==typeof a?q.input=b.binstring2buf(a):"[object ArrayBuffer]"===h.call(a)?q.input=new Uint8Array(a):q.input=a;q.next_in=0;q.avail_in=q.input.length;do{if(0===q.avail_out&&(q.output=new e.Buf8(O),q.next_out=0,q.avail_out=O),d=f.inflate(q,p.Z_NO_FLUSH),d===p.Z_BUF_ERROR&&!0===H&&(d=p.Z_OK,H=!1),d!==p.Z_STREAM_END&&d!==p.Z_OK)return this.onEnd(d),this.ended=!0,
!1;q.next_out&&(0===q.avail_out||d===p.Z_STREAM_END||0===q.avail_in&&(g===p.Z_FINISH||g===p.Z_SYNC_FLUSH))&&("string"===this.options.to?(k=b.utf8border(q.output,q.next_out),n=q.next_out-k,l=b.buf2string(q.output,k),q.next_out=n,q.avail_out=O-n,n&&e.arraySet(q.output,q.output,k,n,0),this.onData(l)):this.onData(e.shrinkBuf(q.output,q.next_out)));0===q.avail_in&&0===q.avail_out&&(H=!0)}while((0<q.avail_in||0===q.avail_out)&&d!==p.Z_STREAM_END);return d===p.Z_STREAM_END&&(g=p.Z_FINISH),g===p.Z_FINISH?
(d=f.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===p.Z_OK):g===p.Z_SYNC_FLUSH?(this.onEnd(p.Z_OK),q.avail_out=0,!0):!0};k.prototype.onData=function(a){this.chunks.push(a)};k.prototype.onEnd=function(a){a===p.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks));this.chunks=[];this.err=a;this.msg=this.strm.msg};l.Inflate=k;l.inflate=n;l.inflateRaw=function(a,b){return b=b||{},b.raw=!0,n(a,b)};l.ungzip=n},{"./utils/common":3,"./utils/strings":4,
"./zlib/constants":6,"./zlib/gzheader":9,"./zlib/inflate.js":11,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(g,q,l){g="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;l.assign=function(e){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var f=b.shift();if(f){if("object"!=typeof f)throw new TypeError(f+"must be non-object");for(var a in f)f.hasOwnProperty(a)&&(e[a]=f[a])}}return e};l.shrinkBuf=function(e,b){return e.length===b?e:
e.subarray?e.subarray(0,b):(e.length=b,e)};var n={arraySet:function(e,b,f,a,d){if(b.subarray&&e.subarray)return void e.set(b.subarray(f,f+a),d);for(var c=0;a>c;c++)e[d+c]=b[f+c]},flattenChunks:function(e){var b,f,a,d,c;b=a=0;for(f=e.length;f>b;b++)a+=e[b].length;c=new Uint8Array(a);b=a=0;for(f=e.length;f>b;b++)d=e[b],c.set(d,a),a+=d.length;return c}},f={arraySet:function(e,b,f,a,d){for(var c=0;a>c;c++)e[d+c]=b[f+c]},flattenChunks:function(e){return[].concat.apply([],e)}};l.setTyped=function(e){e?
(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,n)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,f))};l.setTyped(g)},{}],4:[function(g,q,l){function n(a,d){if(65537>d&&(a.subarray&&b||!a.subarray&&e))return String.fromCharCode.apply(null,f.shrinkBuf(a,d));for(var c="",g=0;d>g;g++)c+=String.fromCharCode(a[g]);return c}var f=g("./common"),e=!0,b=!0;try{String.fromCharCode.apply(null,[0])}catch(a){e=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){b=!1}var p=
new f.Buf8(256);for(g=0;256>g;g++)p[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;p[254]=p[254]=1;l.string2buf=function(a){var b,c,e,g,n,l=a.length,q=0;for(g=0;l>g;g++)c=a.charCodeAt(g),55296===(64512&c)&&l>g+1&&(e=a.charCodeAt(g+1),56320===(64512&e)&&(c=65536+(c-55296<<10)+(e-56320),g++)),q+=128>c?1:2048>c?2:65536>c?3:4;b=new f.Buf8(q);for(g=n=0;q>n;g++)c=a.charCodeAt(g),55296===(64512&c)&&l>g+1&&(e=a.charCodeAt(g+1),56320===(64512&e)&&(c=65536+(c-55296<<10)+(e-56320),g++)),128>c?b[n++]=c:2048>
c?(b[n++]=192|c>>>6,b[n++]=128|63&c):65536>c?(b[n++]=224|c>>>12,b[n++]=128|c>>>6&63,b[n++]=128|63&c):(b[n++]=240|c>>>18,b[n++]=128|c>>>12&63,b[n++]=128|c>>>6&63,b[n++]=128|63&c);return b};l.buf2binstring=function(a){return n(a,a.length)};l.binstring2buf=function(a){for(var b=new f.Buf8(a.length),c=0,e=b.length;e>c;c++)b[c]=a.charCodeAt(c);return b};l.buf2string=function(a,b){var c,e,f,g,l=b||a.length,q=Array(2*l);for(c=e=0;l>c;)if(f=a[c++],128>f)q[e++]=f;else if(g=p[f],4<g)q[e++]=65533,c+=g-1;else{for(f&=
2===g?31:3===g?15:7;1<g&&l>c;)f=f<<6|63&a[c++],g--;1<g?q[e++]=65533:65536>f?q[e++]=f:(f-=65536,q[e++]=55296|f>>10&1023,q[e++]=56320|1023&f)}return n(q,e)};l.utf8border=function(a,b){var c;b=b||a.length;b>a.length&&(b=a.length);for(c=b-1;0<=c&&128===(192&a[c]);)c--;return 0>c?b:0===c?b:c+p[a[c]]>b?c:b}},{"./common":3}],5:[function(g,q,l){q.exports=function(g,f,e,b){var l=65535&g|0;g=g>>>16&65535|0;for(var a=0;0!==e;){a=2E3<e?2E3:e;e-=a;do l=l+f[b++]|0,g=g+l|0;while(--a);l%=65521;g%=65521}return l|
g<<16|0}},{}],6:[function(g,q,l){q.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(g,q,l){var n=function(){for(var f,e=[],b=0;256>b;b++){f=b;
for(var g=0;8>g;g++)f=1&f?3988292384^f>>>1:f>>>1;e[b]=f}return e}();q.exports=function(f,e,b,g){b=g+b;for(f^=-1;b>g;g++)f=f>>>8^n[255&(f^e[g])];return-1^f}},{}],8:[function(g,q,l){function n(a,b){return a.msg=H[b],b}function f(a){for(var b=a.length;0<=--b;)a[b]=0}function e(a){var b=a.state,c=b.pending;c>a.avail_out&&(c=a.avail_out);0!==c&&(C.arraySet(a.output,b.pending_buf,b.pending_out,c,a.next_out),a.next_out+=c,b.pending_out+=c,a.total_out+=c,a.avail_out-=c,b.pending-=c,0===b.pending&&(b.pending_out=
0))}function b(a,b){A._tr_flush_block(a,0<=a.block_start?a.block_start:-1,a.strstart-a.block_start,b);a.block_start=a.strstart;e(a.strm)}function p(a,b){a.pending_buf[a.pending++]=b}function a(a,b){a.pending_buf[a.pending++]=b>>>8&255;a.pending_buf[a.pending++]=255&b}function d(a,b){var c,d,e=a.max_chain_length,f=a.strstart,g=a.prev_length,h=a.nice_match,k=a.strstart>a.w_size-T?a.strstart-(a.w_size-T):0,m=a.window,n=a.w_mask,l=a.prev,z=a.strstart+I,r=m[f+g-1],q=m[f+g];a.prev_length>=a.good_match&&
(e>>=2);h>a.lookahead&&(h=a.lookahead);do if(c=b,m[c+g]===q&&m[c+g-1]===r&&m[c]===m[f]&&m[++c]===m[f+1]){f+=2;for(c++;m[++f]===m[++c]&&m[++f]===m[++c]&&m[++f]===m[++c]&&m[++f]===m[++c]&&m[++f]===m[++c]&&m[++f]===m[++c]&&m[++f]===m[++c]&&m[++f]===m[++c]&&z>f;);if(d=I-(z-f),f=z-I,d>g){if(a.match_start=b,g=d,d>=h)break;r=m[f+g-1];q=m[f+g]}}while((b=l[b&n])>k&&0!==--e);return g<=a.lookahead?g:a.lookahead}function c(a){var b,c,d,e,f=a.w_size;do{if(e=a.window_size-a.lookahead-a.strstart,a.strstart>=f+(f-
T)){C.arraySet(a.window,a.window,f,f,0);a.match_start-=f;a.strstart-=f;a.block_start-=f;b=c=a.hash_size;do d=a.head[--b],a.head[b]=d>=f?d-f:0;while(--c);b=c=f;do d=a.prev[--b],a.prev[b]=d>=f?d-f:0;while(--c);e+=f}if(0===a.strm.avail_in)break;b=a.strm;d=a.window;var g=a.strstart+a.lookahead,h=b.avail_in;if(c=(h>e&&(h=e),0===h?0:(b.avail_in-=h,C.arraySet(d,b.input,b.next_in,h,g),1===b.state.wrap?b.adler=D(b.adler,d,h,g):2===b.state.wrap&&(b.adler=O(b.adler,d,h,g)),b.next_in+=h,b.total_in+=h,h)),a.lookahead+=
c,a.lookahead+a.insert>=J)for(e=a.strstart-a.insert,a.ins_h=a.window[e],a.ins_h=(a.ins_h<<a.hash_shift^a.window[e+1])&a.hash_mask;a.insert&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[e+J-1])&a.hash_mask,a.prev[e&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=e,e++,a.insert--,!(a.lookahead+a.insert<J)););}while(a.lookahead<T&&0!==a.strm.avail_in)}function h(a,e){for(var f,g;;){if(a.lookahead<T){if(c(a),a.lookahead<T&&e===t)return N;if(0===a.lookahead)break}if(f=0,a.lookahead>=J&&(a.ins_h=(a.ins_h<<a.hash_shift^
a.window[a.strstart+J-1])&a.hash_mask,f=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),0!==f&&a.strstart-f<=a.w_size-T&&(a.match_length=d(a,f)),a.match_length>=J)if(g=A._tr_tally(a,a.strstart-a.match_start,a.match_length-J),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=J){a.match_length--;do a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+J-1])&a.hash_mask,f=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;
while(0!==--a.match_length);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else g=A._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(g&&(b(a,!1),0===a.strm.avail_out))return N}return a.insert=a.strstart<J-1?a.strstart:J-1,e===z?(b(a,!0),0===a.strm.avail_out?ba:X):a.last_lit&&(b(a,!1),0===a.strm.avail_out)?N:W}function k(a,e){for(var f,g,h;;){if(a.lookahead<T){if(c(a),a.lookahead<
T&&e===t)return N;if(0===a.lookahead)break}if(f=0,a.lookahead>=J&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+J-1])&a.hash_mask,f=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=J-1,0!==f&&a.prev_length<a.max_lazy_match&&a.strstart-f<=a.w_size-T&&(a.match_length=d(a,f),5>=a.match_length&&(a.strategy===E||a.match_length===J&&4096<a.strstart-a.match_start)&&(a.match_length=J-1)),a.prev_length>=J&&
a.match_length<=a.prev_length){h=a.strstart+a.lookahead-J;g=A._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-J);a.lookahead-=a.prev_length-1;a.prev_length-=2;do++a.strstart<=h&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+J-1])&a.hash_mask,f=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(0!==--a.prev_length);if(a.match_available=0,a.match_length=J-1,a.strstart++,g&&(b(a,!1),0===a.strm.avail_out))return N}else if(a.match_available){if(g=A._tr_tally(a,0,a.window[a.strstart-
1]),g&&b(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return N}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(A._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<J-1?a.strstart:J-1,e===z?(b(a,!0),0===a.strm.avail_out?ba:X):a.last_lit&&(b(a,!1),0===a.strm.avail_out)?N:W}function y(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=
x;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new C.Buf16(2*Z);this.dyn_dtree=new C.Buf16(2*(2*aa+1));this.bl_tree=
new C.Buf16(2*(2*M+1));f(this.dyn_ltree);f(this.dyn_dtree);f(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new C.Buf16(P+1);this.heap=new C.Buf16(2*B+1);f(this.heap);this.heap_max=this.heap_len=0;this.depth=new C.Buf16(2*B+1);f(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function G(a){var b;return a&&a.state?(a.total_in=a.total_out=0,a.data_type=Y,b=a.state,b.pending=0,b.pending_out=
0,0>b.wrap&&(b.wrap=-b.wrap),b.status=b.wrap?Q:S,a.adler=2===b.wrap?0:1,b.last_flush=t,A._tr_init(b),L):n(a,K)}function F(a){var b=G(a);b===L&&(a=a.state,a.window_size=2*a.w_size,f(a.head),a.max_lazy_match=m[a.level].max_lazy,a.good_match=m[a.level].good_length,a.nice_match=m[a.level].nice_length,a.max_chain_length=m[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=J-1,a.match_available=0,a.ins_h=0);return b}function r(a,b,c,d,e,f){if(!a)return K;
var g=1;if(b===V&&(b=6),0>d?(g=0,d=-d):15<d&&(g=2,d-=16),1>e||e>w||c!==x||8>d||15<d||0>b||9<b||0>f||f>R)return n(a,K);8===d&&(d=9);var h=new y;return a.state=h,h.strm=a,h.wrap=g,h.gzhead=null,h.w_bits=d,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=e+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+J-1)/J),h.window=new C.Buf8(2*h.w_size),h.head=new C.Buf16(h.hash_size),h.prev=new C.Buf16(h.w_size),h.lit_bufsize=1<<e+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=
new C.Buf8(h.pending_buf_size),h.d_buf=h.lit_bufsize>>1,h.l_buf=3*h.lit_bufsize,h.level=b,h.strategy=f,h.method=c,F(a)}var m,C=g("../utils/common"),A=g("./trees"),D=g("./adler32"),O=g("./crc32"),H=g("./messages"),t=0,z=4,L=0,K=-2,V=-1,E=1,R=4,Y=2,x=8,w=9,B=286,aa=30,M=19,Z=2*B+1,P=15,J=3,I=258,T=I+J+1,Q=42,S=113,N=1,W=2,ba=3,X=4;g=function(a,b,c,d,e){this.good_length=a;this.max_lazy=b;this.nice_length=c;this.max_chain=d;this.func=e};m=[new g(0,0,0,0,function(a,d){var e=65535;for(e>a.pending_buf_size-
5&&(e=a.pending_buf_size-5);;){if(1>=a.lookahead){if(c(a),0===a.lookahead&&d===t)return N;if(0===a.lookahead)break}a.strstart+=a.lookahead;a.lookahead=0;var f=a.block_start+e;if((0===a.strstart||a.strstart>=f)&&(a.lookahead=a.strstart-f,a.strstart=f,b(a,!1),0===a.strm.avail_out)||a.strstart-a.block_start>=a.w_size-T&&(b(a,!1),0===a.strm.avail_out))return N}return a.insert=0,d===z?(b(a,!0),0===a.strm.avail_out?ba:X):(a.strstart>a.block_start&&b(a,!1),N)}),new g(4,4,8,4,h),new g(4,5,16,8,h),new g(4,
6,32,32,h),new g(4,4,16,16,k),new g(8,16,32,32,k),new g(8,16,128,128,k),new g(8,32,128,256,k),new g(32,128,258,1024,k),new g(32,258,258,4096,k)];l.deflateInit=function(a,b){return r(a,b,x,15,8,0)};l.deflateInit2=r;l.deflateReset=F;l.deflateResetKeep=G;l.deflateSetHeader=function(a,b){return a&&a.state?2!==a.state.wrap?K:(a.state.gzhead=b,L):K};l.deflate=function(d,g){var h,k,l,r;if(!d||!d.state||5<g||0>g)return d?n(d,K):K;if(k=d.state,!d.output||!d.input&&0!==d.avail_in||666===k.status&&g!==z)return n(d,
0===d.avail_out?-5:K);if(k.strm=d,h=k.last_flush,k.last_flush=g,k.status===Q)2===k.wrap?(d.adler=0,p(k,31),p(k,139),p(k,8),k.gzhead?(p(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),p(k,255&k.gzhead.time),p(k,k.gzhead.time>>8&255),p(k,k.gzhead.time>>16&255),p(k,k.gzhead.time>>24&255),p(k,9===k.level?2:2<=k.strategy||2>k.level?4:0),p(k,255&k.gzhead.os),k.gzhead.extra&&k.gzhead.extra.length&&(p(k,255&k.gzhead.extra.length),p(k,k.gzhead.extra.length>>
8&255)),k.gzhead.hcrc&&(d.adler=O(d.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=69):(p(k,0),p(k,0),p(k,0),p(k,0),p(k,0),p(k,9===k.level?2:2<=k.strategy||2>k.level?4:0),p(k,3),k.status=S)):(l=x+(k.w_bits-8<<4)<<8,r=-1,r=2<=k.strategy||2>k.level?0:6>k.level?1:6===k.level?2:3,l|=r<<6,0!==k.strstart&&(l|=32),k.status=S,a(k,l+(31-l%31)),0!==k.strstart&&(a(k,d.adler>>>16),a(k,65535&d.adler)),d.adler=1);if(69===k.status)if(k.gzhead.extra){for(l=k.pending;k.gzindex<(65535&k.gzhead.extra.length)&&
(k.pending!==k.pending_buf_size||(k.gzhead.hcrc&&k.pending>l&&(d.adler=O(d.adler,k.pending_buf,k.pending-l,l)),e(d),l=k.pending,k.pending!==k.pending_buf_size));)p(k,255&k.gzhead.extra[k.gzindex]),k.gzindex++;k.gzhead.hcrc&&k.pending>l&&(d.adler=O(d.adler,k.pending_buf,k.pending-l,l));k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=73)}else k.status=73;if(73===k.status)if(k.gzhead.name){l=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>l&&(d.adler=O(d.adler,k.pending_buf,
k.pending-l,l)),e(d),l=k.pending,k.pending===k.pending_buf_size)){r=1;break}r=k.gzindex<k.gzhead.name.length?255&k.gzhead.name.charCodeAt(k.gzindex++):0;p(k,r)}while(0!==r);k.gzhead.hcrc&&k.pending>l&&(d.adler=O(d.adler,k.pending_buf,k.pending-l,l));0===r&&(k.gzindex=0,k.status=91)}else k.status=91;if(91===k.status)if(k.gzhead.comment){l=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>l&&(d.adler=O(d.adler,k.pending_buf,k.pending-l,l)),e(d),l=k.pending,k.pending===k.pending_buf_size)){r=
1;break}r=k.gzindex<k.gzhead.comment.length?255&k.gzhead.comment.charCodeAt(k.gzindex++):0;p(k,r)}while(0!==r);k.gzhead.hcrc&&k.pending>l&&(d.adler=O(d.adler,k.pending_buf,k.pending-l,l));0===r&&(k.status=103)}else k.status=103;if(103===k.status&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&e(d),k.pending+2<=k.pending_buf_size&&(p(k,255&d.adler),p(k,d.adler>>8&255),d.adler=0,k.status=S)):k.status=S),0!==k.pending){if(e(d),0===d.avail_out)return k.last_flush=-1,L}else if(0===d.avail_in&&(g<<1)-
(4<g?9:0)<=(h<<1)-(4<h?9:0)&&g!==z)return n(d,-5);if(666===k.status&&0!==d.avail_in)return n(d,-5);if(0!==d.avail_in||0!==k.lookahead||g!==t&&666!==k.status){var q;if(2===k.strategy)a:{for(var w;;){if(0===k.lookahead&&(c(k),0===k.lookahead)){if(g===t){q=N;break a}break}if(k.match_length=0,w=A._tr_tally(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++,w&&(b(k,!1),0===k.strm.avail_out)){q=N;break a}}q=(k.insert=0,g===z?(b(k,!0),0===k.strm.avail_out?ba:X):k.last_lit&&(b(k,!1),0===k.strm.avail_out)?
N:W)}else if(3===k.strategy)a:{var H,y;for(w=k.window;;){if(k.lookahead<=I){if(c(k),k.lookahead<=I&&g===t){q=N;break a}if(0===k.lookahead)break}if(k.match_length=0,k.lookahead>=J&&0<k.strstart&&(y=k.strstart-1,H=w[y],H===w[++y]&&H===w[++y]&&H===w[++y])){for(h=k.strstart+I;H===w[++y]&&H===w[++y]&&H===w[++y]&&H===w[++y]&&H===w[++y]&&H===w[++y]&&H===w[++y]&&H===w[++y]&&h>y;);k.match_length=I-(h-y);k.match_length>k.lookahead&&(k.match_length=k.lookahead)}if(k.match_length>=J?(q=A._tr_tally(k,1,k.match_length-
J),k.lookahead-=k.match_length,k.strstart+=k.match_length,k.match_length=0):(q=A._tr_tally(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++),q&&(b(k,!1),0===k.strm.avail_out)){q=N;break a}}q=(k.insert=0,g===z?(b(k,!0),0===k.strm.avail_out?ba:X):k.last_lit&&(b(k,!1),0===k.strm.avail_out)?N:W)}else q=m[k.level].func(k,g);if((q===ba||q===X)&&(k.status=666),q===N||q===ba)return 0===d.avail_out&&(k.last_flush=-1),L;if(q===W&&(1===g?A._tr_align(k):5!==g&&(A._tr_stored_block(k,0,0,!1),3===g&&(f(k.head),
0===k.lookahead&&(k.strstart=0,k.block_start=0,k.insert=0))),e(d),0===d.avail_out))return k.last_flush=-1,L}return g!==z?L:0>=k.wrap?1:(2===k.wrap?(p(k,255&d.adler),p(k,d.adler>>8&255),p(k,d.adler>>16&255),p(k,d.adler>>24&255),p(k,255&d.total_in),p(k,d.total_in>>8&255),p(k,d.total_in>>16&255),p(k,d.total_in>>24&255)):(a(k,d.adler>>>16),a(k,65535&d.adler)),e(d),0<k.wrap&&(k.wrap=-k.wrap),0!==k.pending?L:1)};l.deflateEnd=function(a){var b;return a&&a.state?(b=a.state.status,b!==Q&&69!==b&&73!==b&&91!==
b&&103!==b&&b!==S&&666!==b?n(a,K):(a.state=null,b===S?n(a,-3):L)):K};l.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(g,q,l){q.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},{}],10:[function(g,q,l){q.exports=function(g,f){var e,b,l,a,d,c,h,k,q,G,F,r,m,C,A,D,O,H,t,z,L,K,V,E;e=g.state;b=g.next_in;V=g.input;l=
b+(g.avail_in-5);a=g.next_out;E=g.output;d=a-(f-g.avail_out);c=a+(g.avail_out-257);h=e.dmax;k=e.wsize;q=e.whave;G=e.wnext;F=e.window;r=e.hold;m=e.bits;C=e.lencode;A=e.distcode;D=(1<<e.lenbits)-1;O=(1<<e.distbits)-1;a:do b:for(15>m&&(r+=V[b++]<<m,m+=8,r+=V[b++]<<m,m+=8),H=C[r&D];;){if(t=H>>>24,r>>>=t,m-=t,t=H>>>16&255,0===t)E[a++]=65535&H;else{if(!(16&t)){if(0===(64&t)){H=C[(65535&H)+(r&(1<<t)-1)];continue b}if(32&t){e.mode=12;break a}g.msg="invalid literal/length code";e.mode=30;break a}z=65535&H;
(t&=15)&&(t>m&&(r+=V[b++]<<m,m+=8),z+=r&(1<<t)-1,r>>>=t,m-=t);15>m&&(r+=V[b++]<<m,m+=8,r+=V[b++]<<m,m+=8);H=A[r&O];c:for(;;){if(t=H>>>24,r>>>=t,m-=t,t=H>>>16&255,!(16&t)){if(0===(64&t)){H=A[(65535&H)+(r&(1<<t)-1)];continue c}g.msg="invalid distance code";e.mode=30;break a}if(L=65535&H,t&=15,t>m&&(r+=V[b++]<<m,m+=8,t>m&&(r+=V[b++]<<m,m+=8)),L+=r&(1<<t)-1,L>h){g.msg="invalid distance too far back";e.mode=30;break a}if(r>>>=t,m-=t,t=a-d,L>t){if(t=L-t,t>q&&e.sane){g.msg="invalid distance too far back";
e.mode=30;break a}if(H=0,K=F,0===G){if(H+=k-t,z>t){z-=t;do E[a++]=F[H++];while(--t);H=a-L;K=E}}else if(t>G){if(H+=k+G-t,t-=G,z>t){z-=t;do E[a++]=F[H++];while(--t);if(H=0,z>G){t=G;z-=t;do E[a++]=F[H++];while(--t);H=a-L;K=E}}}else if(H+=G-t,z>t){z-=t;do E[a++]=F[H++];while(--t);H=a-L;K=E}for(;2<z;)E[a++]=K[H++],E[a++]=K[H++],E[a++]=K[H++],z-=3;z&&(E[a++]=K[H++],1<z&&(E[a++]=K[H++]))}else{H=a-L;do E[a++]=E[H++],E[a++]=E[H++],E[a++]=E[H++],z-=3;while(2<z);z&&(E[a++]=E[H++],1<z&&(E[a++]=E[H++]))}break}}break}while(l>
b&&c>a);z=m>>3;b-=z;m-=z<<3;g.next_in=b;g.next_out=a;g.avail_in=l>b?5+(l-b):5-(b-l);g.avail_out=c>a?257+(c-a):257-(a-c);e.hold=r&(1<<m)-1;e.bits=m}},{}],11:[function(g,q,l){function n(a){return(a>>>24&255)+(a>>>8&65280)+((65280&a)<<8)+((255&a)<<24)}function f(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=
this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new h.Buf16(320);this.work=new h.Buf16(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function e(a){var b;return a&&a.state?(b=a.state,a.total_in=a.total_out=b.total=0,a.msg="",b.wrap&&(a.adler=1&b.wrap),b.mode=C,b.last=0,b.havedict=0,b.dmax=32768,b.head=null,b.hold=0,b.bits=0,b.lencode=b.lendyn=new h.Buf32(A),b.distcode=b.distdyn=new h.Buf32(D),b.sane=1,b.back=-1,r):
m}function b(a){var b;return a&&a.state?(b=a.state,b.wsize=0,b.whave=0,b.wnext=0,e(a)):m}function p(a,c){var d,e;return a&&a.state?(e=a.state,0>c?(d=0,c=-c):(d=(c>>4)+1,48>c&&(c&=15)),c&&(8>c||15<c)?m:(null!==e.window&&e.wbits!==c&&(e.window=null),e.wrap=d,e.wbits=c,b(a))):m}function a(a,b){var c,d;return a?(d=new f,a.state=d,d.window=null,c=p(a,b),c!==r&&(a.state=null),c):m}var d,c,h=g("../utils/common"),k=g("./adler32"),y=g("./crc32"),G=g("./inffast"),F=g("./inftrees"),r=0,m=-2,C=1,A=852,D=592,
O=!0;l.inflateReset=b;l.inflateReset2=p;l.inflateResetKeep=e;l.inflateInit=function(b){return a(b,15)};l.inflateInit2=a;l.inflate=function(a,b){var e,f,g,l,q,p,A,x,w,B,D,M,Z,P,J,I,T,Q,S,N,W,ba,X=0,U=new h.Buf8(4),da=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!a||!a.state||!a.output||!a.input&&0!==a.avail_in)return m;e=a.state;12===e.mode&&(e.mode=13);q=a.next_out;g=a.output;A=a.avail_out;l=a.next_in;f=a.input;p=a.avail_in;x=e.hold;w=e.bits;B=p;D=A;W=r;a:for(;;)switch(e.mode){case C:if(0===
e.wrap){e.mode=13;break}for(;16>w;){if(0===p)break a;p--;x+=f[l++]<<w;w+=8}if(2&e.wrap&&35615===x){e.check=0;U[0]=255&x;U[1]=x>>>8&255;e.check=y(e.check,U,2,0);w=x=0;e.mode=2;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&x)<<8)+(x>>8))%31){a.msg="incorrect header check";e.mode=30;break}if(8!==(15&x)){a.msg="unknown compression method";e.mode=30;break}if(x>>>=4,w-=4,N=(15&x)+8,0===e.wbits)e.wbits=N;else if(N>e.wbits){a.msg="invalid window size";e.mode=30;break}e.dmax=1<<N;a.adler=
e.check=1;e.mode=512&x?10:12;w=x=0;break;case 2:for(;16>w;){if(0===p)break a;p--;x+=f[l++]<<w;w+=8}if(e.flags=x,8!==(255&e.flags)){a.msg="unknown compression method";e.mode=30;break}if(57344&e.flags){a.msg="unknown header flags set";e.mode=30;break}e.head&&(e.head.text=x>>8&1);512&e.flags&&(U[0]=255&x,U[1]=x>>>8&255,e.check=y(e.check,U,2,0));w=x=0;e.mode=3;case 3:for(;32>w;){if(0===p)break a;p--;x+=f[l++]<<w;w+=8}e.head&&(e.head.time=x);512&e.flags&&(U[0]=255&x,U[1]=x>>>8&255,U[2]=x>>>16&255,U[3]=
x>>>24&255,e.check=y(e.check,U,4,0));w=x=0;e.mode=4;case 4:for(;16>w;){if(0===p)break a;p--;x+=f[l++]<<w;w+=8}e.head&&(e.head.xflags=255&x,e.head.os=x>>8);512&e.flags&&(U[0]=255&x,U[1]=x>>>8&255,e.check=y(e.check,U,2,0));w=x=0;e.mode=5;case 5:if(1024&e.flags){for(;16>w;){if(0===p)break a;p--;x+=f[l++]<<w;w+=8}e.length=x;e.head&&(e.head.extra_len=x);512&e.flags&&(U[0]=255&x,U[1]=x>>>8&255,e.check=y(e.check,U,2,0));w=x=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(1024&e.flags&&(M=e.length,
M>p&&(M=p),M&&(e.head&&(N=e.head.extra_len-e.length,e.head.extra||(e.head.extra=Array(e.head.extra_len)),h.arraySet(e.head.extra,f,l,M,N)),512&e.flags&&(e.check=y(e.check,f,M,l)),p-=M,l+=M,e.length-=M),e.length))break a;e.length=0;e.mode=7;case 7:if(2048&e.flags){if(0===p)break a;M=0;do N=f[l+M++],e.head&&N&&65536>e.length&&(e.head.name+=String.fromCharCode(N));while(N&&p>M);if(512&e.flags&&(e.check=y(e.check,f,M,l)),p-=M,l+=M,N)break a}else e.head&&(e.head.name=null);e.length=0;e.mode=8;case 8:if(4096&
e.flags){if(0===p)break a;M=0;do N=f[l+M++],e.head&&N&&65536>e.length&&(e.head.comment+=String.fromCharCode(N));while(N&&p>M);if(512&e.flags&&(e.check=y(e.check,f,M,l)),p-=M,l+=M,N)break a}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(512&e.flags){for(;16>w;){if(0===p)break a;p--;x+=f[l++]<<w;w+=8}if(x!==(65535&e.check)){a.msg="header crc mismatch";e.mode=30;break}w=x=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0);a.adler=e.check=0;e.mode=12;break;case 10:for(;32>w;){if(0===p)break a;
p--;x+=f[l++]<<w;w+=8}a.adler=e.check=n(x);w=x=0;e.mode=11;case 11:if(0===e.havedict)return a.next_out=q,a.avail_out=A,a.next_in=l,a.avail_in=p,e.hold=x,e.bits=w,2;a.adler=e.check=1;e.mode=12;case 12:if(5===b||6===b)break a;case 13:if(e.last){x>>>=7&w;w-=7&w;e.mode=27;break}for(;3>w;){if(0===p)break a;p--;x+=f[l++]<<w;w+=8}switch(e.last=1&x,x>>>=1,--w,3&x){case 0:e.mode=14;break;case 1:P=e;if(O){I=void 0;d=new h.Buf32(512);c=new h.Buf32(32);for(I=0;144>I;)P.lens[I++]=8;for(;256>I;)P.lens[I++]=9;for(;280>
I;)P.lens[I++]=7;for(;288>I;)P.lens[I++]=8;F(1,P.lens,0,288,d,0,P.work,{bits:9});for(I=0;32>I;)P.lens[I++]=5;F(2,P.lens,0,32,c,0,P.work,{bits:5});O=!1}P.lencode=d;P.lenbits=9;P.distcode=c;P.distbits=5;if(e.mode=20,6===b){x>>>=2;w-=2;break a}break;case 2:e.mode=17;break;case 3:a.msg="invalid block type",e.mode=30}x>>>=2;w-=2;break;case 14:x>>>=7&w;for(w-=7&w;32>w;){if(0===p)break a;p--;x+=f[l++]<<w;w+=8}if((65535&x)!==(x>>>16^65535)){a.msg="invalid stored block lengths";e.mode=30;break}if(e.length=
65535&x,x=0,w=0,e.mode=15,6===b)break a;case 15:e.mode=16;case 16:if(M=e.length){if(M>p&&(M=p),M>A&&(M=A),0===M)break a;h.arraySet(g,f,l,M,q);p-=M;l+=M;A-=M;q+=M;e.length-=M;break}e.mode=12;break;case 17:for(;14>w;){if(0===p)break a;p--;x+=f[l++]<<w;w+=8}if(e.nlen=(31&x)+257,x>>>=5,w-=5,e.ndist=(31&x)+1,x>>>=5,w-=5,e.ncode=(15&x)+4,x>>>=4,w-=4,286<e.nlen||30<e.ndist){a.msg="too many length or distance symbols";e.mode=30;break}e.have=0;e.mode=18;case 18:for(;e.have<e.ncode;){for(;3>w;){if(0===p)break a;
p--;x+=f[l++]<<w;w+=8}e.lens[da[e.have++]]=7&x;x>>>=3;w-=3}for(;19>e.have;)e.lens[da[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,ba={bits:e.lenbits},W=F(0,e.lens,0,19,e.lencode,0,e.work,ba),e.lenbits=ba.bits,W){a.msg="invalid code lengths set";e.mode=30;break}e.have=0;e.mode=19;case 19:for(;e.have<e.nlen+e.ndist;){for(;X=e.lencode[x&(1<<e.lenbits)-1],J=X>>>24,I=65535&X,!(w>=J);){if(0===p)break a;p--;x+=f[l++]<<w;w+=8}if(16>I)x>>>=J,w-=J,e.lens[e.have++]=I;else{if(16===I){for(P=J+2;P>w;){if(0===
p)break a;p--;x+=f[l++]<<w;w+=8}if(x>>>=J,w-=J,0===e.have){a.msg="invalid bit length repeat";e.mode=30;break}N=e.lens[e.have-1];M=3+(3&x);x>>>=2;w-=2}else if(17===I){for(P=J+3;P>w;){if(0===p)break a;p--;x+=f[l++]<<w;w+=8}x>>>=J;w-=J;N=0;M=3+(7&x);x>>>=3;w-=3}else{for(P=J+7;P>w;){if(0===p)break a;p--;x+=f[l++]<<w;w+=8}x>>>=J;w-=J;N=0;M=11+(127&x);x>>>=7;w-=7}if(e.have+M>e.nlen+e.ndist){a.msg="invalid bit length repeat";e.mode=30;break}for(;M--;)e.lens[e.have++]=N}}if(30===e.mode)break;if(0===e.lens[256]){a.msg=
"invalid code -- missing end-of-block";e.mode=30;break}if(e.lenbits=9,ba={bits:e.lenbits},W=F(1,e.lens,0,e.nlen,e.lencode,0,e.work,ba),e.lenbits=ba.bits,W){a.msg="invalid literal/lengths set";e.mode=30;break}if(e.distbits=6,e.distcode=e.distdyn,ba={bits:e.distbits},W=F(2,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,ba),e.distbits=ba.bits,W){a.msg="invalid distances set";e.mode=30;break}if(e.mode=20,6===b)break a;case 20:e.mode=21;case 21:if(6<=p&&258<=A){a.next_out=q;a.avail_out=A;a.next_in=l;a.avail_in=
p;e.hold=x;e.bits=w;G(a,D);q=a.next_out;g=a.output;A=a.avail_out;l=a.next_in;f=a.input;p=a.avail_in;x=e.hold;w=e.bits;12===e.mode&&(e.back=-1);break}for(e.back=0;X=e.lencode[x&(1<<e.lenbits)-1],J=X>>>24,P=X>>>16&255,I=65535&X,!(w>=J);){if(0===p)break a;p--;x+=f[l++]<<w;w+=8}if(P&&0===(240&P)){T=J;Q=P;for(S=I;X=e.lencode[S+((x&(1<<T+Q)-1)>>T)],J=X>>>24,P=X>>>16&255,I=65535&X,!(w>=T+J);){if(0===p)break a;p--;x+=f[l++]<<w;w+=8}x>>>=T;w-=T;e.back+=T}if(x>>>=J,w-=J,e.back+=J,e.length=I,0===P){e.mode=26;
break}if(32&P){e.back=-1;e.mode=12;break}if(64&P){a.msg="invalid literal/length code";e.mode=30;break}e.extra=15&P;e.mode=22;case 22:if(e.extra){for(P=e.extra;P>w;){if(0===p)break a;p--;x+=f[l++]<<w;w+=8}e.length+=x&(1<<e.extra)-1;x>>>=e.extra;w-=e.extra;e.back+=e.extra}e.was=e.length;e.mode=23;case 23:for(;X=e.distcode[x&(1<<e.distbits)-1],J=X>>>24,P=X>>>16&255,I=65535&X,!(w>=J);){if(0===p)break a;p--;x+=f[l++]<<w;w+=8}if(0===(240&P)){T=J;Q=P;for(S=I;X=e.distcode[S+((x&(1<<T+Q)-1)>>T)],J=X>>>24,
P=X>>>16&255,I=65535&X,!(w>=T+J);){if(0===p)break a;p--;x+=f[l++]<<w;w+=8}x>>>=T;w-=T;e.back+=T}if(x>>>=J,w-=J,e.back+=J,64&P){a.msg="invalid distance code";e.mode=30;break}e.offset=I;e.extra=15&P;e.mode=24;case 24:if(e.extra){for(P=e.extra;P>w;){if(0===p)break a;p--;x+=f[l++]<<w;w+=8}e.offset+=x&(1<<e.extra)-1;x>>>=e.extra;w-=e.extra;e.back+=e.extra}if(e.offset>e.dmax){a.msg="invalid distance too far back";e.mode=30;break}e.mode=25;case 25:if(0===A)break a;if(M=D-A,e.offset>M){if(M=e.offset-M,M>
e.whave&&e.sane){a.msg="invalid distance too far back";e.mode=30;break}M>e.wnext?(M-=e.wnext,Z=e.wsize-M):Z=e.wnext-M;M>e.length&&(M=e.length);P=e.window}else P=g,Z=q-e.offset,M=e.length;M>A&&(M=A);A-=M;e.length-=M;do g[q++]=P[Z++];while(--M);0===e.length&&(e.mode=21);break;case 26:if(0===A)break a;g[q++]=e.length;A--;e.mode=21;break;case 27:if(e.wrap){for(;32>w;){if(0===p)break a;p--;x|=f[l++]<<w;w+=8}if(D-=A,a.total_out+=D,e.total+=D,D&&(a.adler=e.check=e.flags?y(e.check,g,D,q-D):k(e.check,g,D,
q-D)),D=A,(e.flags?x:n(x))!==e.check){a.msg="incorrect data check";e.mode=30;break}w=x=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;32>w;){if(0===p)break a;p--;x+=f[l++]<<w;w+=8}if(x!==(4294967295&e.total)){a.msg="incorrect length check";e.mode=30;break}w=x=0}e.mode=29;case 29:W=1;break a;case 30:W=-3;break a;case 31:return-4;default:return m}a.next_out=q;a.avail_out=A;a.next_in=l;a.avail_in=p;e.hold=x;e.bits=w;if(l=e.wsize||D!==a.avail_out&&30>e.mode&&(27>e.mode||4!==b)){l=a.output;q=a.next_out;
f=D-a.avail_out;var ca;p=a.state;l=(null===p.window&&(p.wsize=1<<p.wbits,p.wnext=0,p.whave=0,p.window=new h.Buf8(p.wsize)),f>=p.wsize?(h.arraySet(p.window,l,q-p.wsize,p.wsize,0),p.wnext=0,p.whave=p.wsize):(ca=p.wsize-p.wnext,ca>f&&(ca=f),h.arraySet(p.window,l,q-f,ca,p.wnext),f-=ca,f?(h.arraySet(p.window,l,q-f,f,0),p.wnext=f,p.whave=p.wsize):(p.wnext+=ca,p.wnext===p.wsize&&(p.wnext=0),p.whave<p.wsize&&(p.whave+=ca))),0)}return l?(e.mode=31,-4):(B-=a.avail_in,D-=a.avail_out,a.total_in+=B,a.total_out+=
D,e.total+=D,e.wrap&&D&&(a.adler=e.check=e.flags?y(e.check,g,D,a.next_out-D):k(e.check,g,D,a.next_out-D)),a.data_type=e.bits+(e.last?64:0)+(12===e.mode?128:0)+(20===e.mode||15===e.mode?256:0),(0===B&&0===D||4===b)&&W===r&&(W=-5),W)};l.inflateEnd=function(a){if(!a||!a.state)return m;var b=a.state;return b.window&&(b.window=null),a.state=null,r};l.inflateGetHeader=function(a,b){var c;return a&&a.state?(c=a.state,0===(2&c.wrap)?m:(c.head=b,b.done=!1,r)):m};l.inflateInfo="pako inflate (from Nodeca project)"},
{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(g,q,l){var n=g("../utils/common"),f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],e=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],b=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,
25,25,26,26,27,27,28,28,29,29,64,64];q.exports=function(a,d,c,g,k,l,q,F){var r,m,C,A,D,O,H,t;A=F.bits;for(var z=0,L=0,K=0,V=0,E=0,R=0,Y=0,x=r=0,w=0,B=null,aa=0,M=new n.Buf16(16),R=new n.Buf16(16),Z=null,P=0,z=0;15>=z;z++)M[z]=0;for(L=0;g>L;L++)M[d[c+L]]++;E=A;for(V=15;1<=V&&0===M[V];V--);if(E>V&&(E=V),0===V)return k[l++]=20971520,k[l++]=20971520,F.bits=1,0;for(K=1;V>K&&0===M[K];K++);K>E&&(E=K);for(z=r=1;15>=z;z++)if(r<<=1,r-=M[z],0>r)return-1;if(0<r&&(0===a||1!==V))return-1;R[1]=0;for(z=1;15>z;z++)R[z+
1]=R[z]+M[z];for(L=0;g>L;L++)0!==d[c+L]&&(q[R[d[c+L]]++]=L);if(0===a?(B=Z=q,D=19):1===a?(B=f,aa-=257,Z=e,P-=257,D=256):(B=b,Z=p,D=-1),w=0,L=0,z=K,A=l,R=E,Y=0,C=-1,x=1<<E,g=x-1,1===a&&852<x||2===a&&592<x)return 1;for(var J=0;;){J++;O=z-Y;q[L]<D?(H=0,t=q[L]):q[L]>D?(H=Z[P+q[L]],t=B[aa+q[L]]):(H=96,t=0);r=1<<z-Y;K=m=1<<R;do m-=r,k[A+(w>>Y)+m]=O<<24|H<<16|t|0;while(0!==m);for(r=1<<z-1;w&r;)r>>=1;if(0!==r?(w&=r-1,w+=r):w=0,L++,0===--M[z]){if(z===V)break;z=d[c+q[L]]}if(z>E&&(w&g)!==C){0===Y&&(Y=E);A+=K;
R=z-Y;for(r=1<<R;V>R+Y&&(r-=M[R+Y],!(0>=r));)R++,r<<=1;if(x+=1<<R,1===a&&852<x||2===a&&592<x)return 1;C=w&g;k[C]=E<<24|R<<16|A-l|0}}return 0!==w&&(k[A+w]=z-Y<<24|4194304),F.bits=E,0}},{"../utils/common":3}],13:[function(g,q,l){q.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(g,q,l){function n(a){for(var b=a.length;0<=--b;)a[b]=0}function f(a,b){a.pending_buf[a.pending++]=
255&b;a.pending_buf[a.pending++]=b>>>8&255}function e(a,b,c){a.bi_valid>R-c?(a.bi_buf|=b<<a.bi_valid&65535,f(a,a.bi_buf),a.bi_buf=b>>R-a.bi_valid,a.bi_valid+=c-R):(a.bi_buf|=b<<a.bi_valid&65535,a.bi_valid+=c)}function b(a,b,c){e(a,c[2*b],c[2*b+1])}function p(a,b){var c=0;do c|=1&a,a>>>=1,c<<=1;while(0<--b);return c>>>1}function a(a,b,c){var d,e=Array(E+1),f=0;for(d=1;E>=d;d++)e[d]=f=f+c[d-1]<<1;for(c=0;b>=c;c++)d=a[2*c+1],0!==d&&(a[2*c]=p(e[d]++,d))}function d(a){var b;for(b=0;z>b;b++)a.dyn_ltree[2*
b]=0;for(b=0;L>b;b++)a.dyn_dtree[2*b]=0;for(b=0;K>b;b++)a.bl_tree[2*b]=0;a.dyn_ltree[2*Y]=1;a.opt_len=a.static_len=0;a.last_lit=a.matches=0}function c(a){8<a.bi_valid?f(a,a.bi_buf):0<a.bi_valid&&(a.pending_buf[a.pending++]=a.bi_buf);a.bi_buf=0;a.bi_valid=0}function h(a,b,c,d){var e=2*b,f=2*c;return a[e]<a[f]||a[e]===a[f]&&d[b]<=d[c]}function k(a,b,c){for(var d=a.heap[c],e=c<<1;e<=a.heap_len&&(e<a.heap_len&&h(b,a.heap[e+1],a.heap[e],a.depth)&&e++,!h(b,d,a.heap[e],a.depth));)a.heap[c]=a.heap[e],c=e,
e<<=1;a.heap[c]=d}function y(a,c,d){var f,g,h,k,l=0;if(0!==a.last_lit){do f=a.pending_buf[a.d_buf+2*l]<<8|a.pending_buf[a.d_buf+2*l+1],g=a.pending_buf[a.l_buf+l],l++,0===f?b(a,g,c):(h=Q[g],b(a,h+t+1,c),k=aa[h],0!==k&&(g-=S[h],e(a,g,k)),f--,h=256>f?T[f]:T[256+(f>>>7)],b(a,h,d),k=M[h],0!==k&&(f-=N[h],e(a,f,k)));while(l<a.last_lit)}b(a,Y,c)}function G(b,c){var d,e,f,g=c.dyn_tree;e=c.stat_desc.static_tree;var h=c.stat_desc.has_stree,l=c.stat_desc.elems,m=-1;b.heap_len=0;b.heap_max=V;for(d=0;l>d;d++)0!==
g[2*d]?(b.heap[++b.heap_len]=m=d,b.depth[d]=0):g[2*d+1]=0;for(;2>b.heap_len;)f=b.heap[++b.heap_len]=2>m?++m:0,g[2*f]=1,b.depth[f]=0,b.opt_len--,h&&(b.static_len-=e[2*f+1]);c.max_code=m;for(d=b.heap_len>>1;1<=d;d--)k(b,g,d);f=l;do d=b.heap[1],b.heap[1]=b.heap[b.heap_len--],k(b,g,1),e=b.heap[1],b.heap[--b.heap_max]=d,b.heap[--b.heap_max]=e,g[2*f]=g[2*d]+g[2*e],b.depth[f]=(b.depth[d]>=b.depth[e]?b.depth[d]:b.depth[e])+1,g[2*d+1]=g[2*e+1]=f,b.heap[1]=f++,k(b,g,1);while(2<=b.heap_len);b.heap[--b.heap_max]=
b.heap[1];var n,p,h=c.dyn_tree,l=c.max_code,q=c.stat_desc.static_tree,r=c.stat_desc.has_stree,t=c.stat_desc.extra_bits,w=c.stat_desc.extra_base,x=c.stat_desc.max_length,y=0;for(e=0;E>=e;e++)b.bl_count[e]=0;h[2*b.heap[b.heap_max]+1]=0;for(d=b.heap_max+1;V>d;d++)f=b.heap[d],e=h[2*h[2*f+1]+1]+1,e>x&&(e=x,y++),h[2*f+1]=e,f>l||(b.bl_count[e]++,n=0,f>=w&&(n=t[f-w]),p=h[2*f],b.opt_len+=p*(e+n),r&&(b.static_len+=p*(q[2*f+1]+n)));if(0!==y){do{for(e=x-1;0===b.bl_count[e];)e--;b.bl_count[e]--;b.bl_count[e+1]+=
2;b.bl_count[x]--;y-=2}while(0<y);for(e=x;0!==e;e--)for(f=b.bl_count[e];0!==f;)n=b.heap[--d],n>l||(h[2*n+1]!==e&&(b.opt_len+=(e-h[2*n+1])*h[2*n],h[2*n+1]=e),f--)}a(g,m,b.bl_count)}function F(a,b,c){var d,e,f=-1,g=b[1],h=0,k=7,l=4;0===g&&(k=138,l=3);b[2*(c+1)+1]=65535;for(d=0;c>=d;d++)e=g,g=b[2*(d+1)+1],++h<k&&e===g||(l>h?a.bl_tree[2*e]+=h:0!==e?(e!==f&&a.bl_tree[2*e]++,a.bl_tree[2*x]++):10>=h?a.bl_tree[2*w]++:a.bl_tree[2*B]++,h=0,f=e,0===g?(k=138,l=3):e===g?(k=6,l=3):(k=7,l=4))}function r(a,c,d){var f,
g,h=-1,k=c[1],l=0,m=7,n=4;0===k&&(m=138,n=3);for(f=0;d>=f;f++)if(g=k,k=c[2*(f+1)+1],!(++l<m&&g===k)){if(n>l){do b(a,g,a.bl_tree);while(0!==--l)}else 0!==g?(g!==h&&(b(a,g,a.bl_tree),l--),b(a,x,a.bl_tree),e(a,l-3,2)):10>=l?(b(a,w,a.bl_tree),e(a,l-3,3)):(b(a,B,a.bl_tree),e(a,l-11,7));l=0;h=g;0===k?(m=138,n=3):g===k?(m=6,n=3):(m=7,n=4)}}function m(a){var b,c=4093624447;for(b=0;31>=b;b++,c>>>=1)if(1&c&&0!==a.dyn_ltree[2*b])return D;if(0!==a.dyn_ltree[18]||0!==a.dyn_ltree[20]||0!==a.dyn_ltree[26])return O;
for(b=32;t>b;b++)if(0!==a.dyn_ltree[2*b])return O;return D}function C(a,b,d,g){e(a,(H<<1)+(g?1:0),3);c(a);f(a,d);f(a,~d);A.arraySet(a.pending_buf,a.window,b,d,a.pending);a.pending+=d}var A=g("../utils/common"),D=0,O=1,H=0,t=256,z=t+1+29,L=30,K=19,V=2*z+1,E=15,R=16,Y=256,x=16,w=17,B=18,aa=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,
2,14,1,15],J=Array(2*(z+2));n(J);var I=Array(2*L);n(I);var T=Array(512);n(T);var Q=Array(256);n(Q);var S=Array(29);n(S);var N=Array(L);n(N);var W,ba,X,U=function(a,b,c,d,e){this.static_tree=a;this.extra_bits=b;this.extra_base=c;this.elems=d;this.max_length=e;this.has_stree=a&&a.length},da=function(a,b){this.dyn_tree=a;this.max_code=0;this.stat_desc=b},ca=!1;l._tr_init=function(b){if(!ca){var c,e,f,g=Array(E+1);for(f=e=0;28>f;f++)for(S[f]=e,c=0;c<1<<aa[f];c++)Q[e++]=f;Q[e-1]=f;for(f=e=0;16>f;f++)for(N[f]=
e,c=0;c<1<<M[f];c++)T[e++]=f;for(e>>=7;L>f;f++)for(N[f]=e<<7,c=0;c<1<<M[f]-7;c++)T[256+e++]=f;for(c=0;E>=c;c++)g[c]=0;for(c=0;143>=c;)J[2*c+1]=8,c++,g[8]++;for(;255>=c;)J[2*c+1]=9,c++,g[9]++;for(;279>=c;)J[2*c+1]=7,c++,g[7]++;for(;287>=c;)J[2*c+1]=8,c++,g[8]++;a(J,z+1,g);for(c=0;L>c;c++)I[2*c+1]=5,I[2*c]=p(c,5);W=new U(J,aa,t+1,z,E);ba=new U(I,M,0,L,E);X=new U([],Z,0,K,7);ca=!0}b.l_desc=new da(b.dyn_ltree,W);b.d_desc=new da(b.dyn_dtree,ba);b.bl_desc=new da(b.bl_tree,X);b.bi_buf=0;b.bi_valid=0;d(b)};
l._tr_stored_block=C;l._tr_flush_block=function(a,b,f,g){var h,k,l=0;if(0<a.level){2===a.strm.data_type&&(a.strm.data_type=m(a));G(a,a.l_desc);G(a,a.d_desc);F(a,a.dyn_ltree,a.l_desc.max_code);F(a,a.dyn_dtree,a.d_desc.max_code);G(a,a.bl_desc);for(l=K-1;3<=l&&0===a.bl_tree[2*P[l]+1];l--);l=(a.opt_len+=3*(l+1)+14,l);h=a.opt_len+3+7>>>3;k=a.static_len+3+7>>>3;h>=k&&(h=k)}else h=k=f+5;if(h>=f+4&&-1!==b)C(a,b,f,g);else if(4===a.strategy||k===h)e(a,2+(g?1:0),3),y(a,J,I);else{e(a,4+(g?1:0),3);b=a.l_desc.max_code+
1;f=a.d_desc.max_code+1;l+=1;e(a,b-257,5);e(a,f-1,5);e(a,l-4,4);for(h=0;l>h;h++)e(a,a.bl_tree[2*P[h]+1],3);r(a,a.dyn_ltree,b-1);r(a,a.dyn_dtree,f-1);y(a,a.dyn_ltree,a.dyn_dtree)}d(a);g&&c(a)};l._tr_tally=function(a,b,c){return a.pending_buf[a.d_buf+2*a.last_lit]=b>>>8&255,a.pending_buf[a.d_buf+2*a.last_lit+1]=255&b,a.pending_buf[a.l_buf+a.last_lit]=255&c,a.last_lit++,0===b?a.dyn_ltree[2*c]++:(a.matches++,b--,a.dyn_ltree[2*(Q[c]+t+1)]++,a.dyn_dtree[2*(256>b?T[b]:T[256+(b>>>7)])]++),a.last_lit===a.lit_bufsize-
1};l._tr_align=function(a){e(a,2,3);b(a,Y,J);16===a.bi_valid?(f(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):8<=a.bi_valid&&(a.pending_buf[a.pending++]=255&a.bi_buf,a.bi_buf>>=8,a.bi_valid-=8)}},{"../utils/common":3}],15:[function(g,q,l){q.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}},{}],"/":[function(g,q,l){l=g("./lib/utils/common").assign;var n=g("./lib/deflate"),
f=g("./lib/inflate");g=g("./lib/zlib/constants");var e={};l(e,n,f,g);q.exports=e},{"./lib/deflate":1,"./lib/inflate":2,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/")});!function(u){u.fn.selectOrDie=function(g){var q,l,n={customID:null,customClass:"",placeholder:null,placeholderOption:!1,prefix:null,cycle:!1,stripEmpty:!1,links:!1,linksExternal:!1,size:0,tabIndex:0,onChange:u.noop},f={},e=!1,b={initSoD:function(a){return f=u.extend({},n,a),this.each(function(){if(u(this).parent().hasClass("sod_select"))console.log("Select or Die: It looks like the SoD already exists");else{var a,c,e,g=u(this);c=g.data("custom-id")?g.data("custom-id"):f.customID;var l=g.data("custom-class")?
g.data("custom-class"):f.customClass,n=g.data("prefix")?g.data("prefix"):f.prefix,p=g.data("placeholder")?g.data("placeholder"):f.placeholder,q=g.data("placeholder-option")?g.data("placeholder-option"):f.placeholderOption,m=g.data("cycle")?g.data("cycle"):f.cycle,C=g.data("links")?g.data("links"):f.links,A=g.data("links-external")?g.data("links-external"):f.linksExternal,D=parseInt(g.data("size"))?g.data("size"):f.size,O=parseInt(g.data("tabindex"))?g.data("tabindex"):f.tabIndex?f.tabIndex:g.attr("tabindex")?
g.attr("tabindex"):f.tabIndex,H=g.data("strip-empty")?g.data("strip-empty"):f.stripEmpty,t=g.prop("title")?g.prop("title"):null,z=g.is(":disabled")?" disabled":"",L="",K=0;n&&(L='<span class="sod_prefix">'+n+"</span> ");a=u("<span/>",{id:c,"class":"sod_select "+l+z,title:t,tabindex:O,html:""+(p&&!n?'<span class="sod_label sod_placeholder">'+p+"</span>":'<span class="sod_label">'+L+"</span>"),"data-cycle":m,"data-links":C,"data-links-external":A,"data-placeholder":p,"data-placeholder-option":q,"data-prefix":n,
"data-filter":""}).insertAfter(this);b.isTouch()&&a.addClass("touch");c=u("<span/>",{"class":"sod_list_wrapper"}).appendTo(a);e=u("<span/>",{"class":"sod_list"}).appendTo(c);u("option, optgroup",g).each(function(c){var f=u(this);H&&!u.trim(f.text())?f.remove():0===c&&q&&!L?b.populateSoD(f,e,a,!0):b.populateSoD(f,e,a,!1)});D&&(c.show(),u(".sod_option:lt("+D+")",e).each(function(){K+=u(this).outerHeight()}),c.removeAttr("style"),e.css({"max-height":K}));g.appendTo(a);a.on("focusin",b.focusSod).on("click",
b.triggerSod).on("click",".sod_option",b.optionClick).on("mousemove",".sod_option",b.optionHover).on("keydown",b.keyboardUse);g.on("change",b.selectChange);u(document).on("click","label[for='"+g.attr("id")+"']",function(b){b.preventDefault();a.focus()})}})},populateSoD:function(a,b,c,e){var f=c.data("placeholder"),g=c.data("placeholder-option"),l=c.data("prefix"),n=c.find(".sod_label"),p=a.parent(),m=a.text(),q=a.val(),A=a.data("custom-id")?a.data("custom-id"):null,D=a.data("custom-class")?a.data("custom-class"):
"",O=a.is(":disabled")?" disabled ":"",H=a.is(":selected")?" selected active ":"",t=a.data("link")?" link ":"",z=a.data("link-external")?" linkexternal":"",L=a.prop("label");a.is("option")?(u("<span/>",{"class":"sod_option "+D+O+H+t+z,id:A,title:m,html:m,"data-value":q}).appendTo(b),e&&!l?(c.data("label",m),c.data("placeholder",m),a.prop("disabled",!0),b.find(".sod_option:last").addClass("is-placeholder disabled"),H&&n.addClass("sod_placeholder")):H&&f&&!g&&!l?c.data("label",f):H&&c.data("label",
m),(H&&!f||H&&g||H&&l)&&n.append(m),p.is("optgroup")&&(b.find(".sod_option:last").addClass("groupchild"),p.is(":disabled")&&b.find(".sod_option:last").addClass("disabled"))):u("<span/>",{"class":"sod_option optgroup "+O,title:L,html:L,"data-label":L}).appendTo(b)},focusSod:function(){var a=u(this);a.hasClass("disabled")?b.blurSod(a):(b.blurSod(u(".sod_select.focus").not(a)),a.addClass("focus"),u("html").on("click.sodBlur",function(){b.blurSod(a)}))},triggerSod:function(a){a.stopPropagation();a=u(this);
var d=a.find(".sod_list"),c=a.data("placeholder"),e=a.find(".active"),f=a.find(".selected");a.hasClass("disabled")||a.hasClass("open")||a.hasClass("touch")?(clearTimeout(l),a.removeClass("open"),c&&(a.find(".sod_label").get(0).lastChild.nodeValue=e.text())):(a.addClass("open"),c&&!a.data("prefix")&&a.find(".sod_label").addClass("sod_placeholder").html(c),b.listScroll(d,f),b.checkViewport(a,d))},keyboardUse:function(a){var d,c,f,g=u(this),l=g.find(".sod_list"),n=g.find(".sod_option"),p=g.find(".sod_label"),
r=g.data("cycle"),m=n.filter(".active");return 36<a.which&&41>a.which?(37===a.which||38===a.which?(c=m.prevAll(":not('.disabled, .optgroup')").first(),f=n.not(".disabled, .optgroup").last()):(39===a.which||40===a.which)&&(c=m.nextAll(":not('.disabled, .optgroup')").first(),f=n.not(".disabled, .optgroup").first()),!c.hasClass("sod_option")&&r&&(c=f),(c.hasClass("sod_option")||r)&&(m.removeClass("active"),c.addClass("active"),p.get(0).lastChild.nodeValue=c.text(),b.listScroll(l,c),g.hasClass("open")||
(e=!0)),!1):(13===a.which||32===a.which&&g.hasClass("open")&&(" "===g.data("filter")[0]||""===g.data("filter"))?(a.preventDefault(),m.click()):32!==a.which||g.hasClass("open")||" "!==g.data("filter")[0]&&""!==g.data("filter")?27===a.which&&b.blurSod(g):(a.preventDefault(),e=!1,g.click()),0!==a.which&&(clearTimeout(q),g.data("filter",g.data("filter")+String.fromCharCode(a.which)),d=n.filter(function(){return 0===u(this).text().toLowerCase().indexOf(g.data("filter").toLowerCase())}).not(".disabled, .optgroup").first(),
d.length&&(m.removeClass("active"),d.addClass("active"),b.listScroll(l,d),p.get(0).lastChild.nodeValue=d.text(),g.hasClass("open")||(e=!0)),q=setTimeout(function(){g.data("filter","")},500)),void 0)},optionHover:function(){var a=u(this);a.hasClass("disabled")||a.hasClass("optgroup")||a.siblings().removeClass("active").end().addClass("active")},optionClick:function(a){a.stopPropagation();a=u(this);var b=a.closest(".sod_select"),c=a.hasClass("disabled"),e=a.hasClass("optgroup"),f=b.find(".sod_option:not('.optgroup')").index(this);
b.hasClass("touch")||(c||e||(b.find(".selected, .sod_placeholder").removeClass("selected sod_placeholder"),a.addClass("selected"),b.find("select option")[f].selected=!0,b.find("select").change()),clearTimeout(l),b.removeClass("open"))},selectChange:function(){var a=u(this),b=a.find(":selected"),c=b.text(),a=a.closest(".sod_select");a.find(".sod_label").get(0).lastChild.nodeValue=c;a.data("label",c);f.onChange.call(this);!a.data("links")&&!b.data("link")||b.data("link-external")?(a.data("links-external")||
b.data("link-external"))&&window.open(b.val(),"_blank"):window.location.href=b.val()},blurSod:function(a){if(u("body").find(a).length){var b=a.data("label"),c=a.data("placeholder"),f=a.find(".active"),g=a.find(".selected"),n=!1;clearTimeout(l);e&&!f.hasClass("selected")?(f.click(),n=!0):f.hasClass("selected")||(f.removeClass("active"),g.addClass("active"));!n&&c?a.find(".sod_label").get(0).lastChild.nodeValue=g.text():n||(a.find(".sod_label").get(0).lastChild.nodeValue=b);e=!1;a.removeClass("open focus");
a.blur();u("html").off(".sodBlur")}},checkViewport:function(a,d){var c=a[0].getBoundingClientRect(),e=d.outerHeight();c.bottom+e+10>u(window).height()&&10<c.top-e?a.addClass("above"):a.removeClass("above");l=setTimeout(function(){b.checkViewport(a,d)},200)},listScroll:function(a,b){var c=a[0].getBoundingClientRect(),e=b[0].getBoundingClientRect();c.top>e.top?a.scrollTop(a.scrollTop()-c.top+e.top):c.bottom<e.bottom&&a.scrollTop(a.scrollTop()-c.bottom+e.bottom)},isTouch:function(){return"ontouchstart"in
window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints}},p={destroy:function(){return this.each(function(){var a=u(this),b=a.parent();b.hasClass("sod_select")?(a.off("change"),b.find("span").remove(),a.unwrap()):console.log("Select or Die: There's no SoD to destroy")})},update:function(){return this.each(function(){var a=u(this),d=a.parent(),c=d.find(".sod_list:first");d.hasClass("sod_select")?(c.empty(),d.find(".sod_label").get(0).lastChild.nodeValue="",a.is(":disabled")&&d.addClass("disabled"),
u("option, optgroup",a).each(function(){b.populateSoD(u(this),c,d)})):console.log("Select or Die: There's no SoD to update")})},disable:function(a){return this.each(function(){var b=u(this),c=b.parent();c.hasClass("sod_select")?"undefined"!=typeof a?(c.find(".sod_list:first .sod_option[data-value='"+a+"']").addClass("disabled"),c.find(".sod_list:first .sod_option[data-label='"+a+"']").nextUntil(":not(.groupchild)").addClass("disabled"),u("option[value='"+a+"'], optgroup[label='"+a+"']",this).prop("disabled",
!0)):c.hasClass("sod_select")&&(c.addClass("disabled"),b.prop("disabled",!0)):console.log("Select or Die: There's no SoD to disable")})},enable:function(a){return this.each(function(){var b=u(this),c=b.parent();c.hasClass("sod_select")?"undefined"!=typeof a?(c.find(".sod_list:first .sod_option[data-value='"+a+"']").removeClass("disabled"),c.find(".sod_list:first .sod_option[data-label='"+a+"']").nextUntil(":not(.groupchild)").removeClass("disabled"),u("option[value='"+a+"'], optgroup[label='"+a+"']",
this).prop("disabled",!1)):c.hasClass("sod_select")&&(c.removeClass("disabled"),b.prop("disabled",!1)):console.log("Select or Die: There's no SoD to enable")})}};return p[g]?p[g].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof g&&g?(u.error('Select or Die: Oh no! No such method "'+g+'" for the SoD instance'),void 0):b.initSoD.apply(this,arguments)}}(jQuery);
